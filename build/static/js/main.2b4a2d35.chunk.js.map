{"version":3,"sources":["components/defaults/Flex.js","components/Firebase/context.js","components/Firebase/withFirebase.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Firebase/SignOutButton.js","components/Firebase/Session/context.js","components/Firebase/Session/withAuthentication.js","components/Firebase/Session/withAuthorization.js","components/Firebase/Session/withAuthUser.js","components/StyledTitle.js","globalStyles.js","components/Navigation.js","serviceWorker.js","components/defaults/Input.js","components/defaults/Buttons.js","hooks.js","utils.js","firebase-db.js","components/defaults/Loader.js","components/Firebase/SignUp.js","components/Firebase/SignInGoogle.js","components/Firebase/SignInFacebook.js","components/Firebase/SignIn.js","reducers.js","components/defaults/Select.js","constants.js","components/ActivityForm.js","routes/WeeksPlan.js","components/defaults/Text.js","components/defaults/DotLineDelimeter.js","components/WorkoutItem.js","components/WorkoutPlanItem.js","components/WeekInfo.js","components/WorkoutForm.js","components/AddWorkoutTitle.js","components/WorkoutWeek.js","routes/Weeks.js","routes/WeekDetail.js","components/ScrollToTop.js","routes/Stats.js","stats-utils.js","components/Firebase/PasswordForget.js","routes/NotFound.js","routes/Home.js","router.js","index.js"],"names":["FlexRow","styled","div","_templateObject","FlexColumn","_templateObject2","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","context","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignInWithFacebook","facebookProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","doc","concat","users","collection","week","weeks","app","initializeApp","firestore","enablePersistence","catch","err","code","console","log","GoogleAuthProvider","FacebookAuthProvider","ButtonWrapper","button","SignOutButton_templateObject","Icon","img","SignOutButton_templateObject2","_ref","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","window","location","reload","stop","apply","arguments","type","onClick","src","alt","AuthUserContext","withAuthentication","_useState","useState","_useState2","slicedToArray","authUser","setAuthUser","_useState3","_useState4","isUserLoaded","setIsUserLoaded","useEffect","listener","onAuthStateChanged","Session_context","Provider","value","withAuthorization","withRouter","history","push","withAuthUser","StyledLink","Link","StyledTitle_templateObject","TitleWrapper","StyledTitle_templateObject2","TitleWithIcon","_templateObject3","TextWrapper","_templateObject4","_ref3","Title","h1","_templateObject5","_templateObject6","_ref4","to","StyledTitle_Icon","Firebase_SignOutButton","GlobalStyles","createGlobalStyle","globalStyles_templateObject","NavWrapper","Navigation_templateObject","Wrapper","Navigation_templateObject2","sticky","NavLink","Navigation_templateObject3","isactive","Navigation_templateObject4","pathname","isSticky","setIsSticky","onscroll","e","scrollY","includes","Navigation_Icon","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","Input_templateObject","inputWidth","Label","label","Input_templateObject2","Input","input","Input_templateObject3","unit","InputUnitWrapper","Input_templateObject4","Unit","span","Input_templateObject5","defaults_Input","onChange","name","other","objectWithoutProperties","Input_Wrapper","primaryStyle","css","Buttons_templateObject","PrimaryButton","Buttons_templateObject2","PrimaryLink","Buttons_templateObject3","Buttons_templateObject4","useSubmitForm","callback","inputs","setInputs","setError","resetInputs","keys","forEach","key","_objectSpread","defineProperty","handleSubmit","event","preventDefault","handleInputChange","persist","target","getNextWeekNumber","startOfYear","moment","startOf","add","diff","getCurrentWeekNumber","getNextWeekFromToDates","from_date","unix","to_date","endOf","getCurrentWeekFromToDates","countWeekProgress","activities","workouts","weekProgressPercentages","map","activity","seconds","distance","workout","minutes","hoursProgressPercentage","distanceProgressPercentage","Math","round","betterProgress","length","totalProgress","reduce","total","percentage","toFixed","getUpdatedActivities","activityWorkouts","filter","w","toLowerCase","totalWorkoutSeconds","totalWorkoutDistance","parseInt","isFulfilled","progressMinutesMissing","progressDistanceMissing","utils_objectSpread","isCurrentWeek","formatDate","format","getIconFromWorkoutType","getFulfilledWorkoutIcon","formatHours","hours","formatDistance","getWeekDayFromNumber","dayNumber","shouldShowDistance","types","current","t","hideDistance","doSaveUser","set","Loader","Loader_templateObject","SignUpWrapper","SignUp_templateObject","SignUp_templateObject2","Form","form","SignUp_templateObject3","StyledPrimaryButton","SignUp_templateObject4","ErrorMessage","p","SignUp_templateObject5","SignUpPage","isSubmitted","setIsSubmitted","_useSubmitForm","message","isInvalid","confirmPassword","SignUp_Title","onSubmit","placeholder","disabled","SignInGoogle_templateObject","SignInGoogle_templateObject2","Image","SignInGoogle_templateObject3","Text","SignInGoogle_templateObject4","SignInGoogle","SignInGoogle_Wrapper","SignInGoogle_StyledPrimaryButton","socialAuthUser","displayName","SignInFacebook_templateObject","SignInFacebook_templateObject2","SignInFacebook_templateObject3","SignInFacebook","SignInFacebook_Wrapper","SignInFacebook_StyledPrimaryButton","additionalUserInfo","profile","SignInFacebook_Image","DelimeterWrapper","SignIn_templateObject","DelimeterText","SignIn_templateObject2","DelimeterLine","SignIn_templateObject3","RegisterLinkWrapper","SignIn_templateObject4","SignIn_templateObject5","ForgotPassword","SignIn_templateObject6","SignInPage","Firebase_SignInGoogle","Firebase_SignInFacebook","required","SignIn_StyledLink","activitiesReducer","newValue","valueType","toConsumableArray","_","index","i","reducers_objectSpread","StyledSelect","select","Select_templateObject","Select_templateObject2","StyledOption","option","Select_templateObject3","Select","options","Select_Wrapper","workoutTypes","ActivityForm_templateObject","TitleRemoveWrapper","ActivityForm_templateObject2","InputsWrapper","ActivityForm_templateObject3","HoursDistanceWrapper","ActivityForm_templateObject4","ActivityTitle","h3","ActivityForm_templateObject5","RemoveActivityButton","ActivityForm_templateObject6","ActivityForm","dispatchActivities","activityNumber","showDistance","ActivityForm_Wrapper","defaults_Select","defaultValue","StyledTitle","h2","WeeksPlan_templateObject","PlusIcon","WeeksPlan_templateObject2","AddActivity","WeeksPlan_templateObject3","SavePlanButton","WeeksPlan_templateObject4","_location$state","isNextWeek","weekActivities","weekId","_useReducer","useReducer","_useReducer2","saveNextWeekAndRedirect","undefined","correctActivities","v","firebase_db_objectSpread","parseFloat","toString","replace","updatedActivities","progressFulfilled","user_id","doSaveWeeksPlan","WeeksPlan_StyledTitle","components_ActivityForm","Text_templateObject","WeekDelimeter","DotLineDelimeter_templateObject","TopDot","DotLineDelimeter_templateObject2","BottomDot","DotLineDelimeter_templateObject3","Line","DotLineDelimeter_templateObject4","last","DotLineDelimeter","WorkoutItem_templateObject","WeekWrapper","WorkoutItem_templateObject2","WorkoutIcon","WorkoutItem_templateObject3","InfoWrapper","WorkoutItem_templateObject4","Type","WorkoutItem_templateObject5","Distance","WorkoutItem_templateObject6","TopRow","_templateObject7","BottomRow","_templateObject8","DayInWeekWrapper","_templateObject9","DayInWeek","_templateObject10","DeleteIcon","_templateObject11","WorkoutItem","first","lastDay","isCurrent","deleteWorkout","day","formattedSeconds","formatSeconds","dayName","isoWeekday","slice","WorkoutItem_Wrapper","defaults_DotLineDelimeter","WorkoutPlanItem_templateObject","PlanWrapper","WorkoutPlanItem_templateObject2","WorkoutPlanItem_templateObject3","FullfilledIcon","WorkoutPlanItem_templateObject4","MiddleSection","WorkoutPlanItem_templateObject5","WorkoutPlanItem_templateObject6","Duration","WorkoutPlanItem_templateObject7","Date","WorkoutPlanItem_templateObject8","Delimeter","WorkoutPlanItem_templateObject9","WorkoutPlanItem_templateObject10","MissingStatsWrapper","WorkoutPlanItem_templateObject11","MissingWrapper","_templateObject12","EmptySpace","_templateObject13","Missing","_templateObject14","MissingText","_templateObject15","WorkoutPlanItem","missingMinutes","missingDistance","Fragment","WorkoutPlanItem_Wrapper","WorkoutPlanItem_WorkoutIcon","WorkoutPlanItem_Type","WorkoutPlanItem_BottomRow","WorkoutPlanItem_Date","WeekInfo_templateObject","ishidden","color","WeekProgress","WeekInfo_templateObject2","progress","_ref5","NamePercentageWrapper","WeekInfo_templateObject3","Name","WeekInfo_templateObject4","ProgressPercentage","WeekInfo_templateObject5","_ref6","WeekInfoRow","WeekInfo_templateObject6","ContentWrapper","WeekInfo_templateObject7","DateInfo","WeekInfo_templateObject8","DateDelimeter","WeekInfo_templateObject9","DateWrapper","WeekInfo_templateObject10","WeekInfo","_ref7","id","isHidden","WeekInfo_Wrapper","WorkoutForm_templateObject","MinutesSecondsWrapper","WorkoutForm_templateObject2","WorkoutForm","saveWorkout","setWorkout","daysOptions","dayInWeek","date","getCurrentWeekDays","WorkoutForm_Wrapper","WorkoutForm_objectSpread","AddWorkoutTitle_templateObject","noMarginBottom","CurrentWeeksTitleWrapper","AddWorkoutTitle_templateObject2","CurrentWeeksTitle","AddWorkoutTitle_templateObject3","PlusIconWrapper","AddWorkoutTitle_templateObject4","AddWorkoutTitle_templateObject5","_ref2$noMarginBottom","title","isWorkoutFormVisible","setIsWorkoutFormVisible","showButton","AddWorkoutTitle_Wrapper","AddWorkoutTitle_PlusIcon","components_WorkoutForm","correctWorkout","newWorkout","updatedWorkouts","updatedWeek","doSaveWorkout","WorkoutWeek_templateObject","WorkoutWeek_templateObject2","WorkoutWeek_templateObject3","WorkoutWeek_templateObject4","WorkoutWeek_templateObject5","WorkoutWeek_templateObject6","RightArrowIcon","WorkoutWeek_templateObject7","WorkoutWeek_templateObject8","WorkoutWeek_templateObject9","WorkoutWeek_templateObject10","WorkoutWeek","dispatchAppState","WorkoutWeek_Wrapper","WorkoutWeek_WeekProgress","WorkoutWeek_WeekInfo","WorkoutWeek_NamePercentageWrapper","WorkoutWeek_Name","WorkoutWeek_ProgressPercentage","WorkoutWeek_DateWrapper","WorkoutWeek_DateInfo","WorkoutWeek_DateDelimeter","NewWorkoutLink","Weeks_templateObject","WeeksWrapper","Weeks_templateObject2","WeeksTitle","Weeks_templateObject3","NextWeeksTitle","Weeks_templateObject4","LoadMoreButton","Weeks_templateObject5","DownIcon","Weeks_templateObject6","NoResultsFound","Weeks_templateObject7","previousWeeksOffset","setPreviousWeeksOffset","_useCollectionOnce","useCollectionOnce","where","limit","_useCollectionOnce2","nextWeekFirebase","_useCollection","useCollection","_useCollection2","currentWeekFirebase","loadingCurrentWeek","_useCollectionOnce3","_useCollectionOnce4","previousWeeksFirebase","loadingPreviousWeeks","currentWeek","docs","Weeks_objectSpread","data","nextWeek","canCreateNextWeek","previousWeeks","d","showMoreButton","components_AddWorkoutTitle","components_WorkoutWeek","WeekDetail_templateObject","WorkoutPlanTitle","WeekDetail_templateObject2","EditWeekWrapper","WeekDetail_templateObject3","ActivitiesWrapper","WeekDetail_templateObject4","Note","TextareaAutosize","WeekDetail_templateObject5","NoteLabel","WeekDetail_templateObject6","addToast","useToasts","note","setNote","params","weekDoc","loading","WeekDetail_objectSpread","currentDay","sortedWorkouts","sort","b","deleteWorkoutFromWeek","newWeek","doRemoveWorkout","WeekDetail_Wrapper","components_WeekInfo","minRows","onBlur","doSaveCurrentWeeksNote","appearance","autoDismiss","components_WorkoutPlanItem","previousDay","nextWorkout","components_WorkoutItem","children","action","scrollTo","top","left","behavior","TitleAll","Stats_templateObject","ProgressWrapper","Stats_templateObject2","CircleProgressWrapper","Stats_templateObject3","StatsWrapper","Stats_templateObject4","Stats_templateObject5","TotalWrapper","Stats_templateObject6","Value","Stats_templateObject7","Stats_templateObject8","ValueWrapper","Stats_templateObject9","NavItems","Stats_templateObject10","NavItem","Stats_templateObject11","active","tab","setTab","setActivity","weeksDoc","Stats_objectSpread","_getTotalHoursAndDist","totalSeconds","totalDistance","totalHours","getTotalHoursAndDistance","_getTotalPlannedHours","totalPlannedSeconds","totalPlannedDistance","totalPlannedHours","getTotalPlannedHoursAndDistance","_getTotalStatsForSpor","sport","sportWorkouts","sportActivities","getTotalStatsForSports","totalSportHours","totalSportDistance","totalSportPlannedHours","totalSportPlannedDistance","react_circular_progressbar_dist_index_esm","text","background","styles","buildStyles","textColor","pathColor","trailColor","textSize","pathTransitionDuration","backgroundColor","Stats_Title","Stats_Type","PasswordForgetPage","BackHomeLink","NotFound_templateObject","NotFound","Home_templateObject","Home_templateObject2","Features","ol","Home_templateObject3","MainText","Home_templateObject4","FeaturesTitle","Home_templateObject5","react_router","Home_Wrapper","Home_BackHomeLink","router_templateObject","Routes","components_ScrollToTop","router_Wrapper","path","exact","component","routes_Home","routes_Weeks","SignIn","SignUp","PasswordForget","routes_WeeksPlan","routes_WeekDetail","routes_Stats","WithAuthApp","globalStyles","components_StyledTitle","components_Navigation","router","rootElement","document","getElementById","ReactDOM","render","dist","placement","react_router_dom","URL","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.2b4a2d35.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const FlexRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: row wrap;\r\n`;\r\n\r\nexport const FlexColumn = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n`;\r\n","import React from \"react\";\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport default FirebaseContext;\r\n","import React from \"react\";\nimport FirebaseContext from \"./context\";\n\nconst withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default withFirebase;\n","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    app\r\n      .firestore()\r\n      .enablePersistence()\r\n      .catch(function(err) {\r\n        if (err.code == \"failed-precondition\") {\r\n          // Multiple tabs open, persistence can only be enabled\r\n          // in one tab at a a time.\r\n          console.log(\"Enabling cache persistence failed - multiple tabs open\");\r\n        } else if (err.code == \"unimplemented\") {\r\n          // The current browser does not support all of the\r\n          // features required to enable persistence\r\n          console.log(\r\n            \"Enabling cache persistence failed - not supported by browser\"\r\n          );\r\n        }\r\n      });\r\n    this.auth = app.auth();\r\n    this.db = app.firestore();\r\n\r\n    this.googleProvider = new app.auth.GoogleAuthProvider();\r\n    this.facebookProvider = new app.auth.FacebookAuthProvider();\r\n  }\r\n\r\n  // AUTH API\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithGoogle = () => this.auth.signInWithPopup(this.googleProvider);\r\n\r\n  doSignInWithFacebook = () => this.auth.signInWithPopup(this.facebookProvider);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n  // USER API\r\n  user = uid => this.db.doc(`users/${uid}`);\r\n\r\n  users = () => this.db.collection(\"users\");\r\n\r\n  // WEEKS API\r\n  week = uid => this.db.doc(`weeks/${uid}`);\r\n\r\n  weeks = () => this.db.collection(\"weeks\");\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext from \"./context\";\r\nimport withFirebase from \"./withFirebase\";\r\nimport Firebase from \"./firebase\";\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };\r\n","import React from \"react\";\r\nimport { withFirebase } from \".\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonWrapper = styled.button`\r\n  display: flex;\r\n  flex-flow: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  border: 0;\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n`;\r\n\r\nfunction SignOutButton({ firebase }) {\r\n  const signOut = async () => {\r\n    await firebase.doSignOut();\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <ButtonWrapper type=\"button\" onClick={signOut}>\r\n      <Icon src=\"/icons/sign-out.svg\" alt=\"sign-out\" />\r\n    </ButtonWrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(SignOutButton);\r\n","import React from \"react\";\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AuthUserContext from \"./context\";\nimport { withFirebase } from \"../index\";\n\nfunction withAuthentication(Component) {\n  WithAuthentication.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthentication(props) {\n    const { firebase } = props;\n    const [authUser, setAuthUser] = useState(null);\n    const [isUserLoaded, setIsUserLoaded] = useState(false);\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        authUser ? setAuthUser(authUser) : setAuthUser(null);\n        setIsUserLoaded(true);\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Provider value={authUser}>\n        <Component isUserLoaded={isUserLoaded} {...props} />\n      </AuthUserContext.Provider>\n    );\n  }\n\n  return withFirebase(WithAuthentication);\n}\n\nexport default withAuthentication;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport { withFirebase } from \"../index\";\nimport { AuthUserContext } from \".\";\n\nfunction withAuthorization(Component) {\n  WithAuthorization.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    }),\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthorization(props) {\n    const { firebase, history } = props;\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        if (!authUser) {\n          history.push(\"/sign-in\");\n        }\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Consumer>\n        {authUser => (authUser ? <Component {...props} /> : null)}\n      </AuthUserContext.Consumer>\n    );\n  }\n\n  return withFirebase(withRouter(WithAuthorization));\n}\n\nexport default withAuthorization;\n","import React from \"react\";\nimport { AuthUserContext } from \".\";\n\nconst withAuthUser = Component => props => (\n  <AuthUserContext.Consumer>\n    {authUser => <Component {...props} authUser={authUser} />}\n  </AuthUserContext.Consumer>\n);\n\nexport default withAuthUser;\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport SignOutButton from \"./Firebase/SignOutButton\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst TitleWrapper = styled.div`\r\n  background-color: #ffd873;\r\n  width: 100%;\r\n`;\r\n\r\nconst TitleWithIcon = styled.div`\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: ${({ authUser }) => (authUser ? \"row\" : \"column\")};\r\n  justify-content: space-around;\r\n  padding-bottom: 8px;\r\n  padding-top: ${({ authUser }) => (authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst TextWrapper = styled(FlexRow)`\r\n  margin-top: ${({ authUser }) => (!authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.8em;\r\n  text-align: center;\r\n  color: #444444;\r\n  margin: 0;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-right: 10px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nfunction StyledTitle({ authUser }) {\r\n  return (\r\n    <StyledLink to={authUser ? \"/weeks\" : \"/\"}>\r\n      <TitleWrapper>\r\n        <TitleWithIcon authUser={authUser}>\r\n          <TextWrapper authUser={authUser}>\r\n            <Icon src=\"/icons/fitness.svg\" />\r\n            <Title>gymmie</Title>\r\n          </TextWrapper>\r\n          {/* <TitleText>track your workouts with ease</TitleText> */}\r\n          {authUser && <SignOutButton />}\r\n        </TitleWithIcon>\r\n      </TitleWrapper>\r\n    </StyledLink>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(StyledTitle);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n  html {\r\n    transition: all 0.2s ease 0s;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: 'Lato', sans-serif;\r\n    font-size: 16px;\r\n    color: #444444;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n  }\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6 {\r\n    font-family: 'Rubik', sans-serif;\r\n  }\r\n  select.form-control,\r\n  textarea.form-control,\r\n  input.form-control {\r\n    font-size: 16px;\r\n  }\r\n  input[type='file'] {\r\n    width: 100%;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: #444444;\r\n    \r\n    &:hover {\r\n      /* opacity: 0.7; */\r\n    }\r\n  }\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst NavWrapper = styled.div`\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  max-width: 400px;\r\n  margin-top: -1px;\r\n  margin-bottom: 8px;\r\n  justify-content: space-around;\r\n  margin: 0 auto;\r\n\r\n  z-index: 15;\r\n  position: sticky;\r\n  top: ${({ sticky }) => (sticky ? 0 : \"initial\")};\r\n  transition: top 2500s linear;\r\n  top: 0;\r\n  padding: 16px 0;\r\n`;\r\n\r\nconst NavLink = styled(Link)`\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: #444444;\r\n  opacity: ${({ isactive }) => (isactive ? 1 : 0.5)};\r\n  font-weight: ${({ isactive }) => (isactive ? 700 : 400)};\r\n  display: flex;\r\n  flex-flow: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nfunction Navigation({ location: { pathname }, authUser }) {\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.onscroll = e => {\r\n      if (window.scrollY > 100) {\r\n        if (!isSticky) {\r\n          setIsSticky(true);\r\n        }\r\n      } else {\r\n        if (isSticky) {\r\n          setIsSticky(false);\r\n        }\r\n      }\r\n    };\r\n  });\r\n\r\n  return (\r\n    <NavWrapper>\r\n      {authUser && (\r\n        <Wrapper sticky={isSticky}>\r\n          <NavLink\r\n            isactive={pathname === \"/\" || pathname.includes(\"week\") ? 1 : 0}\r\n            to=\"/weeks\"\r\n          >\r\n            <Icon alt=\"calendar-icon\" src=\"/icons/calendar.svg\" />\r\n            <span>Weeks</span>\r\n          </NavLink>\r\n          <NavLink isactive={pathname === \"/stats\" ? 1 : 0} to=\"/stats\">\r\n            <Icon alt=\"stats-icon\" src=\"/icons/stats.svg\" />\r\n            <span>Stats</span>\r\n          </NavLink>\r\n        </Wrapper>\r\n      )}\r\n    </NavWrapper>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withRouter(Navigation));\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexRow } from \"./Flex\";\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-bottom: 8px;\r\n  margin-left: 4px;\r\n  font-weight: 700;\r\n  color: #444444;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  padding: 4px 16px 0;\r\n  height: 45px;\r\n  background-color: #f7f7f7;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1rem;\r\n  width: 100%;\r\n  padding-right: ${({ unit }) => (unit ? \"43px\" : \"16px\")};\r\n\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n\r\n  &::-webkit-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &:-ms-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: #ccc;\r\n  }\r\n`;\r\n\r\nconst InputUnitWrapper = styled(FlexRow)`\r\n  flex-flow: row;\r\n  width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst Unit = styled.span`\r\n  right: 16px;\r\n  position: absolute;\r\n`;\r\n\r\nexport default ({\r\n  label,\r\n  onChange,\r\n  type,\r\n  name,\r\n  value,\r\n  inputWidth,\r\n  unit,\r\n  ...other\r\n}) => (\r\n  <Wrapper inputWidth={inputWidth}>\r\n    <Label>{label}</Label>\r\n    <InputUnitWrapper>\r\n      <Input\r\n        onChange={onChange}\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        unit={unit}\r\n        {...other}\r\n      />\r\n      {unit && <Unit>{unit}</Unit>}\r\n    </InputUnitWrapper>\r\n  </Wrapper>\r\n);\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst primaryStyle = css`\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  max-width: 400px;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1.2rem;\r\n  padding: 16px 12px 12px;\r\n  background-color: #ffd873;\r\n  border-radius: 16px;\r\n  font-weight: 700;\r\n  border: 0;\r\n\r\n  &:disabled {\r\n    opacity: 0.3;\r\n    cursor: initial;\r\n  }\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n  &:disabled:hover {\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nexport const PrimaryButton = styled.button`\r\n  ${primaryStyle};\r\n  width: 100%;\r\n`;\r\n\r\nexport const SecondaryButton = styled(PrimaryButton)``;\r\n\r\nexport const PrimaryLink = styled(Link)`\r\n  ${primaryStyle};\r\n  text-decoration: none;\r\n`;\r\n","import { useState } from \"react\";\r\n\r\nexport const useSubmitForm = callback => {\r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState(null);\r\n\r\n  const resetInputs = () => {\r\n    Object.keys(inputs).forEach(key => {\r\n      setInputs(inputs => ({\r\n        ...inputs,\r\n        [key]: \"\"\r\n      }));\r\n    });\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    callback();\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    event.persist();\r\n    setInputs(inputs => ({\r\n      ...inputs,\r\n      [event.target.name]: event.target.value\r\n    }));\r\n  };\r\n\r\n  return {\r\n    resetInputs,\r\n    handleSubmit,\r\n    handleInputChange,\r\n    inputs,\r\n    error,\r\n    setError\r\n  };\r\n};\r\n","import moment from \"moment\";\r\n\r\nexport function getNextWeekNumber() {\r\n  const startOfYear = moment().startOf(\"year\");\r\n  return moment()\r\n    .add(7, \"days\")\r\n    .diff(startOfYear, \"week\");\r\n}\r\n\r\nexport function getCurrentWeekNumber() {\r\n  const startOfYear = moment().startOf(\"year\");\r\n  return moment().diff(startOfYear, \"week\");\r\n}\r\n\r\nexport function getNextWeekFromToDates() {\r\n  const from_date = moment()\r\n    .add(7, \"days\")\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .add(7, \"days\")\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function getCurrentWeekFromToDates() {\r\n  const from_date = moment()\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function isWeekNextWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date ===\r\n      moment()\r\n        .add(7, \"days\")\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function countWeekProgress({ activities, workouts }) {\r\n  const weekProgressPercentages = [];\r\n\r\n  activities.map(activity => {\r\n    let seconds = 0;\r\n    let distance = 0;\r\n\r\n    workouts &&\r\n      workouts.map(workout => {\r\n        if (workout.type === activity.type) {\r\n          seconds += workout.minutes * 60 + workout.seconds;\r\n          distance += workout.distance;\r\n        }\r\n        return workout;\r\n      });\r\n\r\n    const hoursProgressPercentage = (seconds / (activity.minutes * 60)) * 100;\r\n    const distanceProgressPercentage = Math.round(\r\n      (distance / activity.distance) * 100,\r\n      2\r\n    );\r\n    let betterProgress = hoursProgressPercentage;\r\n    if (\r\n      distance !== 0 &&\r\n      distanceProgressPercentage > hoursProgressPercentage\r\n    ) {\r\n      betterProgress = distanceProgressPercentage;\r\n    }\r\n\r\n    weekProgressPercentages.push(betterProgress);\r\n\r\n    return activities;\r\n  });\r\n\r\n  if (weekProgressPercentages.length > 0) {\r\n    const totalProgress = weekProgressPercentages.reduce(\r\n      (total, percentage) => total + percentage,\r\n      0\r\n    );\r\n    return Math.round(totalProgress / weekProgressPercentages.length).toFixed(\r\n      0\r\n    );\r\n  }\r\n\r\n  return \"0\";\r\n}\r\n\r\nexport function getUpdatedActivities(activities, workouts) {\r\n  return activities.map(activity => {\r\n    const activityWorkouts = workouts.filter(\r\n      w => w.type.toLowerCase() === activity.type.toLowerCase()\r\n    );\r\n    let totalWorkoutSeconds = 0;\r\n    let totalWorkoutDistance = 0;\r\n\r\n    activityWorkouts &&\r\n      activityWorkouts.forEach(workout => {\r\n        totalWorkoutSeconds +=\r\n          parseInt(workout.minutes, 10) * 60 + parseInt(workout.seconds, 10);\r\n        totalWorkoutDistance += parseInt(workout.distance, 10);\r\n      });\r\n\r\n    const isFulfilled =\r\n      activity.distance !== 0\r\n        ? totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60 ||\r\n          totalWorkoutDistance >= parseInt(activity.distance, 10)\r\n        : totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60;\r\n    const progressMinutesMissing = (\r\n      (parseInt(activity.minutes, 10) * 60 - totalWorkoutSeconds) /\r\n      60\r\n    ).toFixed(0);\r\n    const progressDistanceMissing =\r\n      parseInt(activity.distance, 10) - totalWorkoutDistance;\r\n\r\n    return {\r\n      ...activity,\r\n      isFulfilled,\r\n      progressMinutesMissing,\r\n      progressDistanceMissing\r\n    };\r\n  });\r\n}\r\n\r\nexport function isCurrentWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date &&\r\n    formatDate(week.from_date) ===\r\n      moment()\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function getIconFromWorkoutType(type) {\r\n  switch (type.toLowerCase()) {\r\n    case \"running\":\r\n      return \"/icons/running.svg\";\r\n\r\n    case \"biking\":\r\n      return \"/icons/biking.svg\";\r\n\r\n    case \"swimming\":\r\n      return \"/icons/swimming.svg\";\r\n\r\n    case \"gym\":\r\n      return \"/icons/fitness.svg\";\r\n\r\n    case \"other\":\r\n      return \"/icons/ball.svg\";\r\n\r\n    default:\r\n      return \"/icons/fitness.svg\";\r\n  }\r\n}\r\n\r\nexport function getFulfilledWorkoutIcon(isFulfilled) {\r\n  if (isFulfilled) {\r\n    return \"/icons/check.svg\";\r\n  }\r\n\r\n  return \"/icons/close.svg\";\r\n}\r\n\r\nexport function formatDate(unix) {\r\n  return moment.unix(unix).format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function formatHours(hours) {\r\n  return `${hours} minutes`;\r\n}\r\n\r\nexport function formatDistance(distance) {\r\n  return `${distance} km`;\r\n}\r\n\r\nexport function getCurrentWeekDays(week) {\r\n  const { from_date } = week;\r\n  const daysOptions = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    const next = moment.unix(from_date).add(i, \"day\");\r\n    const dayInWeek = getWeekDayFromNumber(next.isoWeekday());\r\n    const date = next.format(\"DD.MM.YYYY\");\r\n    daysOptions.push({ name: `${dayInWeek} - ${date}`, value: date });\r\n  }\r\n\r\n  return daysOptions;\r\n}\r\n\r\nexport function getWeekDayFromNumber(dayNumber) {\r\n  switch (dayNumber) {\r\n    case 1:\r\n      return \"Monday\";\r\n    case 2:\r\n      return \"Tuesday\";\r\n    case 3:\r\n      return \"Wednesday\";\r\n    case 4:\r\n      return \"Thursday\";\r\n    case 5:\r\n      return \"Friday\";\r\n    case 6:\r\n      return \"Saturday\";\r\n    case 7:\r\n      return \"Sunday\";\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nexport function getTodayDate() {\r\n  return moment().format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function canNextWeekBeCreated(weeks) {\r\n  let canCreateNextWeek = true;\r\n  const lastCreatedWeek = weeks[weeks.length - 1];\r\n  if (lastCreatedWeek) {\r\n    canCreateNextWeek = !isWeekNextWeek(lastCreatedWeek);\r\n  }\r\n\r\n  return canCreateNextWeek;\r\n}\r\n\r\nexport function getPreviousWeeks(weeks) {\r\n  const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n  const withoutNext = canCreateNextWeek\r\n    ? weeks\r\n    : weeks.slice(0, weeks.length - 1);\r\n\r\n  const hasCurrent = isCurrentWeek(withoutNext[withoutNext.length - 1]);\r\n  const withoutCurrentAndNext = hasCurrent\r\n    ? withoutNext.slice(0, withoutNext.length - 1)\r\n    : withoutNext;\r\n\r\n  return withoutCurrentAndNext;\r\n}\r\n\r\nexport function formatSeconds(seconds) {\r\n  return seconds.toString().length === 1 ? `0${seconds}` : seconds;\r\n}\r\n\r\nexport function shouldShowDistance(type, types) {\r\n  const current = types.filter(t => t.name === type)[0];\r\n  if (!current) {\r\n    return true;\r\n  }\r\n\r\n  return !current.hideDistance;\r\n}\r\n","import {\n  getNextWeekFromToDates,\n  getNextWeekNumber,\n  getUpdatedActivities,\n  countWeekProgress,\n  getCurrentWeekFromToDates,\n  getCurrentWeekNumber\n} from \"./utils\";\n\nexport function doSaveWeeksPlan(\n  firebase,\n  authUser,\n  workouts,\n  activities,\n  isNextWeek,\n  weekId = null\n) {\n  const { from_date, to_date } = isNextWeek\n    ? getNextWeekFromToDates()\n    : getCurrentWeekFromToDates();\n\n  const correctActivities =\n    activities &&\n    activities.map(v => ({\n      ...v,\n      minutes: parseInt(v.minutes, 10) || 0,\n      distance: parseFloat(v.distance.toString().replace(/,/g, \".\")) || 0\n    }));\n\n  if (!weekId) {\n    firebase\n      .weeks()\n      .doc()\n      .set({\n        name: `Week ${\n          isNextWeek ? getNextWeekNumber() : getCurrentWeekNumber()\n        }`,\n        from_date,\n        to_date,\n        progressFulfilled: \"0\",\n        user_id: authUser.uid,\n        activities: correctActivities,\n        workouts: []\n      });\n  } else {\n    let updatedActivities = correctActivities;\n    if (workouts && workouts.length > 0) {\n      updatedActivities = getUpdatedActivities(correctActivities, workouts);\n    }\n\n    const progressFulfilled = countWeekProgress({\n      workouts,\n      activities: updatedActivities\n    });\n\n    firebase\n      .weeks()\n      .doc(weekId)\n      .set({\n        name: `Week ${getNextWeekNumber()}`,\n        from_date,\n        to_date,\n        progressFulfilled:\n          workouts && workouts.length > 0 ? progressFulfilled : \"0\",\n        user_id: authUser.uid,\n        activities: updatedActivities,\n        workouts: workouts || []\n      });\n  }\n}\n\nexport function doSaveWorkout(firebase, authUser, week, workout) {\n  const correctWorkout = {\n    ...workout,\n    minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\n    seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\n    distance: workout.distance === \"\" ? \"0\" : workout.distance\n  };\n  const { minutes, seconds, distance } = correctWorkout;\n\n  const newWorkout = {\n    ...workout,\n    minutes: parseInt(minutes, 10),\n    seconds: parseInt(seconds, 10),\n    distance: parseFloat(distance.replace(/,/g, \".\")),\n    id: week.workouts.length + 1\n  };\n\n  const updatedWorkouts = [...week.workouts, newWorkout];\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n\n  const updatedWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const progressFulfilled = countWeekProgress({\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  });\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...week,\n      ...updatedWeek,\n      progressFulfilled\n    });\n}\n\nexport function doRemoveWorkout(firebase, authUser, week, index) {\n  const { workouts } = week;\n  const updatedWorkouts = [\n    ...workouts.slice(0, index),\n    ...workouts.slice(index + 1)\n  ];\n\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n  const newWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const newProgress = countWeekProgress({\n    activities: newWeek.activities,\n    workouts: newWeek.workouts\n  });\n  const updatedWeek = { ...newWeek, progressFulfilled: newProgress };\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...updatedWeek\n    });\n}\n\nexport function doSaveUser(firebase, authUser, { name, email }) {\n  try {\n    firebase\n      .users()\n      .doc(authUser.user.uid)\n      .set({\n        name,\n        email\n      });\n  } catch (e) {\n    console.log({ e });\n  }\n}\n\nexport function doSaveCurrentWeeksNote(firebase, authUser, week, note) {\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...week,\n      note\n    });\n}\n","import styled from \"styled-components\";\r\n\r\nexport const Loader = styled.div`\r\n  border: 5px solid #f3f3f3;\r\n  -webkit-animation: spin 1s linear infinite;\r\n  animation: spin 1s linear infinite;\r\n  border-top: 5px solid #555;\r\n  border-radius: 50%;\r\n  width: 12px;\r\n  height: 12px;\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport Input from \"../defaults/Input\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nconst SignUpWrapper = styled(FlexColumn)``;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 26px;\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Form = styled.form``;\r\n\r\nexport const StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  margin: 24px 0 8px;\r\n  color: #f78464;\r\n`;\r\n\r\nfunction SignUpForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { name, email, password } = inputs;\r\n    firebase\r\n      .doCreateUserWithEmailAndPassword(email, password)\r\n      .then(authUser => {\r\n        doSaveUser(firebase, authUser, { name, email });\r\n\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error.message);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    (!inputs.password ||\r\n      inputs.password === \"\" ||\r\n      !inputs.email ||\r\n      inputs.email === \"\" ||\r\n      !inputs.name ||\r\n      inputs.name === \"\" ||\r\n      !inputs.confirmPassword ||\r\n      inputs.password !== inputs.confirmPassword);\r\n\r\n  return (\r\n    <SignUpWrapper>\r\n      <Title>Sign up</Title>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"name\"\r\n          value={inputs.name}\r\n          onChange={handleInputChange}\r\n          type=\"text\"\r\n          placeholder=\"John Smith\"\r\n          label=\"Full name\"\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          placeholder=\"johnsmith@email.com\"\r\n          label=\"Email\"\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n        />\r\n        <Input\r\n          name=\"confirmPassword\"\r\n          value={inputs.confirmPassword}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Confirm password\"\r\n        />\r\n        {error && <ErrorMessage>Error: {error}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign Up\"}\r\n        </StyledPrimaryButton>\r\n      </Form>\r\n    </SignUpWrapper>\r\n  );\r\n}\r\n\r\nconst SignUpPage = withRouter(withFirebase(SignUpForm));\r\n\r\nexport default SignUpPage;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { withFirebase } from \".\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: white;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border: 1px solid #414141;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 30px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  margin: 0;\r\n  margin-top: 4px;\r\n`;\r\n\r\nfunction SignInGoogleForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithGoogle()\r\n      .then(socialAuthUser => {\r\n        doSaveUser(firebase, socialAuthUser, {\r\n          name: socialAuthUser.user.displayName,\r\n          email: socialAuthUser.user.email\r\n        });\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/google.svg\" />\r\n        <Text>Google</Text>\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInGoogle = withFirebase(withRouter(SignInGoogleForm));\r\n\r\nexport default SignInGoogle;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: #3b5998;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 150px;\r\n`;\r\n\r\nfunction SignInFacebookForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithFacebook()\r\n      .then(socialAuthUser => {\r\n        doSaveUser(firebase, socialAuthUser, {\r\n          name: socialAuthUser.additionalUserInfo.profile.name,\r\n          email: socialAuthUser.additionalUserInfo.profile.email\r\n        });\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/facebook.svg\" />\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInFacebook = withFirebase(withRouter(SignInFacebookForm));\r\n\r\nexport default SignInFacebook;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { FlexColumn, FlexRow } from \"../defaults/Flex\";\r\nimport { Title, StyledPrimaryButton, ErrorMessage } from \"./SignUp\";\r\nimport Input from \"../defaults/Input\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport SignInGoogle from \"./SignInGoogle\";\r\nimport SignInFacebook from \"./SignInFacebook\";\r\nimport styled from \"styled-components\";\r\nimport { withFirebase } from \".\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nSignInForm.propTypes = {\r\n  firebase: PropTypes.shape({\r\n    doSignInWithEmailAndPassword: PropTypes.func.isRequired\r\n  }),\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  })\r\n};\r\n\r\nconst DelimeterWrapper = styled(FlexRow)`\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst DelimeterText = styled.div`\r\n  flex: 0.5 auto;\r\n  color: gray;\r\n  text-align: center;\r\n`;\r\n\r\nconst DelimeterLine = styled.div`\r\n  background-color: lightgray;\r\n  height: 1px;\r\n  flex: 1 auto;\r\n`;\r\n\r\nconst RegisterLinkWrapper = styled.p`\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nconst ForgotPassword = styled(Link)`\r\n  margin: 16px 0;\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nfunction SignInForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { email, password } = inputs;\r\n    firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    !inputs.password ||\r\n    inputs.password === \"\" ||\r\n    !inputs.email ||\r\n    inputs.email === \"\";\r\n\r\n  return (\r\n    <FlexColumn>\r\n      <Title>Sign in to your account</Title>\r\n      <SignInGoogle />\r\n      <SignInFacebook />\r\n      <DelimeterWrapper>\r\n        <DelimeterLine />\r\n        <DelimeterText>or</DelimeterText>\r\n        <DelimeterLine />\r\n      </DelimeterWrapper>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          label=\"Email\"\r\n          required={true}\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          required={true}\r\n        />\r\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign In\"}\r\n        </StyledPrimaryButton>\r\n        <RegisterLinkWrapper>\r\n          {\"Don't have an account? \"}\r\n          <StyledLink to={\"/sign-up\"}>Sign Up</StyledLink>\r\n        </RegisterLinkWrapper>\r\n        <ForgotPassword to={\"/password-forget\"}>\r\n          Forgot your password?\r\n        </ForgotPassword>\r\n      </form>\r\n    </FlexColumn>\r\n  );\r\n}\r\n\r\nconst SignInPage = withFirebase(withRouter(SignInForm));\r\n\r\nexport default SignInPage;\r\n","import {\r\n  getNextWeekFromToDates,\r\n  getNextWeekNumber,\r\n  countWeekProgress,\r\n  getCurrentWeekFromToDates,\r\n  getCurrentWeekNumber,\r\n  canNextWeekBeCreated,\r\n  getUpdatedActivities\r\n} from \"./utils\";\r\n\r\nexport const appStateReducer = (appState, { type, value, id, workout }) => {\r\n  switch (type) {\r\n    case \"populateAppState\":\r\n      return value;\r\n\r\n    case \"deleteWorkout\": {\r\n      const { weeks } = appState;\r\n      const { from_date } = getCurrentWeekFromToDates();\r\n\r\n      const currentWeek = weeks.filter(w => w.from_date === from_date)[0];\r\n      const { workouts } = currentWeek;\r\n      const index = workouts.findIndex(w => w.id === id);\r\n      const updatedWorkouts = [\r\n        ...workouts.slice(0, index),\r\n        ...workouts.slice(index + 1)\r\n      ];\r\n\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === currentWeek.id) {\r\n          const updatedActivities = getUpdatedActivities(\r\n            week.activities,\r\n            updatedWorkouts\r\n          );\r\n          const newWeek = {\r\n            ...week,\r\n            workouts: updatedWorkouts,\r\n            activities: updatedActivities\r\n          };\r\n          const newProgress = countWeekProgress({\r\n            workouts: newWeek.workouts,\r\n            activities: newWeek.activities\r\n          });\r\n          return { ...newWeek, progressFulfilled: newProgress };\r\n        }\r\n        return week;\r\n      });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"saveCurrentWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getCurrentWeekFromToDates();\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const currentWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getCurrentWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n      let newState;\r\n      if (canCreateNextWeek) {\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeks, currentWeek]\r\n        };\r\n      } else {\r\n        const nextWeek = weeks[weeks.length - 1];\r\n        const weeksWithoutNext = weeks.slice(0, weeks.length - 1);\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeksWithoutNext, currentWeek, nextWeek]\r\n        };\r\n      }\r\n\r\n      // if (weeks[weeks.length - 1].from_date === from_date) {\r\n      //   const newWeeks = weeks;\r\n      //   newWeeks[newWeeks.length - 1] = currentWeek;\r\n      //   newState = {\r\n      //     ...appState,\r\n      //     weeks: newWeeks\r\n      //   };\r\n      // }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"saveNextWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getNextWeekFromToDates();\r\n\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const nextWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getNextWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      let newState = {\r\n        ...appState,\r\n        weeks: [...appState.weeks, nextWeek]\r\n      };\r\n\r\n      if (weeks[weeks.length - 1].from_date === from_date) {\r\n        const newWeeks = weeks;\r\n        newWeeks[newWeeks.length - 1] = nextWeek;\r\n        newState = {\r\n          ...appState,\r\n          weeks: newWeeks\r\n        };\r\n      }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"hideWeek\": {\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === value) {\r\n          return { ...week, isHidden: !week.isHidden };\r\n        }\r\n        return week;\r\n      });\r\n      return {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n    }\r\n\r\n    case \"addWorkout\": {\r\n      const { weeks } = appState;\r\n      const correctWorkout = {\r\n        ...workout,\r\n        minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\r\n        seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\r\n        distance: workout.distance === \"\" ? \"0\" : workout.distance\r\n      };\r\n      const { minutes, seconds, distance } = correctWorkout;\r\n      const updatedWeeks =\r\n        weeks &&\r\n        weeks.map(week => {\r\n          if (week.id === value) {\r\n            const newWorkout = {\r\n              ...workout,\r\n              minutes: parseInt(minutes, 10),\r\n              seconds: parseInt(seconds, 10),\r\n              distance: parseFloat(distance.replace(/,/g, \".\")),\r\n              id: week.workouts.length + 1\r\n            };\r\n\r\n            const updatedWorkouts = [...week.workouts, newWorkout];\r\n            const updatedActivities = getUpdatedActivities(\r\n              week.activities,\r\n              updatedWorkouts\r\n            );\r\n\r\n            const updatedWeek = {\r\n              ...week,\r\n              workouts: updatedWorkouts,\r\n              activities: updatedActivities\r\n            };\r\n\r\n            return {\r\n              ...updatedWeek,\r\n              progressFulfilled: countWeekProgress({\r\n                workouts: updatedWeek.workouts,\r\n                activities: updatedWeek.activities\r\n              })\r\n            };\r\n          }\r\n          return week;\r\n        });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n\r\n      return newState;\r\n    }\r\n    default:\r\n      return appState;\r\n  }\r\n};\r\n\r\nexport const activitiesReducer = (\r\n  activities,\r\n  { type, value, newValue, valueType }\r\n) => {\r\n  switch (type) {\r\n    case \"setActivities\":\r\n      return value;\r\n    case \"add\":\r\n      return [...activities, value];\r\n    case \"remove\":\r\n      return activities.filter((_, index) => index !== value);\r\n    case \"setActivityValue\":\r\n      const updatedActivities = activities.map((activity, i) => {\r\n        if (i === value) {\r\n          return { ...activity, [valueType]: newValue };\r\n        }\r\n        return activity;\r\n      });\r\n      return updatedActivities;\r\n    default:\r\n      return activities;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Label } from \"./Input\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst StyledSelect = styled.select`\r\n  display: block;\r\n  font-size: 16px;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-weight: 500;\r\n  color: #444444;\r\n  line-height: 1.3;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 16px;\r\n  margin: 0;\r\n  border: 1px solid #aaa;\r\n  box-shadow: 0 1px 0 1px rgba(0, 0, 0, 0.04);\r\n  border-radius: 0.5em;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-color: #fff;\r\n  background-image: linear-gradient(45deg, transparent 50%, #444444 50%),\r\n    linear-gradient(135deg, #444444 50%, transparent 50%),\r\n    radial-gradient(#f7f7f7 70%, transparent 72%);\r\n  /* background-position: calc(100% - 20px) calc(1em + 2px),\r\n    calc(100% - 15px) calc(1em + 2px), calc(100% - 0.5em) 0.5em; */\r\n  background-position: calc(100% - 20px) calc(1em + 8px),\r\n    calc(100% - 15px) calc(1em + 8px), calc(100% - 0.5em) 0.5em;\r\n  background-size: 5px 5px, 5px 5px, 1.5em 1.5em;\r\n  background-repeat: no-repeat;\r\n\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  background-color: #f7f7f7;\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &::-ms-expand {\r\n    display: none;\r\n  }\r\n\r\n  &:hover {\r\n    border-color: #888;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nconst StyledOption = styled.option`\r\n  font-weight: normal;\r\n`;\r\n\r\nfunction Select({ options, value, onChange, label }) {\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <StyledSelect value={value} onChange={onChange}>\r\n        {options &&\r\n          options.map((option, i) => (\r\n            <StyledOption value={option.value} key={i}>\r\n              {option.name}\r\n            </StyledOption>\r\n          ))}\r\n      </StyledSelect>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","export const workoutTypes = [\r\n  { name: \"Running\", value: \"Running\" },\r\n  { name: \"Swimming\", value: \"Swimming\" },\r\n  { name: \"Biking\", value: \"Biking\" },\r\n  { name: \"Gym\", value: \"Gym\", hideDistance: true },\r\n  { name: \"Other\", value: \"Other\" }\r\n];\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport styled from \"styled-components\";\r\nimport { shouldShowDistance } from \"../utils\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin: 16px 0;\r\n`;\r\n\r\nconst TitleRemoveWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst InputsWrapper = styled(FlexColumn)``;\r\n\r\nconst HoursDistanceWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActivityTitle = styled.h3`\r\n  font-size: 16px;\r\n  margin: 0;\r\n`;\r\n\r\nconst RemoveActivityButton = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 20px;\r\n  background-color: #dc9987cc;\r\n  color: #444444;\r\n`;\r\n\r\nfunction ActivityForm({ dispatchActivities, activityNumber, activity }) {\r\n  const i = activityNumber - 1;\r\n  const { type, minutes, distance } = activity;\r\n  const showDistance = shouldShowDistance(type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TitleRemoveWrapper>\r\n        <ActivityTitle>Activity {activityNumber}</ActivityTitle>\r\n        <RemoveActivityButton\r\n          onClick={() => dispatchActivities({ type: \"remove\", value: i })}\r\n        >\r\n          Remove\r\n        </RemoveActivityButton>\r\n      </TitleRemoveWrapper>\r\n      <InputsWrapper>\r\n        <Select\r\n          defaultValue={\"Running\"}\r\n          value={type}\r\n          options={workoutTypes}\r\n          onChange={e =>\r\n            dispatchActivities({\r\n              type: \"setActivityValue\",\r\n              value: i,\r\n              newValue: e.target.value,\r\n              valueType: \"type\"\r\n            })\r\n          }\r\n        />\r\n        <HoursDistanceWrapper>\r\n          <Input\r\n            inputWidth={\"45%\"}\r\n            label=\"minutes\"\r\n            type=\"number\"\r\n            name=\"minutes\"\r\n            placeholder=\"0\"\r\n            value={minutes}\r\n            onChange={e =>\r\n              dispatchActivities({\r\n                type: \"setActivityValue\",\r\n                value: i,\r\n                newValue: e.target.value,\r\n                valueType: \"minutes\"\r\n              })\r\n            }\r\n          />\r\n          {showDistance && (\r\n            <Input\r\n              unit=\"km\"\r\n              inputWidth={\"45%\"}\r\n              label=\"distance\"\r\n              type=\"number\"\r\n              name=\"distance\"\r\n              placeholder=\"0\"\r\n              value={distance}\r\n              onChange={e =>\r\n                dispatchActivities({\r\n                  type: \"setActivityValue\",\r\n                  value: i,\r\n                  newValue: e.target.value,\r\n                  valueType: \"distance\"\r\n                })\r\n              }\r\n            />\r\n          )}\r\n        </HoursDistanceWrapper>\r\n      </InputsWrapper>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default ActivityForm;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport { activitiesReducer } from \"../reducers\";\r\nimport styled from \"styled-components\";\r\nimport ActivityForm from \"../components/ActivityForm\";\r\nimport { FlexRow } from \"../components/defaults/Flex\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doSaveWeeksPlan } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\n\r\nconst StyledTitle = styled.h2`\r\n  font-size: 20px;\r\n  margin: 0;\r\n  margin-bottom: 32px;\r\n  text-align: center;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst AddActivity = styled(FlexRow)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 16px;\r\n  background-color: #689f3830;\r\n  color: #444444;\r\n  border-radius: 16px;\r\n  width: fit-content;\r\n  margin: 0 auto;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst SavePlanButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nfunction WeeksPlan({ history, location, firebase, authUser }) {\r\n  const {\r\n    state: { isNextWeek, weekActivities, weekId, workouts }\r\n  } = location;\r\n\r\n  const [activities, dispatchActivities] = useReducer(activitiesReducer, [\r\n    { type: \"Running\", minutes: \"\", distance: \"\" }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (weekActivities) {\r\n      dispatchActivities({\r\n        type: \"setActivities\",\r\n        value: weekActivities\r\n      });\r\n    }\r\n  }, [isNextWeek, weekActivities]);\r\n\r\n  const saveNextWeekAndRedirect = () => {\r\n    doSaveWeeksPlan(\r\n      firebase,\r\n      authUser,\r\n      workouts,\r\n      activities,\r\n      isNextWeek,\r\n      weekId\r\n    );\r\n\r\n    history.push(\"/weeks\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <StyledTitle>\r\n        {isNextWeek ? \"Next week's plan\" : \"Current week's plan\"}\r\n      </StyledTitle>\r\n\r\n      {activities &&\r\n        activities.map((activity, i) => {\r\n          const activityNumber = i + 1;\r\n          return (\r\n            <ActivityForm\r\n              key={i}\r\n              activityNumber={activityNumber}\r\n              activity={activity}\r\n              dispatchActivities={dispatchActivities}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <AddActivity\r\n        onClick={() =>\r\n          dispatchActivities({\r\n            type: \"add\",\r\n            value: { type: \"Running\", minutes: \"\", distance: \"\" }\r\n          })\r\n        }\r\n      >\r\n        <PlusIcon src=\"/icons/plus.svg\" alt=\"plus-icon\" />\r\n        Add activity\r\n      </AddActivity>\r\n\r\n      <SavePlanButton\r\n        disabled={activities.length === 0}\r\n        onClick={e => {\r\n          saveNextWeekAndRedirect(e);\r\n        }}\r\n      >\r\n        {isNextWeek ? \"Save next week's plan\" : \"Save current week's plan\"}\r\n      </SavePlanButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeeksPlan)))\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Text = styled.p`\r\n  margin: 0;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  color: #444444;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst WeekDelimeter = styled(FlexColumn)`\r\n  align-items: center;\r\n`;\r\n\r\nconst TopDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-top-left-radius: 12px;\r\n  border-top-right-radius: 12px;\r\n  border-top: 0;\r\n  background-color: white;\r\n  margin-top: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst BottomDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-bottom-left-radius: 12px;\r\n  border-bottom-right-radius: 12px;\r\n  border-bottom: 0;\r\n  background-color: white;\r\n  margin-bottom: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst Line = styled.div`\r\n  width: 2px;\r\n  height: ${({ last }) => (last ? \"48px\" : \"16px\")};\r\n  background-color: #ccc9;\r\n`;\r\n\r\nfunction DotLineDelimeter({ last }) {\r\n  return (\r\n    <WeekDelimeter>\r\n      <TopDot />\r\n      <Line last={last} />\r\n      <BottomDot />\r\n    </WeekDelimeter>\r\n  );\r\n}\r\n\r\nexport default DotLineDelimeter;\r\n","import React from \"react\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport {\r\n  getIconFromWorkoutType,\r\n  formatDistance,\r\n  formatSeconds,\r\n  getWeekDayFromNumber\r\n} from \"../utils\";\r\nimport DotLineDelimeter from \"./defaults/DotLineDelimeter\";\r\nimport moment from \"moment\";\r\n\r\nconst Wrapper = styled(FlexColumn)``;\r\n\r\nconst WeekWrapper = styled(FlexRow)`\r\n  max-width: 400px;\r\n  background-color: #eeeeee;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst WorkoutIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst InfoWrapper = styled(FlexColumn)`\r\n  flex: 1;\r\n`;\r\n\r\nconst Type = styled(Text)`\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  color: #44444491;\r\n`;\r\n\r\nconst Distance = styled(Text)`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst TopRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst BottomRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst DayInWeekWrapper = styled.div`\r\n  position: relative;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst DayInWeek = styled.h3`\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: absolute;\r\n  top: -20px;\r\n  color: #444444a1;\r\n`;\r\n\r\nconst DeleteIcon = styled.img`\r\n  width: 24x;\r\n  height: 24px;\r\n  margin-left: 24px;\r\n`;\r\n\r\nconst WorkoutItem = ({\r\n  workout,\r\n  last,\r\n  first,\r\n  lastDay,\r\n  isCurrent,\r\n  deleteWorkout\r\n}) => {\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const formattedSeconds = formatSeconds(seconds);\r\n  const dayName = getWeekDayFromNumber(\r\n    moment(day, \"DD.MM.YYYY\").isoWeekday()\r\n  ).slice(0, 2);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {first && (\r\n        <DayInWeekWrapper>\r\n          <DayInWeek>{`${dayName} - ${day}`}</DayInWeek>\r\n        </DayInWeekWrapper>\r\n      )}\r\n      <WeekWrapper>\r\n        <WorkoutIcon src={getIconFromWorkoutType(type)} />\r\n        <InfoWrapper>\r\n          <TopRow>\r\n            <Type>{type}</Type>\r\n          </TopRow>\r\n          <BottomRow>\r\n            <Distance>{`${formatDistance(\r\n              distance\r\n            )} / ${minutes}:${formattedSeconds}`}</Distance>\r\n          </BottomRow>\r\n        </InfoWrapper>\r\n        {isCurrent && (\r\n          <DeleteIcon onClick={deleteWorkout} src=\"/icons/delete.svg\" />\r\n        )}\r\n      </WeekWrapper>\r\n      {!last && <DotLineDelimeter last={lastDay} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default WorkoutItem;\r\n","import React from \"react\";\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\nimport styled from \"styled-components\";\nimport { Text } from \"./defaults/Text\";\nimport {\n  getIconFromWorkoutType,\n  formatDistance,\n  formatHours,\n  getFulfilledWorkoutIcon\n} from \"../utils\";\n\nconst Wrapper = styled(FlexColumn)`\n  background-color: ${({ isFulfilled }) =>\n    isFulfilled ? \" #689f3830\" : \"#dc99874a\"};\n  border-radius: 8px;\n  padding: 16px;\n  border-bottom-right-radius: ${({ isFulfilled }) => (isFulfilled ? \"8px\" : 0)};\n  margin-bottom: ${({ isFulfilled }) => (isFulfilled ? \"16px\" : 0)};\n`;\n\nconst PlanWrapper = styled(FlexRow)`\n  max-width: 400px;\n  /* padding: 12px; */\n`;\n\nconst WorkoutIcon = styled.img`\n  width: 24px;\n  height: 24px;\n  margin-right: 16px;\n`;\n\nconst FullfilledIcon = styled.img`\n  width: 32px;\n  height: 32px;\n`;\n\nconst MiddleSection = styled(FlexColumn)`\n  flex: 1;\n`;\n\nconst Type = styled(Text)`\n  font-weight: 700;\n  margin-bottom: 4px;\n`;\n\nconst Duration = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Date = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Delimeter = styled(Text)`\n  color: gray;\n  font-size: 16px;\n  margin: 0 8px;\n`;\n\nconst BottomRow = styled(FlexRow)`\n  width: 100%;\n`;\n\nconst MissingStatsWrapper = styled(FlexRow)`\n  justify-content: flex-end;\n  margin-left: auto;\n  padding: 16px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  background: white;\n  border: 2px solid #dc99874a;\n  border-top: 0;\n`;\n\nconst MissingWrapper = styled(FlexRow)`\n  height: 50px;\n  width: 100%;\n  margin-bottom: 16px;\n`;\n\nconst EmptySpace = styled.div`\n  background: white;\n  height: 100%;\n`;\n\nconst Missing = styled(Text)`\n  font-weight: 700;\n  color: #dc9987cc;\n  margin: 0 8px;\n`;\n\nconst MissingText = styled(Text)`\n  color: #444444;\n`;\n\nconst WorkoutPlanItem = ({ activity }) => {\n  const {\n    type,\n    minutes,\n    distance,\n    isFulfilled,\n    progressMinutesMissing,\n    progressDistanceMissing\n  } = activity;\n\n  const missingMinutes = progressMinutesMissing || minutes;\n  const missingDistance = progressDistanceMissing || distance;\n\n  return (\n    <>\n      <Wrapper isFulfilled={isFulfilled}>\n        <PlanWrapper>\n          <WorkoutIcon src={getIconFromWorkoutType(type)} />\n          <MiddleSection>\n            <Type>{type}</Type>\n            <BottomRow>\n              <Date>{formatHours(minutes)}</Date>\n              <Delimeter>{\"/\"}</Delimeter>\n              <Duration>{formatDistance(distance)}</Duration>\n            </BottomRow>\n          </MiddleSection>\n          <FullfilledIcon src={getFulfilledWorkoutIcon(isFulfilled)} />\n        </PlanWrapper>\n      </Wrapper>\n      {!isFulfilled && (\n        <MissingWrapper>\n          <EmptySpace />\n          <MissingStatsWrapper>\n            <FlexRow>\n              <Missing>{\"Missing: \"}</Missing>\n              <MissingText>{formatHours(missingMinutes)}</MissingText>\n              {distance !== 0 && (\n                <>\n                  <Delimeter>{\"/\"}</Delimeter>\n                  <MissingText>{formatDistance(missingDistance)}</MissingText>\n                </>\n              )}\n            </FlexRow>\n          </MissingStatsWrapper>\n        </MissingWrapper>\n      )}\n    </>\n  );\n};\n\nexport default WorkoutPlanItem;\n","import React from \"react\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 16px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: center;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  font-family: \"Rubik\", sans-serif;\r\n  font-size: 24px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfoRow = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentWrapper = styled(FlexColumn)`\r\n  width: 100%;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WeekInfo({ week }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeeeb0\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfoRow>\r\n        <ContentWrapper>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <FlexRow>\r\n              <DateInfo>{formatDate(from_date)}</DateInfo>\r\n              <DateDelimeter>{\"-\"}</DateDelimeter>\r\n              <DateInfo>{formatDate(to_date)}</DateInfo>\r\n            </FlexRow>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </DateWrapper>\r\n        </ContentWrapper>\r\n      </WeekInfoRow>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WeekInfo;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { PrimaryButton } from \"./defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { getCurrentWeekDays, getTodayDate, shouldShowDistance } from \"../utils\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst MinutesSecondsWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WorkoutForm({ saveWorkout, week }) {\r\n  const [workout, setWorkout] = useState({\r\n    day: getTodayDate(),\r\n    type: \"Running\",\r\n    minutes: \"\",\r\n    seconds: \"\",\r\n    distance: \"\"\r\n  });\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const daysOptions = getCurrentWeekDays(week);\r\n  const showDistance = shouldShowDistance(workout.type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Select\r\n        label=\"day\"\r\n        value={day}\r\n        options={daysOptions}\r\n        onChange={e => setWorkout({ ...workout, day: e.target.value })}\r\n      />\r\n      <Select\r\n        label=\"type\"\r\n        value={type}\r\n        options={workoutTypes}\r\n        onChange={e => setWorkout({ ...workout, type: e.target.value })}\r\n      />\r\n      <MinutesSecondsWrapper>\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"minutes\"\r\n          type=\"number\"\r\n          name=\"minutes\"\r\n          placeholder={0}\r\n          value={minutes}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, minutes: e.target.value });\r\n          }}\r\n        />\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"seconds\"\r\n          type=\"number\"\r\n          name=\"seconds\"\r\n          placeholder={0}\r\n          value={seconds}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, seconds: e.target.value });\r\n          }}\r\n        />\r\n        {showDistance && (\r\n          <Input\r\n            inputWidth={\"35%\"}\r\n            label=\"distance\"\r\n            type=\"number\"\r\n            name=\"Distance\"\r\n            unit={\"km\"}\r\n            placeholder={0}\r\n            value={distance}\r\n            onChange={e => {\r\n              setWorkout({ ...workout, distance: e.target.value });\r\n            }}\r\n          />\r\n        )}\r\n      </MinutesSecondsWrapper>\r\n      <PrimaryButton onClick={() => saveWorkout(workout)}>\r\n        Add workout\r\n      </PrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutForm;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport WorkoutForm from \"./WorkoutForm\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\nimport { doSaveWorkout } from \"../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  /* margin: ${({ noMarginBottom }) =>\r\n    noMarginBottom ? \"24px 0 0\" : \"24px 0 16px\"}; */\r\n`;\r\n\r\nconst CurrentWeeksTitleWrapper = styled(FlexRow)`\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst CurrentWeeksTitle = styled.h2`\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n  margin: 0;\r\n`;\r\n\r\nconst PlusIconWrapper = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nfunction AddWorkoutTitle({\r\n  firebase,\r\n  authUser,\r\n  noMarginBottom = false,\r\n  title,\r\n  week\r\n}) {\r\n  const [isWorkoutFormVisible, setIsWorkoutFormVisible] = useState(false);\r\n  const showButton = isCurrentWeek(week);\r\n\r\n  const saveWorkout = workout => {\r\n    doSaveWorkout(firebase, authUser, week, workout);\r\n    setIsWorkoutFormVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Wrapper noMarginBottom={noMarginBottom}>\r\n      <CurrentWeeksTitleWrapper>\r\n        <CurrentWeeksTitle>{title}</CurrentWeeksTitle>\r\n        {showButton && (\r\n          <PlusIconWrapper\r\n            onClick={() => {\r\n              setIsWorkoutFormVisible(!isWorkoutFormVisible);\r\n            }}\r\n          >\r\n            <PlusIcon\r\n              alt=\"plus-icon\"\r\n              src={\r\n                isWorkoutFormVisible ? \"/icons/minus.svg\" : \"/icons/plus.svg\"\r\n              }\r\n            />\r\n          </PlusIconWrapper>\r\n        )}\r\n      </CurrentWeeksTitleWrapper>\r\n      {isWorkoutFormVisible ? (\r\n        <WorkoutForm saveWorkout={saveWorkout} week={week} />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(withAuthUser(AddWorkoutTitle));\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 8px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfo = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst RightArrowIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nfunction WorkoutWeek({ week, dispatchAppState, location }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeee54\";\r\n  // progressFulfilled > 75\r\n  //   ? \"#689f3824\"\r\n  //   : progressFulfilled > 45\r\n  //   ? \"#fbc02d45\"\r\n  //   : \"#dc99873b\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfo>\r\n        <FlexColumn>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <DateInfo>{formatDate(from_date)}</DateInfo>\r\n            <DateDelimeter>{\"-\"}</DateDelimeter>\r\n            <DateInfo>{formatDate(to_date)}</DateInfo>\r\n          </DateWrapper>\r\n        </FlexColumn>\r\n        <RightArrowIcon src=\"/icons/arrow-right.svg\" alt=\"right-arrow\" />\r\n      </WeekInfo>\r\n      {/* <HideWeekButton\r\n          onClick={() => dispatchAppState({ type: \"hideWeek\", value: id })}\r\n        >\r\n          {isHidden ? \"Show week\" : \"Hide week\"}\r\n        </HideWeekButton> */}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutWeek;\r\n","import React, { useState } from \"react\";\r\nimport { getNextWeekFromToDates, getCurrentWeekFromToDates } from \"../utils\";\r\nimport { PrimaryLink, PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport WorkoutWeek from \"../components/WorkoutWeek\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport {\r\n  useCollectionOnce,\r\n  useCollection\r\n} from \"react-firebase-hooks/firestore\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst NewWorkoutLink = styled(PrimaryLink)`\r\n  text-decoration: none;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst WeeksWrapper = styled(FlexColumn)``;\r\n\r\nconst WeeksTitle = styled.h2`\r\n  font-size: 16px;\r\n  margin: 32px 0 16px;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst NextWeeksTitle = styled(WeeksTitle)`\r\n  font-size: 18px;\r\n`;\r\n\r\nconst LoadMoreButton = styled(PrimaryButton)`\r\n  flex-flow: column;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  text-transform: uppercase;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst DownIcon = styled.img`\r\n  margin-top: 4px;\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nexport const NoResultsFound = styled.span`\r\n  font-size: 16px;\r\n  color: #dc9987;\r\n`;\r\n\r\nfunction Weeks({ authUser, firebase }) {\r\n  const limit = 10;\r\n  const [previousWeeksOffset, setPreviousWeeksOffset] = useState(0);\r\n\r\n  const [nextWeekFirebase, loading, error] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getNextWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    currentWeekFirebase,\r\n    loadingCurrentWeek,\r\n    errorCurrentWeek\r\n  ] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    previousWeeksFirebase,\r\n    loadingPreviousWeeks,\r\n    errorPreviousWeeks\r\n  ] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"<\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      // .orderBy(\"from_date\")\r\n      // .startAt(0)\r\n      .limit(limit)\r\n  );\r\n\r\n  const currentWeek = currentWeekFirebase &&\r\n    currentWeekFirebase.docs &&\r\n    currentWeekFirebase.docs[0] && {\r\n      ...currentWeekFirebase.docs[0].data(),\r\n      id: currentWeekFirebase.docs[0].id\r\n    };\r\n\r\n  const nextWeek = nextWeekFirebase &&\r\n    nextWeekFirebase.docs &&\r\n    nextWeekFirebase.docs[0] && {\r\n      ...nextWeekFirebase.docs[0].data(),\r\n      id: nextWeekFirebase.docs[0].id\r\n    };\r\n  const canCreateNextWeek = !nextWeek;\r\n\r\n  const previousWeeks =\r\n    previousWeeksFirebase &&\r\n    previousWeeksFirebase.docs &&\r\n    previousWeeksFirebase.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const totalPreviousWeeks = (previousWeeks && previousWeeks.length) || 0;\r\n  const showMoreButton = totalPreviousWeeks > previousWeeksOffset + limit;\r\n\r\n  return (\r\n    <>\r\n      <AddWorkoutTitle\r\n        title=\"Current\"\r\n        week={currentWeek}\r\n        noMarginBottom={true}\r\n      />\r\n      {!loadingCurrentWeek ? (\r\n        currentWeek ? (\r\n          <WorkoutWeek week={currentWeek} />\r\n        ) : (\r\n          <NewWorkoutLink\r\n            to={{ pathname: \"/weeks-plan\", state: { isNextWeek: false } }}\r\n          >\r\n            Create plan for this week\r\n          </NewWorkoutLink>\r\n        )\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      <NextWeeksTitle>Coming up</NextWeeksTitle>\r\n      {!loadingCurrentWeek ? (\r\n        nextWeek && <WorkoutWeek week={nextWeek} />\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      {!loadingCurrentWeek && (\r\n        <NewWorkoutLink\r\n          to={{\r\n            pathname: \"/weeks-plan\",\r\n            state: {\r\n              isNextWeek: true,\r\n              weekActivities: nextWeek && nextWeek.activities,\r\n              weekId: nextWeek && nextWeek.id\r\n            }\r\n          }}\r\n        >\r\n          {canCreateNextWeek\r\n            ? \"Create next week's plan\"\r\n            : \"Edit next week's plan\"}\r\n        </NewWorkoutLink>\r\n      )}\r\n      <WeeksTitle>Previous</WeeksTitle>\r\n      <WeeksWrapper>\r\n        {loadingPreviousWeeks ? (\r\n          <Loader />\r\n        ) : previousWeeks && previousWeeks.length > 0 ? (\r\n          previousWeeks.map((week, i) =>\r\n            i < previousWeeksOffset + limit ? (\r\n              <WorkoutWeek key={week.id} week={week} />\r\n            ) : null\r\n          )\r\n        ) : (\r\n          <NoResultsFound>{\"You don't have any previous weeks\"}</NoResultsFound>\r\n        )}\r\n      </WeeksWrapper>\r\n      {showMoreButton && (\r\n        <LoadMoreButton\r\n          onClick={() => setPreviousWeeksOffset(previousWeeksOffset + limit)}\r\n        >\r\n          Load previous weeks\r\n          <DownIcon alt=\"down-icon\" src=\"/icons/arrow-down.svg\" />\r\n        </LoadMoreButton>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(withFirebase(withAuthUser(Weeks)));\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport WorkoutItem from \"../components/WorkoutItem\";\r\nimport styled from \"styled-components\";\r\nimport WorkoutPlanItem from \"../components/WorkoutPlanItem\";\r\nimport WeekInfo from \"../components/WeekInfo\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport moment from \"moment\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doRemoveWorkout, doSaveCurrentWeeksNote } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst WorkoutPlanTitle = styled.h3`\r\n  display: flex;\r\n  flex-flow: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst EditWeekWrapper = styled(Link)`\r\n  border-radius: 16px;\r\n  padding: 8px 16px;\r\n  background-color: #ffd873;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  text-transform: lowercase;\r\n`;\r\n\r\nconst ActivitiesWrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst Note = styled(TextareaAutosize)`\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  padding: 16px 8px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst NoteLabel = styled.p`\r\n  margin: 0;\r\n  margin-bottom: 8px;\r\n  margin-top: 24px;\r\n  font-size: 20px;\r\n  font-family: \"Rubik\", sans-serif;\r\n`;\r\n\r\nfunction WeekDetail({ firebase, authUser, match }) {\r\n  const { addToast } = useToasts();\r\n  const [note, setNote] = useState(null);\r\n\r\n  const id = match.params.id;\r\n  const [weekDoc, loading, error] = useCollection(firebase.week(id));\r\n  const week = weekDoc && {\r\n    ...weekDoc.data(),\r\n    id: weekDoc.id\r\n  };\r\n\r\n  const isCurrent = week ? isCurrentWeek(week) : false;\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!week) {\r\n    return <p>Week with this id does not exits</p>;\r\n  }\r\n\r\n  const { activities, workouts } = week;\r\n  let currentDay = \"\";\r\n  const sortedWorkouts =\r\n    workouts &&\r\n    workouts.sort((a, b) =>\r\n      moment(a.day, \"DD.MM.YYYY\").diff(moment(b.day, \"DD.MM.YYYY\"))\r\n    );\r\n\r\n  const deleteWorkoutFromWeek = index => {\r\n    doRemoveWorkout(firebase, authUser, week, index);\r\n  };\r\n\r\n  const saveNote = () => {\r\n    doSaveCurrentWeeksNote(firebase, authUser, week, note || week.note);\r\n    addToast(\"Your note was automatically saved\", {\r\n      appearance: \"success\",\r\n      autoDismiss: true\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <WeekInfo week={week} />\r\n      {(note || week.note || isCurrent) && (\r\n        <>\r\n          <NoteLabel>Notes</NoteLabel>\r\n          <Note\r\n            minRows={3}\r\n            disabled={!isCurrent}\r\n            onBlur={saveNote}\r\n            placeholder=\"Write your notes here about this week's progress\"\r\n            value={note || week.note}\r\n            onChange={e => setNote(e.target.value)}\r\n          />\r\n        </>\r\n      )}\r\n      <WorkoutPlanTitle>\r\n        Workout plan{\" \"}\r\n        <EditWeekWrapper\r\n          to={{\r\n            pathname: \"/weeks-plan\",\r\n            state: {\r\n              isNextWeek: false,\r\n              weekActivities: week.activities,\r\n              weekId: week.id,\r\n              workouts: week.workouts\r\n            }\r\n          }}\r\n        >\r\n          Edit\r\n        </EditWeekWrapper>\r\n      </WorkoutPlanTitle>\r\n      <ActivitiesWrapper>\r\n        {activities &&\r\n          activities.map((activity, i) => {\r\n            return <WorkoutPlanItem key={i} activity={activity} />;\r\n          })}\r\n      </ActivitiesWrapper>\r\n      <AddWorkoutTitle\r\n        title=\"Workouts\"\r\n        week={week}\r\n        noMarginBottom={!(workouts && workouts.length > 0)}\r\n      />\r\n      {sortedWorkouts && sortedWorkouts.length > 0 ? (\r\n        sortedWorkouts.map((workout, i) => {\r\n          const previousDay = currentDay;\r\n          currentDay = workout.day;\r\n          const nextWorkout = workouts[i + 1];\r\n          let lastDay = false;\r\n          if (nextWorkout) {\r\n            lastDay = nextWorkout.day !== currentDay;\r\n          }\r\n          const first = previousDay !== currentDay;\r\n          return (\r\n            <WorkoutItem\r\n              i={i}\r\n              last={i === workouts.length - 1}\r\n              key={i}\r\n              workout={workout}\r\n              first={first}\r\n              lastDay={lastDay}\r\n              isCurrent={isCurrent}\r\n              deleteWorkout={() => deleteWorkoutFromWeek(i)}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <NoResultsFound>\r\n          You have not completed any workouts this week\r\n        </NoResultsFound>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeekDetail)))\r\n);\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nfunction ScrollToTop({\r\n  children,\r\n  location: { pathname },\r\n  history: { action }\r\n}) {\r\n  useEffect(() => {\r\n    if (action !== \"POP\") {\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  }, [pathname, action]);\r\n\r\n  return children || null;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React, { useState } from \"react\";\r\nimport { FlexColumn, FlexRow } from \"../components/defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  getTotalHoursAndDistance,\r\n  getTotalPlannedHoursAndDistance,\r\n  getTotalStatsForSports\r\n} from \"../stats-utils\";\r\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\nimport Select from \"../components/defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { getNextWeekFromToDates } from \"../utils\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst TitleAll = styled.h2`\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n  font-size: 20px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst ProgressWrapper = styled.div`\r\n  border-radius: 24px;\r\n  padding: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst CircleProgressWrapper = styled.div`\r\n  width: 96px;\r\n  margin: 0 auto;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst StatsWrapper = styled(FlexColumn)`\r\n  background: ${({ color }) => color};\r\n  border-radius: 24px;\r\n  padding-top: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  color: #444444;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  margin: 0;\r\n  margin-bottom: 16px;\r\n  letter-spacing: 0.0625em;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst TotalWrapper = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\n// const ResetStatsButton = styled(PrimaryButton)`\r\n//   background-color: #dc9987cc;\r\n// `;\r\n\r\nconst Value = styled.p`\r\n  font-weight: 700;\r\n  font-size: 26px;\r\n  margin: 0;\r\n  color: #444444;\r\n`;\r\n\r\nconst Type = styled.p`\r\n  font-size: 16px;\r\n  margin: 0;\r\n  margin-left: 8px;\r\n  color: #444444;\r\n  opacity: 0.7;\r\n  margin-bottom: 2px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst ValueWrapper = styled(FlexRow)`\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst NavItems = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst NavItem = styled.div`\r\n  cursor: pointer;\r\n  font-family: \"Lato\", sans-serif;\r\n  color: ${({ active }) => (active ? \"#444444\" : \"gray\")};\r\n  font-weight: ${({ active }) => (active ? 700 : 400)};\r\n  font-size: 18px;\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    background: ${({ active }) => (active ? \"#ffd873\" : \"white\")};\r\n    position: absolute;\r\n    bottom: -8px;\r\n    right: 0;\r\n    height: 3px;\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nfunction Stats({ firebase, authUser }) {\r\n  const [tab, setTab] = useState(\"all\");\r\n  const [activity, setActivity] = useState(\"Running\");\r\n\r\n  const [weeksDoc, loading, error] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .where(\"from_date\", \"<\", getNextWeekFromToDates().from_date)\r\n  );\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!weeksDoc) {\r\n    return (\r\n      <NoResultsFound>{\"You don't have any available data\"}</NoResultsFound>\r\n    );\r\n  }\r\n\r\n  const weeks = weeksDoc && weeksDoc.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const workouts = [];\r\n  const activities = [];\r\n  weeks.map(w => w.workouts && w.workouts.map(w => workouts.push(w)));\r\n  weeks.map(w => w.activities && w.activities.map(a => activities.push(a)));\r\n\r\n  const { totalHours, totalDistance } = getTotalHoursAndDistance(workouts);\r\n  const {\r\n    totalPlannedHours,\r\n    totalPlannedDistance\r\n  } = getTotalPlannedHoursAndDistance(activities);\r\n  const {\r\n    totalHours: totalSportHours,\r\n    totalDistance: totalSportDistance,\r\n    totalPlannedHours: totalSportPlannedHours,\r\n    totalPlannedDistance: totalSportPlannedDistance\r\n  } = getTotalStatsForSports(workouts, activities, activity);\r\n\r\n  return (\r\n    <>\r\n      <NavItems>\r\n        <NavItem onClick={() => setTab(\"all\")} active={tab === \"all\"}>\r\n          Overall\r\n        </NavItem>\r\n        <NavItem onClick={() => setTab(\"sport\")} active={tab === \"sport\"}>\r\n          By sport\r\n        </NavItem>\r\n      </NavItems>\r\n      {tab === \"all\" && (\r\n        <>\r\n          <ProgressWrapper>\r\n            <TitleAll>Overall progress</TitleAll>\r\n            <CircleProgressWrapper>\r\n              {/* <ChangingProgressProvider values={[0, 20, 40, 60, 80, 100]}> */}\r\n              <CircularProgressbar\r\n                value={60}\r\n                text={`${60}%`}\r\n                background={true}\r\n                styles={buildStyles({\r\n                  textColor: \"#444444\",\r\n                  pathColor: \"#689f38cf\",\r\n                  trailColor: \"#ccc\",\r\n                  textSize: \"20px\",\r\n                  pathTransitionDuration: 0.5,\r\n                  backgroundColor: \"white\"\r\n                })}\r\n              />\r\n              {/* </ChangingProgressProvider> */}\r\n            </CircleProgressWrapper>\r\n          </ProgressWrapper>\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalHours}</Value>\r\n                <Type>{totalHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedHours}</Value>\r\n                <Type>{totalPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          {/* <ResetStatsButton\r\n            onClick={e => {\r\n              if (\r\n                window.confirm(\"Are you sure you want to delete all workouts?\")\r\n              ) {\r\n                clearLocalStorage(e);\r\n              }\r\n            }}\r\n          >\r\n            Delete all workouts\r\n          </ResetStatsButton> */}\r\n        </>\r\n      )}\r\n      {tab === \"sport\" && (\r\n        <>\r\n          <Select\r\n            value={activity}\r\n            options={workoutTypes}\r\n            onChange={e => setActivity(e.target.value)}\r\n          />\r\n          <br />\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportHours}</Value>\r\n                <Type>{totalSportHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedHours}</Value>\r\n                <Type>{totalSportPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withFirebase(withAuthorization(Stats)));\r\n","export function getTotalHoursAndDistance(workouts) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n\r\n  workouts &&\r\n    workouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance: totalDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalPlannedHoursAndDistance(activities) {\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  activities &&\r\n    activities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance: totalPlannedDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalStatsForSports(workouts, activities, sport) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  const sportWorkouts = workouts.filter(\r\n    w => w.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n  const sportActivities = activities.filter(\r\n    a => a.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n\r\n  sportWorkouts &&\r\n    sportWorkouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  sportActivities &&\r\n    sportActivities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance,\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance\r\n  };\r\n}\r\n","import React from \"react\";\nimport { withFirebase } from \"../Firebase\";\nimport Input from \"../defaults/Input\";\nimport { ErrorMessage, StyledPrimaryButton, Title } from \"./SignUp\";\nimport { useSubmitForm } from \"../../hooks\";\nimport { FlexColumn } from \"../defaults/Flex\";\nimport { Loader } from \"../defaults/Loader\";\n\nfunction PasswordForgetForm({ firebase }) {\n  const onSubmit = event => {\n    firebase\n      .doPasswordReset(inputs.email)\n      .then(() => {\n        resetInputs();\n      })\n      .catch(error => {\n        setError(error);\n      });\n  };\n\n  const {\n    resetInputs,\n    inputs,\n    handleInputChange,\n    handleSubmit,\n    error,\n    setError,\n    isSubmitted\n  } = useSubmitForm(onSubmit);\n\n  const { email } = inputs;\n  const isInvalid = !email || email === \"\";\n\n  return (\n    <FlexColumn>\n      <Title>Reset your password</Title>\n\n      <form onSubmit={handleSubmit}>\n        <Input\n          name=\"email\"\n          value={inputs.email || \"\"}\n          onChange={handleInputChange}\n          type=\"email\"\n          label=\"Email\"\n          required={true}\n        />\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\n          {isSubmitted ? <Loader /> : \"Reset My Password\"}\n        </StyledPrimaryButton>\n      </form>\n    </FlexColumn>\n  );\n}\n\nconst PasswordForgetPage = withFirebase(PasswordForgetForm);\n\nexport default PasswordForgetPage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst BackHomeLink = styled(Link)`\n  text-decoration: underline;\n`;\n\nfunction NotFound() {\n  return (\n    <div>\n      Page not found. <br />{\" \"}\n      <BackHomeLink to=\"/\">Go back to homepage</BackHomeLink>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FlexColumn } from \"../components/defaults/Flex\";\nimport { PrimaryLink } from \"../components/defaults/Buttons\";\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\nimport { Loader } from \"../components/defaults/Loader\";\n\nconst Wrapper = styled(FlexColumn)``;\n\nconst BackHomeLink = styled(PrimaryLink)`\n  margin-top: 24px;\n  font-size: 22px;\n`;\n\nconst Features = styled.ol`\n  padding-left: 0;\n  list-style: none;\n  counter-reset: my-awesome-counter;\n\n  & li {\n    counter-increment: my-awesome-counter;\n    margin: 0;\n    margin-bottom: 16px;\n  }\n\n  & li::before {\n    content: counter(my-awesome-counter);\n    background: #ffd873;\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    display: inline-block;\n    line-height: 2.5rem;\n    color: #444444;\n    font-weight: 700;\n    text-align: center;\n    margin-right: 0.5rem;\n  }\n\n  & li > p {\n    margin: 0;\n    margin-left: 22px;\n    padding: 16px 16px 14px 16px;\n    margin-top: -16px;\n    border: 1px solid #ffd873;\n    border-radius: 16px;\n    font-size: 18px;\n  }\n`;\n\nconst MainText = styled.p`\n  margin: 16px 0;\n  font-size: 20px;\n  padding: 0 8px;\n`;\n\nconst FeaturesTitle = styled.h2`\n  text-align: center;\n  margin-bottom: 8px;\n  font-size: 28px;\n`;\n\nfunction Home({ authUser, isUserLoaded }) {\n  if (!isUserLoaded) {\n    return <Loader />;\n  }\n\n  if (authUser) {\n    return <Redirect to=\"/weeks\" />;\n  }\n\n  return (\n    <Wrapper>\n      <MainText>\n        Gymmie is an app for easily tracking your workouts and trainings.\n      </MainText>\n      <FeaturesTitle>Features</FeaturesTitle>\n      <Features>\n        <li>\n          <p>{\"Plan your next workouts\"}</p>\n        </li>\n        <li>\n          <p>Track your progress</p>\n        </li>\n        <li>\n          <p>Get general stats from your workouts</p>\n        </li>\n      </Features>\n      <BackHomeLink to=\"/sign-in\">Sign in</BackHomeLink>\n    </Wrapper>\n  );\n}\n\nexport default withAuthUser(Home);\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport SignInPage from \"./components/Firebase/SignIn\";\r\nimport SignUpPage from \"./components/Firebase/SignUp\";\r\nimport WeeksPlan from \"./routes/WeeksPlan\";\r\nimport WeekDetail from \"./routes/WeekDetail\";\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport styled from \"styled-components\";\r\nimport Stats from \"./routes/Stats\";\r\nimport Weeks from \"./routes/Weeks\";\r\nimport PasswordForgetPage from \"./components/Firebase/PasswordForget\";\r\nimport NotFound from \"./routes/NotFound\";\r\nimport Home from \"./routes/Home\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  margin-bottom: 36px;\r\n`;\r\n\r\nfunction Routes({ isUserLoaded }) {\r\n  return (\r\n    <ScrollToTop>\r\n      <Wrapper>\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            component={() => <Home isUserLoaded={isUserLoaded} />}\r\n          />\r\n          <Route path=\"/weeks\" exact component={() => <Weeks />} />\r\n          <Route path=\"/sign-in\" exact component={() => <SignInPage />} />\r\n          <Route path=\"/sign-up\" exact component={() => <SignUpPage />} />\r\n          <Route\r\n            path=\"/password-forget\"\r\n            exact\r\n            component={() => <PasswordForgetPage />}\r\n          />\r\n          <Route path=\"/weeks-plan\" exact component={() => <WeeksPlan />} />\r\n          <Route path=\"/week/:id\" exact component={() => <WeekDetail />} />\r\n          <Route path=\"/stats\" exact component={() => <Stats />} />\r\n          <Route path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </Wrapper>\r\n    </ScrollToTop>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport StyledTitle from \"./components/StyledTitle\";\nimport GlobalStyles from \"./globalStyles\";\nimport Navigation from \"./components/Navigation\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Firebase, { FirebaseContext } from \"./components/Firebase\";\nimport Routes from \"./router\";\nimport { withAuthentication } from \"./components/Firebase/Session\";\n\nfunction App({ isUserLoaded }) {\n  return (\n    <>\n      <GlobalStyles />\n      <StyledTitle />\n      <Navigation />\n      <Routes isUserLoaded={isUserLoaded} />\n    </>\n  );\n}\n\nconst WithAuthApp = withAuthentication(App);\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <ToastProvider placement=\"bottom-center\">\n      <Router>\n        <WithAuthApp />\n      </Router>\n    </ToastProvider>\n  </FirebaseContext.Provider>,\n  rootElement\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}