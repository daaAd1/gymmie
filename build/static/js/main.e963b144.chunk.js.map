{"version":3,"sources":["components/defaults/Flex.js","components/Firebase/context.js","components/Firebase/withFirebase.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Firebase/SignOutButton.js","components/Firebase/Session/context.js","components/Firebase/Session/withAuthentication.js","components/Firebase/Session/withAuthorization.js","components/Firebase/Session/withAuthUser.js","components/StyledTitle.js","globalStyles.js","components/Navigation.js","serviceWorker.js","components/defaults/Input.js","components/defaults/Buttons.js","hooks.js","utils.js","components/defaults/Loader.js","components/Firebase/SignUp.js","firebase-db.js","components/Firebase/SignInGoogle.js","components/Firebase/SignInFacebook.js","components/Firebase/SignIn.js","reducers.js","components/defaults/Select.js","constants.js","components/ActivityForm.js","routes/WeeksPlan.js","components/defaults/Text.js","components/defaults/DotLineDelimeter.js","components/WorkoutItem.js","components/WorkoutPlanItem.js","components/WeekInfo.js","components/WorkoutForm.js","components/AddWorkoutTitle.js","components/WorkoutWeek.js","routes/Weeks.js","routes/WeekDetail.js","components/ScrollToTop.js","routes/Stats.js","stats-utils.js","components/Firebase/PasswordForget.js","routes/NotFound.js","routes/Home.js","router.js","index.js"],"names":["FlexRow","styled","div","_templateObject","FlexColumn","_templateObject2","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","context","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignInWithFacebook","facebookProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","doc","concat","users","collection","week","weeks","app","initializeApp","firestore","GoogleAuthProvider","FacebookAuthProvider","ButtonWrapper","button","SignOutButton_templateObject","Icon","img","SignOutButton_templateObject2","_ref","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","window","location","reload","stop","apply","arguments","type","onClick","src","alt","AuthUserContext","withAuthentication","_useState","useState","_useState2","slicedToArray","authUser","setAuthUser","useEffect","listener","onAuthStateChanged","Session_context","Provider","value","withAuthorization","withRouter","history","push","withAuthUser","StyledLink","Link","StyledTitle_templateObject","TitleWithIcon","StyledTitle_templateObject2","TextWrapper","_templateObject3","_ref3","Title","h1","_templateObject4","_templateObject5","_ref4","to","StyledTitle_Icon","Firebase_SignOutButton","GlobalStyles","createGlobalStyle","globalStyles_templateObject","Wrapper","Navigation_templateObject","sticky","NavLink","Navigation_templateObject2","isactive","Navigation_templateObject3","pathname","isSticky","setIsSticky","onscroll","e","scrollY","includes","Navigation_Icon","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Input_templateObject","inputWidth","Label","label","Input_templateObject2","Input","input","Input_templateObject3","unit","InputUnitWrapper","Input_templateObject4","Unit","span","Input_templateObject5","defaults_Input","onChange","name","other","objectWithoutProperties","Input_Wrapper","primaryStyle","css","Buttons_templateObject","PrimaryButton","Buttons_templateObject2","PrimaryLink","Buttons_templateObject3","Buttons_templateObject4","useSubmitForm","callback","inputs","setInputs","_useState3","_useState4","setError","resetInputs","keys","forEach","key","_objectSpread","defineProperty","handleSubmit","event","preventDefault","handleInputChange","persist","target","getNextWeekNumber","startOfYear","moment","startOf","add","diff","getCurrentWeekNumber","getNextWeekFromToDates","from_date","unix","to_date","endOf","getCurrentWeekFromToDates","countWeekProgress","activities","workouts","weekProgressPercentages","map","activity","seconds","distance","workout","minutes","hoursProgressPercentage","distanceProgressPercentage","Math","round","betterProgress","length","totalProgress","reduce","total","percentage","getUpdatedActivities","activityWorkouts","filter","w","toLowerCase","totalWorkoutSeconds","totalWorkoutDistance","parseInt","isFulfilled","progressMinutesMissing","toFixed","progressDistanceMissing","utils_objectSpread","isCurrentWeek","formatDate","format","getIconFromWorkoutType","getFulfilledWorkoutIcon","formatHours","hours","formatDistance","getWeekDayFromNumber","dayNumber","shouldShowDistance","types","current","t","hideDistance","Loader","Loader_templateObject","SignUpWrapper","SignUp_templateObject","SignUp_templateObject2","Form","form","SignUp_templateObject3","StyledPrimaryButton","SignUp_templateObject4","ErrorMessage","p","SignUp_templateObject5","SignUpPage","isSubmitted","setIsSubmitted","_useSubmitForm","set","doSaveUser","message","isInvalid","confirmPassword","SignUp_Title","onSubmit","placeholder","disabled","SignInGoogle_templateObject","SignInGoogle_templateObject2","Image","SignInGoogle_templateObject3","Text","SignInGoogle_templateObject4","SignInGoogle","SignInGoogle_Wrapper","SignInGoogle_StyledPrimaryButton","socialAuthUser","SignInFacebook_templateObject","SignInFacebook_templateObject2","SignInFacebook_templateObject3","SignInFacebook","SignInFacebook_Wrapper","SignInFacebook_StyledPrimaryButton","SignInFacebook_Image","DelimeterWrapper","SignIn_templateObject","DelimeterText","SignIn_templateObject2","DelimeterLine","SignIn_templateObject3","RegisterLinkWrapper","SignIn_templateObject4","SignIn_templateObject5","ForgotPassword","_templateObject6","SignInPage","Firebase_SignInGoogle","Firebase_SignInFacebook","required","SignIn_StyledLink","activitiesReducer","newValue","valueType","toConsumableArray","_","index","i","reducers_objectSpread","StyledSelect","select","Select_templateObject","Select_templateObject2","StyledOption","option","Select_templateObject3","Select","options","Select_Wrapper","workoutTypes","ActivityForm_templateObject","TitleRemoveWrapper","ActivityForm_templateObject2","InputsWrapper","ActivityForm_templateObject3","HoursDistanceWrapper","ActivityForm_templateObject4","ActivityTitle","h3","ActivityForm_templateObject5","RemoveActivityButton","ActivityForm_templateObject6","ActivityForm","dispatchActivities","activityNumber","showDistance","ActivityForm_Wrapper","defaults_Select","defaultValue","StyledTitle","h2","WeeksPlan_templateObject","PlusIcon","WeeksPlan_templateObject2","AddActivity","WeeksPlan_templateObject3","SavePlanButton","WeeksPlan_templateObject4","_location$state","isNextWeek","nextWeekActivities","nextWeekId","_useReducer","useReducer","_useReducer2","saveNextWeekAndRedirect","undefined","correctActivities","v","firebase_db_objectSpread","parseFloat","toString","replace","progressFulfilled","user_id","doSaveWeeksPlan","WeeksPlan_StyledTitle","components_ActivityForm","confirm","Text_templateObject","WeekDelimeter","DotLineDelimeter_templateObject","TopDot","DotLineDelimeter_templateObject2","BottomDot","DotLineDelimeter_templateObject3","Line","DotLineDelimeter_templateObject4","last","DotLineDelimeter","WorkoutItem_templateObject","WeekWrapper","WorkoutItem_templateObject2","WorkoutIcon","WorkoutItem_templateObject3","InfoWrapper","WorkoutItem_templateObject4","Type","WorkoutItem_templateObject5","Distance","WorkoutItem_templateObject6","TopRow","_templateObject7","BottomRow","_templateObject8","DayInWeekWrapper","_templateObject9","DayInWeek","_templateObject10","DeleteIcon","_templateObject11","WorkoutItem","first","lastDay","isCurrent","deleteWorkout","day","formattedSeconds","formatSeconds","dayName","isoWeekday","slice","WorkoutItem_Wrapper","defaults_DotLineDelimeter","WorkoutPlanItem_templateObject","PlanWrapper","WorkoutPlanItem_templateObject2","WorkoutPlanItem_templateObject3","FullfilledIcon","WorkoutPlanItem_templateObject4","MiddleSection","WorkoutPlanItem_templateObject5","WorkoutPlanItem_templateObject6","Duration","WorkoutPlanItem_templateObject7","Date","WorkoutPlanItem_templateObject8","Delimeter","WorkoutPlanItem_templateObject9","WorkoutPlanItem_templateObject10","MissingStatsWrapper","WorkoutPlanItem_templateObject11","MissingWrapper","_templateObject12","EmptySpace","_templateObject13","Missing","_templateObject14","MissingText","_templateObject15","WorkoutPlanItem","missingMinutes","missingDistance","Fragment","WorkoutPlanItem_Wrapper","WorkoutPlanItem_WorkoutIcon","WorkoutPlanItem_Type","WorkoutPlanItem_BottomRow","WorkoutPlanItem_Date","WeekInfo_templateObject","ishidden","color","WeekProgress","WeekInfo_templateObject2","progress","_ref5","NamePercentageWrapper","WeekInfo_templateObject3","Name","WeekInfo_templateObject4","ProgressPercentage","WeekInfo_templateObject5","_ref6","WeekInfoRow","WeekInfo_templateObject6","ContentWrapper","WeekInfo_templateObject7","DateInfo","WeekInfo_templateObject8","DateDelimeter","WeekInfo_templateObject9","DateWrapper","WeekInfo_templateObject10","WeekInfo","_ref7","id","isHidden","WeekInfo_Wrapper","WorkoutForm_templateObject","MinutesSecondsWrapper","WorkoutForm_templateObject2","WorkoutForm","saveWorkout","setWorkout","daysOptions","dayInWeek","date","getCurrentWeekDays","WorkoutForm_Wrapper","WorkoutForm_objectSpread","AddWorkoutTitle_templateObject","noMarginBottom","CurrentWeeksTitleWrapper","AddWorkoutTitle_templateObject2","CurrentWeeksTitle","AddWorkoutTitle_templateObject3","PlusIconWrapper","AddWorkoutTitle_templateObject4","AddWorkoutTitle_templateObject5","_ref2$noMarginBottom","title","dispatchAppState","isWorkoutFormVisible","setIsWorkoutFormVisible","showButton","AddWorkoutTitle_Wrapper","AddWorkoutTitle_PlusIcon","components_WorkoutForm","correctWorkout","newWorkout","updatedWorkouts","updatedWeek","doSaveWorkout","WorkoutWeek_templateObject","WorkoutWeek_templateObject2","WorkoutWeek_templateObject3","WorkoutWeek_templateObject4","WorkoutWeek_templateObject5","WorkoutWeek_templateObject6","RightArrowIcon","WorkoutWeek_templateObject7","WorkoutWeek_templateObject8","WorkoutWeek_templateObject9","WorkoutWeek_templateObject10","WorkoutWeek","WorkoutWeek_Wrapper","WorkoutWeek_WeekProgress","WorkoutWeek_WeekInfo","WorkoutWeek_NamePercentageWrapper","WorkoutWeek_Name","WorkoutWeek_ProgressPercentage","WorkoutWeek_DateWrapper","WorkoutWeek_DateInfo","WorkoutWeek_DateDelimeter","NewWorkoutLink","Weeks_templateObject","WeeksWrapper","Weeks_templateObject2","WeeksTitle","Weeks_templateObject3","NextWeeksTitle","Weeks_templateObject4","LoadMoreButton","Weeks_templateObject5","DownIcon","Weeks_templateObject6","NoResultsFound","Weeks_templateObject7","previousWeeksOffset","setPreviousWeeksOffset","_useCollectionOnce","useCollectionOnce","where","limit","_useCollectionOnce2","nextWeekFirebase","_useCollection","useCollection","_useCollection2","currentWeekFirebase","loadingCurrentWeek","_useCollectionOnce3","_useCollectionOnce4","previousWeeksFirebase","loadingPreviousWeeks","currentWeek","docs","Weeks_objectSpread","data","nextWeek","canCreateNextWeek","previousWeeks","d","showMoreButton","components_AddWorkoutTitle","components_WorkoutWeek","WeekDetail_templateObject","WorkoutPlanTitle","WeekDetail_templateObject2","ActivitiesWrapper","WeekDetail_templateObject3","params","weekDoc","loading","currentDay","sortedWorkouts","sort","b","deleteWorkoutFromWeek","newWeek","doRemoveWorkout","WeekDetail_Wrapper","components_WeekInfo","components_WorkoutPlanItem","previousDay","nextWorkout","components_WorkoutItem","children","action","scrollTo","top","left","behavior","TitleAll","Stats_templateObject","ProgressWrapper","Stats_templateObject2","CircleProgressWrapper","Stats_templateObject3","StatsWrapper","Stats_templateObject4","Stats_templateObject5","TotalWrapper","Stats_templateObject6","Value","Stats_templateObject7","Stats_templateObject8","ValueWrapper","Stats_templateObject9","NavItems","Stats_templateObject10","NavItem","Stats_templateObject11","active","tab","setTab","setActivity","weeksDoc","Stats_objectSpread","_getTotalHoursAndDist","totalSeconds","totalDistance","totalHours","getTotalHoursAndDistance","_getTotalPlannedHours","totalPlannedSeconds","totalPlannedDistance","totalPlannedHours","getTotalPlannedHoursAndDistance","_getTotalStatsForSpor","sport","sportWorkouts","sportActivities","getTotalStatsForSports","totalSportHours","totalSportDistance","totalSportPlannedHours","totalSportPlannedDistance","react_circular_progressbar_dist_index_esm","text","background","styles","buildStyles","textColor","pathColor","trailColor","textSize","pathTransitionDuration","backgroundColor","Stats_Title","Stats_Type","PasswordForgetPage","BackHomeLink","NotFound_templateObject","NotFound","Home_templateObject","Home_templateObject2","Features","ol","Home_templateObject3","MainText","Home_templateObject4","FeaturesTitle","Home_templateObject5","Home","Home_Wrapper","Home_BackHomeLink","router_templateObject","Routes","components_ScrollToTop","router_Wrapper","react_router","path","exact","component","routes_Home","routes_Weeks","SignIn","SignUp","PasswordForget","routes_WeeksPlan","routes_WeekDetail","routes_Stats","WithAuthApp","globalStyles","components_StyledTitle","components_Navigation","router","rootElement","document","getElementById","ReactDOM","render","react_router_dom","URL","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e963b144.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const FlexRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: row wrap;\r\n`;\r\n\r\nexport const FlexColumn = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n`;\r\n","import React from \"react\";\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport default FirebaseContext;\r\n","import React from \"react\";\nimport FirebaseContext from \"./context\";\n\nconst withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default withFirebase;\n","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.firestore();\r\n    this.googleProvider = new app.auth.GoogleAuthProvider();\r\n    this.facebookProvider = new app.auth.FacebookAuthProvider();\r\n  }\r\n\r\n  // AUTH API\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithGoogle = () => this.auth.signInWithPopup(this.googleProvider);\r\n\r\n  doSignInWithFacebook = () => this.auth.signInWithPopup(this.facebookProvider);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n  // USER API\r\n  user = uid => this.db.doc(`users/${uid}`);\r\n\r\n  users = () => this.db.collection(\"users\");\r\n\r\n  // WEEKS API\r\n  week = uid => this.db.doc(`weeks/${uid}`);\r\n\r\n  weeks = () => this.db.collection(\"weeks\");\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext from \"./context\";\r\nimport withFirebase from \"./withFirebase\";\r\nimport Firebase from \"./firebase\";\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };\r\n","import React from \"react\";\r\nimport { withFirebase } from \".\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonWrapper = styled.button`\r\n  display: flex;\r\n  flex-flow: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  border: 0;\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n`;\r\n\r\nfunction SignOutButton({ firebase }) {\r\n  const signOut = async () => {\r\n    await firebase.doSignOut();\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <ButtonWrapper type=\"button\" onClick={signOut}>\r\n      <Icon src=\"/icons/sign-out.svg\" alt=\"sign-out\" />\r\n    </ButtonWrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(SignOutButton);\r\n","import React from \"react\";\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AuthUserContext from \"./context\";\nimport { withFirebase } from \"../index\";\n\nfunction withAuthentication(Component) {\n  WithAuthentication.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthentication(props) {\n    const { firebase } = props;\n    const [authUser, setAuthUser] = useState(null);\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        authUser ? setAuthUser(authUser) : setAuthUser(null);\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Provider value={authUser}>\n        <Component {...props} />\n      </AuthUserContext.Provider>\n    );\n  }\n\n  return withFirebase(WithAuthentication);\n}\n\nexport default withAuthentication;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport { withFirebase } from \"../index\";\nimport { AuthUserContext } from \".\";\n\nfunction withAuthorization(Component) {\n  WithAuthorization.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    }),\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthorization(props) {\n    const { firebase, history } = props;\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        if (!authUser) {\n          history.push(\"/sign-in\");\n        }\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Consumer>\n        {authUser => (authUser ? <Component {...props} /> : null)}\n      </AuthUserContext.Consumer>\n    );\n  }\n\n  return withFirebase(withRouter(WithAuthorization));\n}\n\nexport default withAuthorization;\n","import React from \"react\";\nimport { AuthUserContext } from \".\";\n\nconst withAuthUser = Component => props => (\n  <AuthUserContext.Consumer>\n    {authUser => <Component {...props} authUser={authUser} />}\n  </AuthUserContext.Consumer>\n);\n\nexport default withAuthUser;\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport SignOutButton from \"./Firebase/SignOutButton\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst TitleWithIcon = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: ${({ authUser }) => (authUser ? \"row\" : \"column\")};\r\n  justify-content: space-around;\r\n  background-color: #ffd873;\r\n  margin: 0;\r\n  padding-bottom: 8px;\r\n  padding-top: ${({ authUser }) => (authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst TextWrapper = styled(FlexRow)`\r\n  margin-top: ${({ authUser }) => (!authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.8em;\r\n  text-align: center;\r\n  color: #444444;\r\n  margin: 0;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-right: 10px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nfunction StyledTitle({ authUser }) {\r\n  return (\r\n    <StyledLink to={authUser ? \"/weeks\" : \"/\"}>\r\n      <TitleWithIcon authUser={authUser}>\r\n        <TextWrapper authUser={authUser}>\r\n          <Icon src=\"/icons/fitness.svg\" />\r\n          <Title>gymmie</Title>\r\n        </TextWrapper>\r\n        {/* <TitleText>track your workouts with ease</TitleText> */}\r\n        {authUser && <SignOutButton />}\r\n      </TitleWithIcon>\r\n    </StyledLink>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(StyledTitle);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n  html {\r\n    transition: all 0.2s ease 0s;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: 'Lato', sans-serif;\r\n    font-size: 16px;\r\n    color: #444444;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n  }\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6 {\r\n    font-family: 'Rubik', sans-serif;\r\n  }\r\n  select.form-control,\r\n  textarea.form-control,\r\n  input.form-control {\r\n    font-size: 16px;\r\n  }\r\n  input[type='file'] {\r\n    width: 100%;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: #444444;\r\n    \r\n    &:hover {\r\n      /* opacity: 0.7; */\r\n    }\r\n  }\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  margin-top: -1px;\r\n  margin-bottom: 8px;\r\n  justify-content: space-around;\r\n  background-color: #ffd873;\r\n  z-index: 15;\r\n  position: sticky;\r\n  top: ${({ sticky }) => (sticky ? 0 : \"initial\")};\r\n  transition: top 2500s linear;\r\n  top: 0;\r\n  padding: 16px 0;\r\n  /* border-bottom-left-radius: 24px;\r\n  border-bottom-right-radius: 24px; */\r\n`;\r\n\r\nconst NavLink = styled(Link)`\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: #444444;\r\n  opacity: ${({ isactive }) => (isactive ? 1 : 0.5)};\r\n  font-weight: ${({ isactive }) => (isactive ? 700 : 400)};\r\n  display: flex;\r\n  flex-flow: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nfunction Navigation({ location: { pathname }, authUser }) {\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.onscroll = e => {\r\n      if (window.scrollY > 100) {\r\n        if (!isSticky) {\r\n          setIsSticky(true);\r\n        }\r\n      } else {\r\n        if (isSticky) {\r\n          setIsSticky(false);\r\n        }\r\n      }\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {authUser && (\r\n        <Wrapper sticky={isSticky}>\r\n          <NavLink\r\n            isactive={pathname === \"/\" || pathname.includes(\"week\") ? 1 : 0}\r\n            to=\"/weeks\"\r\n          >\r\n            <Icon alt=\"calendar-icon\" src=\"/icons/calendar.svg\" />\r\n            <span>Weeks</span>\r\n          </NavLink>\r\n          <NavLink isactive={pathname === \"/stats\" ? 1 : 0} to=\"/stats\">\r\n            <Icon alt=\"stats-icon\" src=\"/icons/stats.svg\" />\r\n            <span>Stats</span>\r\n          </NavLink>\r\n        </Wrapper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withRouter(Navigation));\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexRow } from \"./Flex\";\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-bottom: 8px;\r\n  margin-left: 4px;\r\n  font-weight: 700;\r\n  color: #444444;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  padding: 4px 16px 0;\r\n  height: 45px;\r\n  background-color: #f7f7f7;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1rem;\r\n  width: 100%;\r\n  padding-right: ${({ unit }) => (unit ? \"43px\" : \"16px\")};\r\n\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n\r\n  &::-webkit-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &:-ms-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: #ccc;\r\n  }\r\n`;\r\n\r\nconst InputUnitWrapper = styled(FlexRow)`\r\n  flex-flow: row;\r\n  width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst Unit = styled.span`\r\n  right: 16px;\r\n  position: absolute;\r\n`;\r\n\r\nexport default ({\r\n  label,\r\n  onChange,\r\n  type,\r\n  name,\r\n  value,\r\n  inputWidth,\r\n  unit,\r\n  ...other\r\n}) => (\r\n  <Wrapper inputWidth={inputWidth}>\r\n    <Label>{label}</Label>\r\n    <InputUnitWrapper>\r\n      <Input\r\n        onChange={onChange}\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        unit={unit}\r\n        {...other}\r\n      />\r\n      {unit && <Unit>{unit}</Unit>}\r\n    </InputUnitWrapper>\r\n  </Wrapper>\r\n);\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst primaryStyle = css`\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  max-width: 400px;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1.2rem;\r\n  padding: 16px 12px 12px;\r\n  background-color: #ffd873;\r\n  border-radius: 16px;\r\n  font-weight: 700;\r\n  border: 0;\r\n\r\n  &:disabled {\r\n    opacity: 0.3;\r\n    cursor: initial;\r\n  }\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n  &:disabled:hover {\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nexport const PrimaryButton = styled.button`\r\n  ${primaryStyle};\r\n  width: 100%;\r\n`;\r\n\r\nexport const SecondaryButton = styled(PrimaryButton)``;\r\n\r\nexport const PrimaryLink = styled(Link)`\r\n  ${primaryStyle};\r\n  text-decoration: none;\r\n`;\r\n","import { useState } from \"react\";\r\n\r\nexport const useSubmitForm = callback => {\r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState(null);\r\n\r\n  const resetInputs = () => {\r\n    Object.keys(inputs).forEach(key => {\r\n      setInputs(inputs => ({\r\n        ...inputs,\r\n        [key]: \"\"\r\n      }));\r\n    });\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    callback();\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    event.persist();\r\n    setInputs(inputs => ({\r\n      ...inputs,\r\n      [event.target.name]: event.target.value\r\n    }));\r\n  };\r\n\r\n  return {\r\n    resetInputs,\r\n    handleSubmit,\r\n    handleInputChange,\r\n    inputs,\r\n    error,\r\n    setError\r\n  };\r\n};\r\n","import moment from \"moment\";\r\n\r\nexport function getNextWeekNumber() {\r\n  const startOfYear = moment().startOf(\"year\");\r\n  return moment()\r\n    .add(7, \"days\")\r\n    .diff(startOfYear, \"week\");\r\n}\r\n\r\nexport function getCurrentWeekNumber() {\r\n  const startOfYear = moment().startOf(\"year\");\r\n  return moment().diff(startOfYear, \"week\");\r\n}\r\n\r\nexport function getNextWeekFromToDates() {\r\n  const from_date = moment()\r\n    .add(7, \"days\")\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .add(7, \"days\")\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function getCurrentWeekFromToDates() {\r\n  const from_date = moment()\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function isWeekNextWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date ===\r\n      moment()\r\n        .add(7, \"days\")\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function countWeekProgress(week) {\r\n  const { activities, workouts } = week;\r\n  const weekProgressPercentages = [];\r\n\r\n  activities.map(activity => {\r\n    let seconds = 0;\r\n    let distance = 0;\r\n\r\n    workouts &&\r\n      workouts.map(workout => {\r\n        if (workout.type === activity.type) {\r\n          seconds += workout.minutes * 60 + workout.seconds;\r\n          distance += workout.distance;\r\n        }\r\n        return workout;\r\n      });\r\n\r\n    const hoursProgressPercentage = (seconds / (activity.minutes * 60)) * 100;\r\n    const distanceProgressPercentage = Math.round(\r\n      (distance / activity.distance) * 100,\r\n      2\r\n    );\r\n    let betterProgress = hoursProgressPercentage;\r\n    if (\r\n      distance !== 0 &&\r\n      distanceProgressPercentage > hoursProgressPercentage\r\n    ) {\r\n      betterProgress = distanceProgressPercentage;\r\n    }\r\n\r\n    weekProgressPercentages.push(betterProgress);\r\n\r\n    return activities;\r\n  });\r\n\r\n  if (weekProgressPercentages.length > 0) {\r\n    const totalProgress = weekProgressPercentages.reduce(\r\n      (total, percentage) => total + percentage,\r\n      0\r\n    );\r\n    return Math.round(totalProgress / weekProgressPercentages.length);\r\n  }\r\n\r\n  return 0;\r\n}\r\n\r\nexport function getUpdatedActivities(activities, workouts) {\r\n  return activities.map(activity => {\r\n    const activityWorkouts = workouts.filter(\r\n      w => w.type.toLowerCase() === activity.type.toLowerCase()\r\n    );\r\n    let totalWorkoutSeconds = 0;\r\n    let totalWorkoutDistance = 0;\r\n\r\n    activityWorkouts &&\r\n      activityWorkouts.forEach(workout => {\r\n        totalWorkoutSeconds +=\r\n          parseInt(workout.minutes, 10) * 60 + parseInt(workout.seconds, 10);\r\n        totalWorkoutDistance += parseInt(workout.distance, 10);\r\n      });\r\n\r\n    const isFulfilled =\r\n      activity.distance !== 0\r\n        ? totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60 ||\r\n          totalWorkoutDistance >= parseInt(activity.distance, 10)\r\n        : totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60;\r\n    const progressMinutesMissing = (\r\n      (parseInt(activity.minutes, 10) * 60 - totalWorkoutSeconds) /\r\n      60\r\n    ).toFixed(0);\r\n    const progressDistanceMissing =\r\n      parseInt(activity.distance, 10) - totalWorkoutDistance;\r\n\r\n    return {\r\n      ...activity,\r\n      isFulfilled,\r\n      progressMinutesMissing,\r\n      progressDistanceMissing\r\n    };\r\n  });\r\n}\r\n\r\nexport function isCurrentWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date &&\r\n    formatDate(week.from_date) ===\r\n      moment()\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function getIconFromWorkoutType(type) {\r\n  switch (type.toLowerCase()) {\r\n    case \"running\":\r\n      return \"/icons/running.svg\";\r\n\r\n    case \"biking\":\r\n      return \"/icons/biking.svg\";\r\n\r\n    case \"swimming\":\r\n      return \"/icons/swimming.svg\";\r\n\r\n    case \"gym\":\r\n      return \"/icons/fitness.svg\";\r\n\r\n    case \"other\":\r\n      return \"/icons/ball.svg\";\r\n\r\n    default:\r\n      return \"/icons/fitness.svg\";\r\n  }\r\n}\r\n\r\nexport function getFulfilledWorkoutIcon(isFulfilled) {\r\n  if (isFulfilled) {\r\n    return \"/icons/check.svg\";\r\n  }\r\n\r\n  return \"/icons/close.svg\";\r\n}\r\n\r\nexport function formatDate(unix) {\r\n  return moment.unix(unix).format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function formatHours(hours) {\r\n  return `${hours} minutes`;\r\n}\r\n\r\nexport function formatDistance(distance) {\r\n  return `${distance} km`;\r\n}\r\n\r\nexport function getCurrentWeekDays(week) {\r\n  const { from_date } = week;\r\n  const daysOptions = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    const next = moment.unix(from_date).add(i, \"day\");\r\n    const dayInWeek = getWeekDayFromNumber(next.isoWeekday());\r\n    const date = next.format(\"DD.MM.YYYY\");\r\n    daysOptions.push({ name: `${dayInWeek} - ${date}`, value: date });\r\n  }\r\n\r\n  return daysOptions;\r\n}\r\n\r\nexport function getWeekDayFromNumber(dayNumber) {\r\n  switch (dayNumber) {\r\n    case 1:\r\n      return \"Monday\";\r\n    case 2:\r\n      return \"Tuesday\";\r\n    case 3:\r\n      return \"Wednesday\";\r\n    case 4:\r\n      return \"Thursday\";\r\n    case 5:\r\n      return \"Friday\";\r\n    case 6:\r\n      return \"Saturday\";\r\n    case 7:\r\n      return \"Sunday\";\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nexport function getTodayDate() {\r\n  return moment().format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function canNextWeekBeCreated(weeks) {\r\n  let canCreateNextWeek = true;\r\n  const lastCreatedWeek = weeks[weeks.length - 1];\r\n  if (lastCreatedWeek) {\r\n    canCreateNextWeek = !isWeekNextWeek(lastCreatedWeek);\r\n  }\r\n\r\n  return canCreateNextWeek;\r\n}\r\n\r\nexport function getPreviousWeeks(weeks) {\r\n  const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n  const withoutNext = canCreateNextWeek\r\n    ? weeks\r\n    : weeks.slice(0, weeks.length - 1);\r\n\r\n  const hasCurrent = isCurrentWeek(withoutNext[withoutNext.length - 1]);\r\n  const withoutCurrentAndNext = hasCurrent\r\n    ? withoutNext.slice(0, withoutNext.length - 1)\r\n    : withoutNext;\r\n\r\n  return withoutCurrentAndNext;\r\n}\r\n\r\nexport function formatSeconds(seconds) {\r\n  return seconds.toString().length === 1 ? `0${seconds}` : seconds;\r\n}\r\n\r\nexport function shouldShowDistance(type, types) {\r\n  const current = types.filter(t => t.name === type)[0];\r\n  if (!current) {\r\n    return true;\r\n  }\r\n\r\n  return !current.hideDistance;\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Loader = styled.div`\r\n  border: 5px solid #f3f3f3;\r\n  -webkit-animation: spin 1s linear infinite;\r\n  animation: spin 1s linear infinite;\r\n  border-top: 5px solid #555;\r\n  border-radius: 50%;\r\n  width: 12px;\r\n  height: 12px;\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport Input from \"../defaults/Input\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nconst SignUpWrapper = styled(FlexColumn)``;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 26px;\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Form = styled.form``;\r\n\r\nexport const StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  margin: 24px 0 8px;\r\n  color: #f78464;\r\n`;\r\n\r\nfunction SignUpForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { name, email, password } = inputs;\r\n    firebase\r\n      .doCreateUserWithEmailAndPassword(email, password)\r\n      .then(authUser => {\r\n        doSaveUser(firebase, authUser, { name, email });\r\n\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error.message);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    (!inputs.password ||\r\n      inputs.password === \"\" ||\r\n      !inputs.email ||\r\n      inputs.email === \"\" ||\r\n      !inputs.name ||\r\n      inputs.name === \"\" ||\r\n      !inputs.confirmPassword ||\r\n      inputs.password !== inputs.confirmPassword);\r\n\r\n  return (\r\n    <SignUpWrapper>\r\n      <Title>Sign up</Title>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"name\"\r\n          value={inputs.name}\r\n          onChange={handleInputChange}\r\n          type=\"text\"\r\n          placeholder=\"John Smith\"\r\n          label=\"Full name\"\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          placeholder=\"johnsmith@email.com\"\r\n          label=\"Email\"\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n        />\r\n        <Input\r\n          name=\"confirmPassword\"\r\n          value={inputs.confirmPassword}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Confirm password\"\r\n        />\r\n        {error && <ErrorMessage>Error: {error}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign Up\"}\r\n        </StyledPrimaryButton>\r\n      </Form>\r\n    </SignUpWrapper>\r\n  );\r\n}\r\n\r\nconst SignUpPage = withRouter(withFirebase(SignUpForm));\r\n\r\nexport default SignUpPage;\r\n","import {\n  getNextWeekFromToDates,\n  getNextWeekNumber,\n  getUpdatedActivities,\n  countWeekProgress,\n  getCurrentWeekFromToDates,\n  getCurrentWeekNumber\n} from \"./utils\";\n\nexport function doSaveWeeksPlan(\n  firebase,\n  authUser,\n  activities,\n  isNextWeek,\n  nextWeekId = null\n) {\n  const { from_date, to_date } = isNextWeek\n    ? getNextWeekFromToDates()\n    : getCurrentWeekFromToDates();\n\n  const correctActivities =\n    activities &&\n    activities.map(v => ({\n      ...v,\n      minutes: parseInt(v.minutes, 10) || 0,\n      distance: parseFloat(v.distance.toString().replace(/,/g, \".\")) || 0\n    }));\n\n  if (!nextWeekId) {\n    firebase\n      .weeks()\n      .doc()\n      .set({\n        name: `Week ${\n          isNextWeek ? getNextWeekNumber() : getCurrentWeekNumber()\n        }`,\n        from_date,\n        to_date,\n        progressFulfilled: \"0\",\n        user_id: authUser.uid,\n        activities: correctActivities,\n        workouts: []\n      });\n  } else {\n    firebase\n      .weeks()\n      .doc(nextWeekId)\n      .set({\n        name: `Week ${getNextWeekNumber()}`,\n        from_date,\n        to_date,\n        progressFulfilled: \"0\",\n        user_id: authUser.uid,\n        activities: correctActivities,\n        workouts: []\n      });\n  }\n}\n\nexport function doSaveWorkout(firebase, authUser, week, workout) {\n  const correctWorkout = {\n    ...workout,\n    minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\n    seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\n    distance: workout.distance === \"\" ? \"0\" : workout.distance\n  };\n  const { minutes, seconds, distance } = correctWorkout;\n\n  const newWorkout = {\n    ...workout,\n    minutes: parseInt(minutes, 10),\n    seconds: parseInt(seconds, 10),\n    distance: parseFloat(distance.replace(/,/g, \".\")),\n    id: week.workouts.length + 1\n  };\n\n  const updatedWorkouts = [...week.workouts, newWorkout];\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n\n  const updatedWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const progressFulfilled = countWeekProgress(updatedWeek);\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...week,\n      ...updatedWeek,\n      progressFulfilled\n    });\n}\n\nexport function doRemoveWorkout(firebase, authUser, week, index) {\n  const { workouts } = week;\n  const updatedWorkouts = [\n    ...workouts.slice(0, index),\n    ...workouts.slice(index + 1)\n  ];\n\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n  const newWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const newProgress = countWeekProgress(newWeek);\n  const updatedWeek = { ...newWeek, progressFulfilled: newProgress };\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...updatedWeek\n    });\n}\n\nexport function doSaveUser(firebase, authUser, { name, email }) {\n  try {\n    firebase\n      .users()\n      .doc(authUser.user.uid)\n      .set({\n        name,\n        email\n      });\n  } catch (e) {\n    console.log({ e });\n  }\n}\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { withFirebase } from \".\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: white;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border: 1px solid #414141;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 30px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  margin: 0;\r\n  margin-top: 4px;\r\n`;\r\n\r\nfunction SignInGoogleForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithGoogle()\r\n      .then(socialAuthUser => {\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/google.svg\" />\r\n        <Text>Google</Text>\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInGoogle = withFirebase(withRouter(SignInGoogleForm));\r\n\r\nexport default SignInGoogle;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: #3b5998;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 150px;\r\n`;\r\n\r\nfunction SignInFacebookForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithFacebook()\r\n      .then(() => {\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/facebook.svg\" />\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInFacebook = withFirebase(withRouter(SignInFacebookForm));\r\n\r\nexport default SignInFacebook;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { FlexColumn, FlexRow } from \"../defaults/Flex\";\r\nimport { Title, StyledPrimaryButton, ErrorMessage } from \"./SignUp\";\r\nimport Input from \"../defaults/Input\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport SignInGoogle from \"./SignInGoogle\";\r\nimport SignInFacebook from \"./SignInFacebook\";\r\nimport styled from \"styled-components\";\r\nimport { withFirebase } from \".\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nSignInForm.propTypes = {\r\n  firebase: PropTypes.shape({\r\n    doSignInWithEmailAndPassword: PropTypes.func.isRequired\r\n  }),\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  })\r\n};\r\n\r\nconst DelimeterWrapper = styled(FlexRow)`\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst DelimeterText = styled.div`\r\n  flex: 0.5 auto;\r\n  color: gray;\r\n  text-align: center;\r\n`;\r\n\r\nconst DelimeterLine = styled.div`\r\n  background-color: lightgray;\r\n  height: 1px;\r\n  flex: 1 auto;\r\n`;\r\n\r\nconst RegisterLinkWrapper = styled.p`\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nconst ForgotPassword = styled(Link)`\r\n  margin: 16px 0;\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nfunction SignInForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { email, password } = inputs;\r\n    firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    !inputs.password ||\r\n    inputs.password === \"\" ||\r\n    !inputs.email ||\r\n    inputs.email === \"\";\r\n\r\n  return (\r\n    <FlexColumn>\r\n      <Title>Sign in to your account</Title>\r\n      <SignInGoogle />\r\n      <SignInFacebook />\r\n      <DelimeterWrapper>\r\n        <DelimeterLine />\r\n        <DelimeterText>or</DelimeterText>\r\n        <DelimeterLine />\r\n      </DelimeterWrapper>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          label=\"Email\"\r\n          required={true}\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          required={true}\r\n        />\r\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign In\"}\r\n        </StyledPrimaryButton>\r\n        <RegisterLinkWrapper>\r\n          {\"Don't have an account? \"}\r\n          <StyledLink to={\"/sign-up\"}>Sign Up</StyledLink>\r\n        </RegisterLinkWrapper>\r\n        <ForgotPassword to={\"/password-forget\"}>\r\n          Forgot your password?\r\n        </ForgotPassword>\r\n      </form>\r\n    </FlexColumn>\r\n  );\r\n}\r\n\r\nconst SignInPage = withFirebase(withRouter(SignInForm));\r\n\r\nexport default SignInPage;\r\n","import {\r\n  getNextWeekFromToDates,\r\n  getNextWeekNumber,\r\n  countWeekProgress,\r\n  getCurrentWeekFromToDates,\r\n  getCurrentWeekNumber,\r\n  canNextWeekBeCreated,\r\n  getUpdatedActivities\r\n} from \"./utils\";\r\n\r\nexport const appStateReducer = (appState, { type, value, id, workout }) => {\r\n  switch (type) {\r\n    case \"populateAppState\":\r\n      return value;\r\n\r\n    case \"deleteWorkout\": {\r\n      const { weeks } = appState;\r\n      const { from_date } = getCurrentWeekFromToDates();\r\n\r\n      const currentWeek = weeks.filter(w => w.from_date === from_date)[0];\r\n      const { workouts } = currentWeek;\r\n      const index = workouts.findIndex(w => w.id === id);\r\n      const updatedWorkouts = [\r\n        ...workouts.slice(0, index),\r\n        ...workouts.slice(index + 1)\r\n      ];\r\n\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === currentWeek.id) {\r\n          const updatedActivities = getUpdatedActivities(\r\n            week.activities,\r\n            updatedWorkouts\r\n          );\r\n          const newWeek = {\r\n            ...week,\r\n            workouts: updatedWorkouts,\r\n            activities: updatedActivities\r\n          };\r\n          const newProgress = countWeekProgress(newWeek);\r\n          return { ...newWeek, progressFulfilled: newProgress };\r\n        }\r\n        return week;\r\n      });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"saveCurrentWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getCurrentWeekFromToDates();\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const currentWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getCurrentWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n      let newState;\r\n      if (canCreateNextWeek) {\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeks, currentWeek]\r\n        };\r\n      } else {\r\n        const nextWeek = weeks[weeks.length - 1];\r\n        const weeksWithoutNext = weeks.slice(0, weeks.length - 1);\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeksWithoutNext, currentWeek, nextWeek]\r\n        };\r\n      }\r\n\r\n      // if (weeks[weeks.length - 1].from_date === from_date) {\r\n      //   const newWeeks = weeks;\r\n      //   newWeeks[newWeeks.length - 1] = currentWeek;\r\n      //   newState = {\r\n      //     ...appState,\r\n      //     weeks: newWeeks\r\n      //   };\r\n      // }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"saveNextWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getNextWeekFromToDates();\r\n\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const nextWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getNextWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      let newState = {\r\n        ...appState,\r\n        weeks: [...appState.weeks, nextWeek]\r\n      };\r\n\r\n      if (weeks[weeks.length - 1].from_date === from_date) {\r\n        const newWeeks = weeks;\r\n        newWeeks[newWeeks.length - 1] = nextWeek;\r\n        newState = {\r\n          ...appState,\r\n          weeks: newWeeks\r\n        };\r\n      }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"hideWeek\": {\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === value) {\r\n          return { ...week, isHidden: !week.isHidden };\r\n        }\r\n        return week;\r\n      });\r\n      return {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n    }\r\n\r\n    case \"addWorkout\": {\r\n      const { weeks } = appState;\r\n      const correctWorkout = {\r\n        ...workout,\r\n        minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\r\n        seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\r\n        distance: workout.distance === \"\" ? \"0\" : workout.distance\r\n      };\r\n      const { minutes, seconds, distance } = correctWorkout;\r\n      const updatedWeeks =\r\n        weeks &&\r\n        weeks.map(week => {\r\n          if (week.id === value) {\r\n            const newWorkout = {\r\n              ...workout,\r\n              minutes: parseInt(minutes, 10),\r\n              seconds: parseInt(seconds, 10),\r\n              distance: parseFloat(distance.replace(/,/g, \".\")),\r\n              id: week.workouts.length + 1\r\n            };\r\n\r\n            const updatedWorkouts = [...week.workouts, newWorkout];\r\n            const updatedActivities = getUpdatedActivities(\r\n              week.activities,\r\n              updatedWorkouts\r\n            );\r\n\r\n            const updatedWeek = {\r\n              ...week,\r\n              workouts: updatedWorkouts,\r\n              activities: updatedActivities\r\n            };\r\n\r\n            return {\r\n              ...updatedWeek,\r\n              progressFulfilled: countWeekProgress(updatedWeek)\r\n            };\r\n          }\r\n          return week;\r\n        });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n\r\n      return newState;\r\n    }\r\n    default:\r\n      return appState;\r\n  }\r\n};\r\n\r\nexport const activitiesReducer = (\r\n  activities,\r\n  { type, value, newValue, valueType }\r\n) => {\r\n  switch (type) {\r\n    case \"setActivities\":\r\n      return value;\r\n    case \"add\":\r\n      return [...activities, value];\r\n    case \"remove\":\r\n      return activities.filter((_, index) => index !== value);\r\n    case \"setActivityValue\":\r\n      const updatedActivities = activities.map((activity, i) => {\r\n        if (i === value) {\r\n          return { ...activity, [valueType]: newValue };\r\n        }\r\n        return activity;\r\n      });\r\n      return updatedActivities;\r\n    default:\r\n      return activities;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Label } from \"./Input\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst StyledSelect = styled.select`\r\n  display: block;\r\n  font-size: 16px;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-weight: 500;\r\n  color: #444444;\r\n  line-height: 1.3;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 16px;\r\n  margin: 0;\r\n  border: 1px solid #aaa;\r\n  box-shadow: 0 1px 0 1px rgba(0, 0, 0, 0.04);\r\n  border-radius: 0.5em;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-color: #fff;\r\n  background-image: linear-gradient(45deg, transparent 50%, #444444 50%),\r\n    linear-gradient(135deg, #444444 50%, transparent 50%),\r\n    radial-gradient(#f7f7f7 70%, transparent 72%);\r\n  /* background-position: calc(100% - 20px) calc(1em + 2px),\r\n    calc(100% - 15px) calc(1em + 2px), calc(100% - 0.5em) 0.5em; */\r\n  background-position: calc(100% - 20px) calc(1em + 8px),\r\n    calc(100% - 15px) calc(1em + 8px), calc(100% - 0.5em) 0.5em;\r\n  background-size: 5px 5px, 5px 5px, 1.5em 1.5em;\r\n  background-repeat: no-repeat;\r\n\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  background-color: #f7f7f7;\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &::-ms-expand {\r\n    display: none;\r\n  }\r\n\r\n  &:hover {\r\n    border-color: #888;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nconst StyledOption = styled.option`\r\n  font-weight: normal;\r\n`;\r\n\r\nfunction Select({ options, value, onChange, label }) {\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <StyledSelect value={value} onChange={onChange}>\r\n        {options &&\r\n          options.map((option, i) => (\r\n            <StyledOption value={option.value} key={i}>\r\n              {option.name}\r\n            </StyledOption>\r\n          ))}\r\n      </StyledSelect>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","export const workoutTypes = [\r\n  { name: \"Running\", value: \"Running\" },\r\n  { name: \"Swimming\", value: \"Swimming\" },\r\n  { name: \"Biking\", value: \"Biking\" },\r\n  { name: \"Gym\", value: \"Gym\", hideDistance: true },\r\n  { name: \"Other\", value: \"Other\" }\r\n];\r\n","import React from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport styled from \"styled-components\";\r\nimport { shouldShowDistance } from \"../utils\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin: 16px 0;\r\n`;\r\n\r\nconst TitleRemoveWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst InputsWrapper = styled(FlexColumn)``;\r\n\r\nconst HoursDistanceWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActivityTitle = styled.h3`\r\n  font-size: 16px;\r\n  margin: 0;\r\n`;\r\n\r\nconst RemoveActivityButton = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 20px;\r\n  background-color: #dc9987cc;\r\n  color: #444444;\r\n`;\r\n\r\nfunction ActivityForm({ dispatchActivities, activityNumber, activity }) {\r\n  const i = activityNumber - 1;\r\n  const { type, minutes, distance } = activity;\r\n  const showDistance = shouldShowDistance(type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TitleRemoveWrapper>\r\n        <ActivityTitle>Activity {activityNumber}</ActivityTitle>\r\n        <RemoveActivityButton\r\n          onClick={() => dispatchActivities({ type: \"remove\", value: i })}\r\n        >\r\n          Remove\r\n        </RemoveActivityButton>\r\n      </TitleRemoveWrapper>\r\n      <InputsWrapper>\r\n        <Select\r\n          defaultValue={\"Running\"}\r\n          value={type}\r\n          options={workoutTypes}\r\n          onChange={e =>\r\n            dispatchActivities({\r\n              type: \"setActivityValue\",\r\n              value: i,\r\n              newValue: e.target.value,\r\n              valueType: \"type\"\r\n            })\r\n          }\r\n        />\r\n        <HoursDistanceWrapper>\r\n          <Input\r\n            inputWidth={\"45%\"}\r\n            label=\"minutes\"\r\n            type=\"number\"\r\n            name=\"minutes\"\r\n            placeholder=\"0\"\r\n            value={minutes}\r\n            onChange={e =>\r\n              dispatchActivities({\r\n                type: \"setActivityValue\",\r\n                value: i,\r\n                newValue: e.target.value,\r\n                valueType: \"minutes\"\r\n              })\r\n            }\r\n          />\r\n          {showDistance && (\r\n            <Input\r\n              unit=\"km\"\r\n              inputWidth={\"45%\"}\r\n              label=\"distance\"\r\n              type=\"number\"\r\n              name=\"distance\"\r\n              placeholder=\"0\"\r\n              value={distance}\r\n              onChange={e =>\r\n                dispatchActivities({\r\n                  type: \"setActivityValue\",\r\n                  value: i,\r\n                  newValue: e.target.value,\r\n                  valueType: \"distance\"\r\n                })\r\n              }\r\n            />\r\n          )}\r\n        </HoursDistanceWrapper>\r\n      </InputsWrapper>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default ActivityForm;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport { activitiesReducer } from \"../reducers\";\r\nimport styled from \"styled-components\";\r\nimport ActivityForm from \"../components/ActivityForm\";\r\nimport { FlexRow } from \"../components/defaults/Flex\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doSaveWeeksPlan } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\n\r\nconst StyledTitle = styled.h2`\r\n  font-size: 20px;\r\n  margin: 0;\r\n  margin-bottom: 32px;\r\n  text-align: center;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst AddActivity = styled(FlexRow)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 16px;\r\n  background-color: #689f3830;\r\n  color: #444444;\r\n  border-radius: 16px;\r\n  width: fit-content;\r\n  margin: 0 auto;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst SavePlanButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nfunction WeeksPlan({ history, location, firebase, authUser }) {\r\n  const {\r\n    state: { isNextWeek, nextWeekActivities, nextWeekId }\r\n  } = location;\r\n\r\n  const [activities, dispatchActivities] = useReducer(activitiesReducer, [\r\n    { type: \"Running\", minutes: \"\", distance: \"\" }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isNextWeek && nextWeekActivities) {\r\n      dispatchActivities({\r\n        type: \"setActivities\",\r\n        value: nextWeekActivities\r\n      });\r\n    }\r\n  }, [isNextWeek, nextWeekActivities]);\r\n\r\n  const saveNextWeekAndRedirect = () => {\r\n    doSaveWeeksPlan(firebase, authUser, activities, isNextWeek, nextWeekId);\r\n\r\n    history.push(\"/weeks\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <StyledTitle>\r\n        {isNextWeek ? \"Next week's plan\" : \"Current week's plan\"}\r\n      </StyledTitle>\r\n\r\n      {activities &&\r\n        activities.map((activity, i) => {\r\n          const activityNumber = i + 1;\r\n          return (\r\n            <ActivityForm\r\n              key={i}\r\n              activityNumber={activityNumber}\r\n              activity={activity}\r\n              dispatchActivities={dispatchActivities}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <AddActivity\r\n        onClick={() =>\r\n          dispatchActivities({\r\n            type: \"add\",\r\n            value: { type: \"\", minutes: \"\", distance: \"\" }\r\n          })\r\n        }\r\n      >\r\n        <PlusIcon src=\"/icons/plus.svg\" alt=\"plus-icon\" />\r\n        Add activity\r\n      </AddActivity>\r\n\r\n      <SavePlanButton\r\n        disabled={activities.length === 0}\r\n        onClick={e => {\r\n          if (\r\n            !isNextWeek &&\r\n            window.confirm(\r\n              \"Are you sure you want to create this workout? You won't be able to change it later\"\r\n            )\r\n          ) {\r\n            saveNextWeekAndRedirect(e);\r\n          } else {\r\n            saveNextWeekAndRedirect(e);\r\n          }\r\n        }}\r\n      >\r\n        Save next week's plan\r\n      </SavePlanButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeeksPlan)))\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Text = styled.p`\r\n  margin: 0;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  color: #444444;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst WeekDelimeter = styled(FlexColumn)`\r\n  align-items: center;\r\n`;\r\n\r\nconst TopDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-top-left-radius: 12px;\r\n  border-top-right-radius: 12px;\r\n  border-top: 0;\r\n  background-color: white;\r\n  margin-top: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst BottomDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-bottom-left-radius: 12px;\r\n  border-bottom-right-radius: 12px;\r\n  border-bottom: 0;\r\n  background-color: white;\r\n  margin-bottom: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst Line = styled.div`\r\n  width: 2px;\r\n  height: ${({ last }) => (last ? \"48px\" : \"16px\")};\r\n  background-color: #ccc9;\r\n`;\r\n\r\nfunction DotLineDelimeter({ last }) {\r\n  return (\r\n    <WeekDelimeter>\r\n      <TopDot />\r\n      <Line last={last} />\r\n      <BottomDot />\r\n    </WeekDelimeter>\r\n  );\r\n}\r\n\r\nexport default DotLineDelimeter;\r\n","import React from \"react\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport {\r\n  getIconFromWorkoutType,\r\n  formatDistance,\r\n  formatSeconds,\r\n  getWeekDayFromNumber\r\n} from \"../utils\";\r\nimport DotLineDelimeter from \"./defaults/DotLineDelimeter\";\r\nimport moment from \"moment\";\r\n\r\nconst Wrapper = styled(FlexColumn)``;\r\n\r\nconst WeekWrapper = styled(FlexRow)`\r\n  max-width: 400px;\r\n  background-color: #eeeeee;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst WorkoutIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst InfoWrapper = styled(FlexColumn)`\r\n  flex: 1;\r\n`;\r\n\r\nconst Type = styled(Text)`\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  color: #44444491;\r\n`;\r\n\r\nconst Distance = styled(Text)`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst TopRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst BottomRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst DayInWeekWrapper = styled.div`\r\n  position: relative;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst DayInWeek = styled.h3`\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: absolute;\r\n  top: -20px;\r\n  color: #444444a1;\r\n`;\r\n\r\nconst DeleteIcon = styled.img`\r\n  width: 24x;\r\n  height: 24px;\r\n  margin-left: 24px;\r\n`;\r\n\r\nconst WorkoutItem = ({\r\n  workout,\r\n  last,\r\n  first,\r\n  lastDay,\r\n  isCurrent,\r\n  deleteWorkout\r\n}) => {\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const formattedSeconds = formatSeconds(seconds);\r\n  const dayName = getWeekDayFromNumber(\r\n    moment(day, \"DD.MM.YYYY\").isoWeekday()\r\n  ).slice(0, 2);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {first && (\r\n        <DayInWeekWrapper>\r\n          <DayInWeek>{`${dayName} - ${day}`}</DayInWeek>\r\n        </DayInWeekWrapper>\r\n      )}\r\n      <WeekWrapper>\r\n        <WorkoutIcon src={getIconFromWorkoutType(type)} />\r\n        <InfoWrapper>\r\n          <TopRow>\r\n            <Type>{type}</Type>\r\n          </TopRow>\r\n          <BottomRow>\r\n            <Distance>{`${formatDistance(\r\n              distance\r\n            )} / ${minutes}:${formattedSeconds}`}</Distance>\r\n          </BottomRow>\r\n        </InfoWrapper>\r\n        {isCurrent && (\r\n          <DeleteIcon onClick={deleteWorkout} src=\"/icons/delete.svg\" />\r\n        )}\r\n      </WeekWrapper>\r\n      {!last && <DotLineDelimeter last={lastDay} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default WorkoutItem;\r\n","import React from \"react\";\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\nimport styled from \"styled-components\";\nimport { Text } from \"./defaults/Text\";\nimport {\n  getIconFromWorkoutType,\n  formatDistance,\n  formatHours,\n  getFulfilledWorkoutIcon\n} from \"../utils\";\n\nconst Wrapper = styled(FlexColumn)`\n  background-color: ${({ isFulfilled }) =>\n    isFulfilled ? \" #689f3830\" : \"#dc99874a\"};\n  border-radius: 8px;\n  padding: 16px;\n  border-bottom-right-radius: ${({ isFulfilled }) => (isFulfilled ? \"8px\" : 0)};\n  margin-bottom: ${({ isFulfilled }) => (isFulfilled ? \"16px\" : 0)};\n`;\n\nconst PlanWrapper = styled(FlexRow)`\n  max-width: 400px;\n  /* padding: 12px; */\n`;\n\nconst WorkoutIcon = styled.img`\n  width: 24px;\n  height: 24px;\n  margin-right: 16px;\n`;\n\nconst FullfilledIcon = styled.img`\n  width: 32px;\n  height: 32px;\n`;\n\nconst MiddleSection = styled(FlexColumn)`\n  flex: 1;\n`;\n\nconst Type = styled(Text)`\n  font-weight: 700;\n  margin-bottom: 4px;\n`;\n\nconst Duration = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Date = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Delimeter = styled(Text)`\n  color: gray;\n  font-size: 16px;\n  margin: 0 8px;\n`;\n\nconst BottomRow = styled(FlexRow)`\n  width: 100%;\n`;\n\nconst MissingStatsWrapper = styled(FlexRow)`\n  justify-content: flex-end;\n  margin-left: auto;\n  padding: 16px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  background: white;\n  border: 2px solid #dc99874a;\n  border-top: 0;\n`;\n\nconst MissingWrapper = styled(FlexRow)`\n  height: 50px;\n  width: 100%;\n  margin-bottom: 16px;\n`;\n\nconst EmptySpace = styled.div`\n  background: white;\n  height: 100%;\n`;\n\nconst Missing = styled(Text)`\n  font-weight: 700;\n  color: #dc9987cc;\n  margin: 0 8px;\n`;\n\nconst MissingText = styled(Text)`\n  color: #444444;\n`;\n\nconst WorkoutPlanItem = ({ activity }) => {\n  const {\n    type,\n    minutes,\n    distance,\n    isFulfilled,\n    progressMinutesMissing,\n    progressDistanceMissing\n  } = activity;\n\n  const missingMinutes = progressMinutesMissing || minutes;\n  const missingDistance = progressDistanceMissing || distance;\n\n  return (\n    <>\n      <Wrapper isFulfilled={isFulfilled}>\n        <PlanWrapper>\n          <WorkoutIcon src={getIconFromWorkoutType(type)} />\n          <MiddleSection>\n            <Type>{type}</Type>\n            <BottomRow>\n              <Date>{formatHours(minutes)}</Date>\n              <Delimeter>{\"/\"}</Delimeter>\n              <Duration>{formatDistance(distance)}</Duration>\n            </BottomRow>\n          </MiddleSection>\n          <FullfilledIcon src={getFulfilledWorkoutIcon(isFulfilled)} />\n        </PlanWrapper>\n      </Wrapper>\n      {!isFulfilled && (\n        <MissingWrapper>\n          <EmptySpace />\n          <MissingStatsWrapper>\n            <FlexRow>\n              <Missing>{\"Missing: \"}</Missing>\n              <MissingText>{formatHours(missingMinutes)}</MissingText>\n              {distance !== 0 && (\n                <>\n                  <Delimeter>{\"/\"}</Delimeter>\n                  <MissingText>{formatDistance(missingDistance)}</MissingText>\n                </>\n              )}\n            </FlexRow>\n          </MissingStatsWrapper>\n        </MissingWrapper>\n      )}\n    </>\n  );\n};\n\nexport default WorkoutPlanItem;\n","import React from \"react\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 16px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: center;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  font-family: \"Rubik\", sans-serif;\r\n  font-size: 24px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfoRow = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentWrapper = styled(FlexColumn)`\r\n  width: 100%;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WeekInfo({ week }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeeeb0\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfoRow>\r\n        <ContentWrapper>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <FlexRow>\r\n              <DateInfo>{formatDate(from_date)}</DateInfo>\r\n              <DateDelimeter>{\"-\"}</DateDelimeter>\r\n              <DateInfo>{formatDate(to_date)}</DateInfo>\r\n            </FlexRow>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </DateWrapper>\r\n        </ContentWrapper>\r\n      </WeekInfoRow>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WeekInfo;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { PrimaryButton } from \"./defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { getCurrentWeekDays, getTodayDate, shouldShowDistance } from \"../utils\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst MinutesSecondsWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WorkoutForm({ saveWorkout, week }) {\r\n  const [workout, setWorkout] = useState({\r\n    day: getTodayDate(),\r\n    type: \"Running\",\r\n    minutes: \"\",\r\n    seconds: \"\",\r\n    distance: \"\"\r\n  });\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const daysOptions = getCurrentWeekDays(week);\r\n  const showDistance = shouldShowDistance(workout.type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Select\r\n        label=\"day\"\r\n        value={day}\r\n        options={daysOptions}\r\n        onChange={e => setWorkout({ ...workout, day: e.target.value })}\r\n      />\r\n      <Select\r\n        label=\"type\"\r\n        value={type}\r\n        options={workoutTypes}\r\n        onChange={e => setWorkout({ ...workout, type: e.target.value })}\r\n      />\r\n      <MinutesSecondsWrapper>\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"minutes\"\r\n          type=\"number\"\r\n          name=\"minutes\"\r\n          placeholder={0}\r\n          value={minutes}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, minutes: e.target.value });\r\n          }}\r\n        />\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"seconds\"\r\n          type=\"number\"\r\n          name=\"seconds\"\r\n          placeholder={0}\r\n          value={seconds}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, seconds: e.target.value });\r\n          }}\r\n        />\r\n        {showDistance && (\r\n          <Input\r\n            inputWidth={\"35%\"}\r\n            label=\"distance\"\r\n            type=\"number\"\r\n            name=\"Distance\"\r\n            unit={\"km\"}\r\n            placeholder={0}\r\n            value={distance}\r\n            onChange={e => {\r\n              setWorkout({ ...workout, distance: e.target.value });\r\n            }}\r\n          />\r\n        )}\r\n      </MinutesSecondsWrapper>\r\n      <PrimaryButton onClick={() => saveWorkout(workout)}>\r\n        Add workout\r\n      </PrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutForm;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport WorkoutForm from \"./WorkoutForm\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\nimport { doSaveWorkout } from \"../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  /* margin: ${({ noMarginBottom }) =>\r\n    noMarginBottom ? \"24px 0 0\" : \"24px 0 16px\"}; */\r\n`;\r\n\r\nconst CurrentWeeksTitleWrapper = styled(FlexRow)`\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst CurrentWeeksTitle = styled.h2`\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n  margin: 0;\r\n`;\r\n\r\nconst PlusIconWrapper = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nfunction AddWorkoutTitle({\r\n  firebase,\r\n  authUser,\r\n  noMarginBottom = false,\r\n  title,\r\n  dispatchAppState,\r\n  week\r\n}) {\r\n  const [isWorkoutFormVisible, setIsWorkoutFormVisible] = useState(false);\r\n  const showButton = isCurrentWeek(week);\r\n  const saveWorkout = workout => {\r\n    doSaveWorkout(firebase, authUser, week, workout);\r\n    setIsWorkoutFormVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Wrapper noMarginBottom={noMarginBottom}>\r\n      <CurrentWeeksTitleWrapper>\r\n        <CurrentWeeksTitle>{title}</CurrentWeeksTitle>\r\n        {showButton && (\r\n          <PlusIconWrapper\r\n            onClick={() => {\r\n              setIsWorkoutFormVisible(!isWorkoutFormVisible);\r\n            }}\r\n          >\r\n            <PlusIcon\r\n              alt=\"plus-icon\"\r\n              src={\r\n                isWorkoutFormVisible ? \"/icons/minus.svg\" : \"/icons/plus.svg\"\r\n              }\r\n            />\r\n          </PlusIconWrapper>\r\n        )}\r\n      </CurrentWeeksTitleWrapper>\r\n      {isWorkoutFormVisible ? (\r\n        <WorkoutForm saveWorkout={saveWorkout} week={week} />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(withAuthUser(AddWorkoutTitle));\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 8px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfo = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst RightArrowIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nfunction WorkoutWeek({ week, dispatchAppState, location }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeee54\";\r\n  // progressFulfilled > 75\r\n  //   ? \"#689f3824\"\r\n  //   : progressFulfilled > 45\r\n  //   ? \"#fbc02d45\"\r\n  //   : \"#dc99873b\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfo>\r\n        <FlexColumn>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <DateInfo>{formatDate(from_date)}</DateInfo>\r\n            <DateDelimeter>{\"-\"}</DateDelimeter>\r\n            <DateInfo>{formatDate(to_date)}</DateInfo>\r\n          </DateWrapper>\r\n        </FlexColumn>\r\n        <RightArrowIcon src=\"/icons/arrow-right.svg\" alt=\"right-arrow\" />\r\n      </WeekInfo>\r\n      {/* <HideWeekButton\r\n          onClick={() => dispatchAppState({ type: \"hideWeek\", value: id })}\r\n        >\r\n          {isHidden ? \"Show week\" : \"Hide week\"}\r\n        </HideWeekButton> */}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutWeek;\r\n","import React, { useState } from \"react\";\r\nimport { getNextWeekFromToDates, getCurrentWeekFromToDates } from \"../utils\";\r\nimport { PrimaryLink, PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport WorkoutWeek from \"../components/WorkoutWeek\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport {\r\n  useCollectionOnce,\r\n  useCollection\r\n} from \"react-firebase-hooks/firestore\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst NewWorkoutLink = styled(PrimaryLink)`\r\n  text-decoration: none;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst WeeksWrapper = styled(FlexColumn)``;\r\n\r\nconst WeeksTitle = styled.h2`\r\n  font-size: 16px;\r\n  margin: 32px 0 16px;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst NextWeeksTitle = styled(WeeksTitle)`\r\n  font-size: 18px;\r\n`;\r\n\r\nconst LoadMoreButton = styled(PrimaryButton)`\r\n  flex-flow: column;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  text-transform: uppercase;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst DownIcon = styled.img`\r\n  margin-top: 4px;\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nexport const NoResultsFound = styled.span`\r\n  font-size: 16px;\r\n  color: #dc9987;\r\n`;\r\n\r\nfunction Weeks({ authUser, firebase }) {\r\n  const limit = 10;\r\n  const [previousWeeksOffset, setPreviousWeeksOffset] = useState(0);\r\n\r\n  const [nextWeekFirebase, loading, error] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getNextWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    currentWeekFirebase,\r\n    loadingCurrentWeek,\r\n    errorCurrentWeek\r\n  ] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    previousWeeksFirebase,\r\n    loadingPreviousWeeks,\r\n    errorPreviousWeeks\r\n  ] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"<\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      // .orderBy(\"from_date\")\r\n      // .startAt(0)\r\n      .limit(limit)\r\n  );\r\n\r\n  const currentWeek = currentWeekFirebase &&\r\n    currentWeekFirebase.docs &&\r\n    currentWeekFirebase.docs[0] && {\r\n      ...currentWeekFirebase.docs[0].data(),\r\n      id: currentWeekFirebase.docs[0].id\r\n    };\r\n\r\n  const nextWeek = nextWeekFirebase &&\r\n    nextWeekFirebase.docs &&\r\n    nextWeekFirebase.docs[0] && {\r\n      ...nextWeekFirebase.docs[0].data(),\r\n      id: nextWeekFirebase.docs[0].id\r\n    };\r\n  const canCreateNextWeek = !nextWeek;\r\n\r\n  const previousWeeks =\r\n    previousWeeksFirebase &&\r\n    previousWeeksFirebase.docs &&\r\n    previousWeeksFirebase.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const totalPreviousWeeks = (previousWeeks && previousWeeks.length) || 0;\r\n  const showMoreButton = totalPreviousWeeks > previousWeeksOffset + limit;\r\n\r\n  return (\r\n    <>\r\n      <AddWorkoutTitle\r\n        title=\"Current\"\r\n        week={currentWeek}\r\n        noMarginBottom={true}\r\n      />\r\n      {!loadingCurrentWeek ? (\r\n        currentWeek ? (\r\n          <WorkoutWeek week={currentWeek} />\r\n        ) : (\r\n          <NewWorkoutLink\r\n            to={{ pathname: \"weeks-plan\", state: { isNextWeek: false } }}\r\n          >\r\n            Create plan for this week\r\n          </NewWorkoutLink>\r\n        )\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      <NextWeeksTitle>Coming up</NextWeeksTitle>\r\n      {!loadingCurrentWeek ? (\r\n        nextWeek && <WorkoutWeek week={nextWeek} />\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      {!loadingCurrentWeek && (\r\n        <NewWorkoutLink\r\n          to={{\r\n            pathname: \"weeks-plan\",\r\n            state: {\r\n              isNextWeek: true,\r\n              nextWeekActivities: nextWeek && nextWeek.activities,\r\n              nextWeekId: nextWeek && nextWeek.id\r\n            }\r\n          }}\r\n        >\r\n          {canCreateNextWeek\r\n            ? \"Create next week's plan\"\r\n            : \"Edit next week's plan\"}\r\n        </NewWorkoutLink>\r\n      )}\r\n      <WeeksTitle>Previous</WeeksTitle>\r\n      <WeeksWrapper>\r\n        {loadingPreviousWeeks ? (\r\n          <Loader />\r\n        ) : previousWeeks && previousWeeks.length > 0 ? (\r\n          previousWeeks.map((week, i) =>\r\n            i < previousWeeksOffset + limit ? (\r\n              <WorkoutWeek key={week.id} week={week} />\r\n            ) : null\r\n          )\r\n        ) : (\r\n          <NoResultsFound>{\"You don't have any previous weeks\"}</NoResultsFound>\r\n        )}\r\n      </WeeksWrapper>\r\n      {showMoreButton && (\r\n        <LoadMoreButton\r\n          onClick={() => setPreviousWeeksOffset(previousWeeksOffset + limit)}\r\n        >\r\n          Load previous weeks\r\n          <DownIcon alt=\"down-icon\" src=\"/icons/arrow-down.svg\" />\r\n        </LoadMoreButton>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(withFirebase(withAuthUser(Weeks)));\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport WorkoutItem from \"../components/WorkoutItem\";\r\nimport styled from \"styled-components\";\r\nimport WorkoutPlanItem from \"../components/WorkoutPlanItem\";\r\nimport WeekInfo from \"../components/WeekInfo\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport moment from \"moment\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doRemoveWorkout } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst WorkoutPlanTitle = styled.h3`\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst ActivitiesWrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nfunction WeekDetail({ firebase, authUser, match }) {\r\n  const id = match.params.id;\r\n  const [weekDoc, loading, error] = useCollection(firebase.week(id));\r\n  const week = weekDoc && weekDoc.data();\r\n  const isCurrent = week ? isCurrentWeek(week) : false;\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!week) {\r\n    return <p>Week with this id does not exits</p>;\r\n  }\r\n\r\n  const { activities, workouts } = week;\r\n  let currentDay = \"\";\r\n  const sortedWorkouts =\r\n    workouts &&\r\n    workouts.sort((a, b) =>\r\n      moment(a.day, \"DD.MM.YYYY\").diff(moment(b.day, \"DD.MM.YYYY\"))\r\n    );\r\n\r\n  const deleteWorkoutFromWeek = index => {\r\n    doRemoveWorkout(firebase, authUser, week, index);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <WeekInfo week={week} />\r\n      <WorkoutPlanTitle>Workout plan</WorkoutPlanTitle>\r\n      <ActivitiesWrapper>\r\n        {activities &&\r\n          activities.map((activity, i) => {\r\n            return <WorkoutPlanItem key={i} activity={activity} />;\r\n          })}\r\n      </ActivitiesWrapper>\r\n      <AddWorkoutTitle\r\n        title=\"Workouts\"\r\n        week={week}\r\n        noMarginBottom={!(workouts && workouts.length > 0)}\r\n      />\r\n      {sortedWorkouts && sortedWorkouts.length > 0 ? (\r\n        sortedWorkouts.map((workout, i) => {\r\n          const previousDay = currentDay;\r\n          currentDay = workout.day;\r\n          const nextWorkout = workouts[i + 1];\r\n          let lastDay = false;\r\n          if (nextWorkout) {\r\n            lastDay = nextWorkout.day !== currentDay;\r\n          }\r\n          const first = previousDay !== currentDay;\r\n          return (\r\n            <WorkoutItem\r\n              i={i}\r\n              last={i === workouts.length - 1}\r\n              key={i}\r\n              workout={workout}\r\n              first={first}\r\n              lastDay={lastDay}\r\n              isCurrent={isCurrent}\r\n              deleteWorkout={() => deleteWorkoutFromWeek(i)}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <NoResultsFound>\r\n          You have not completed any workouts this week\r\n        </NoResultsFound>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeekDetail)))\r\n);\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nfunction ScrollToTop({\r\n  children,\r\n  location: { pathname },\r\n  history: { action }\r\n}) {\r\n  useEffect(() => {\r\n    if (action !== \"POP\") {\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  }, [pathname, action]);\r\n\r\n  return children || null;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React, { useState } from \"react\";\r\nimport { FlexColumn, FlexRow } from \"../components/defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  getTotalHoursAndDistance,\r\n  getTotalPlannedHoursAndDistance,\r\n  getTotalStatsForSports\r\n} from \"../stats-utils\";\r\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\nimport Select from \"../components/defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { getNextWeekFromToDates } from \"../utils\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst TitleAll = styled.h2`\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n  font-size: 20px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst ProgressWrapper = styled.div`\r\n  border-radius: 24px;\r\n  padding: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst CircleProgressWrapper = styled.div`\r\n  width: 96px;\r\n  margin: 0 auto;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst StatsWrapper = styled(FlexColumn)`\r\n  background: ${({ color }) => color};\r\n  border-radius: 24px;\r\n  padding-top: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  color: #444444;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  margin: 0;\r\n  margin-bottom: 16px;\r\n  letter-spacing: 0.0625em;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst TotalWrapper = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\n// const ResetStatsButton = styled(PrimaryButton)`\r\n//   background-color: #dc9987cc;\r\n// `;\r\n\r\nconst Value = styled.p`\r\n  font-weight: 700;\r\n  font-size: 26px;\r\n  margin: 0;\r\n  color: #444444;\r\n`;\r\n\r\nconst Type = styled.p`\r\n  font-size: 16px;\r\n  margin: 0;\r\n  margin-left: 8px;\r\n  color: #444444;\r\n  opacity: 0.7;\r\n  margin-bottom: 2px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst ValueWrapper = styled(FlexRow)`\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst NavItems = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst NavItem = styled.div`\r\n  cursor: pointer;\r\n  font-family: \"Lato\", sans-serif;\r\n  color: ${({ active }) => (active ? \"#444444\" : \"gray\")};\r\n  font-weight: ${({ active }) => (active ? 700 : 400)};\r\n  font-size: 18px;\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    background: ${({ active }) => (active ? \"#ffd873\" : \"white\")};\r\n    position: absolute;\r\n    bottom: -8px;\r\n    right: 0;\r\n    height: 3px;\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nfunction Stats({ firebase, authUser }) {\r\n  const [tab, setTab] = useState(\"all\");\r\n  const [activity, setActivity] = useState(\"Running\");\r\n\r\n  const [weeksDoc, loading, error] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .where(\"from_date\", \"<\", getNextWeekFromToDates().from_date)\r\n  );\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!weeksDoc) {\r\n    return (\r\n      <NoResultsFound>{\"You don't have any available data\"}</NoResultsFound>\r\n    );\r\n  }\r\n\r\n  const weeks = weeksDoc && weeksDoc.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const workouts = [];\r\n  const activities = [];\r\n  weeks.map(w => w.workouts && w.workouts.map(w => workouts.push(w)));\r\n  weeks.map(w => w.activities && w.activities.map(a => activities.push(a)));\r\n\r\n  const { totalHours, totalDistance } = getTotalHoursAndDistance(workouts);\r\n  const {\r\n    totalPlannedHours,\r\n    totalPlannedDistance\r\n  } = getTotalPlannedHoursAndDistance(activities);\r\n  const {\r\n    totalHours: totalSportHours,\r\n    totalDistance: totalSportDistance,\r\n    totalPlannedHours: totalSportPlannedHours,\r\n    totalPlannedDistance: totalSportPlannedDistance\r\n  } = getTotalStatsForSports(workouts, activities, activity);\r\n\r\n  return (\r\n    <>\r\n      <NavItems>\r\n        <NavItem onClick={() => setTab(\"all\")} active={tab === \"all\"}>\r\n          Overall\r\n        </NavItem>\r\n        <NavItem onClick={() => setTab(\"sport\")} active={tab === \"sport\"}>\r\n          By sport\r\n        </NavItem>\r\n      </NavItems>\r\n      {tab === \"all\" && (\r\n        <>\r\n          <ProgressWrapper>\r\n            <TitleAll>Overall progress</TitleAll>\r\n            <CircleProgressWrapper>\r\n              {/* <ChangingProgressProvider values={[0, 20, 40, 60, 80, 100]}> */}\r\n              <CircularProgressbar\r\n                value={60}\r\n                text={`${60}%`}\r\n                background={true}\r\n                styles={buildStyles({\r\n                  textColor: \"#444444\",\r\n                  pathColor: \"#689f38cf\",\r\n                  trailColor: \"#ccc\",\r\n                  textSize: \"20px\",\r\n                  pathTransitionDuration: 0.5,\r\n                  backgroundColor: \"white\"\r\n                })}\r\n              />\r\n              {/* </ChangingProgressProvider> */}\r\n            </CircleProgressWrapper>\r\n          </ProgressWrapper>\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalHours}</Value>\r\n                <Type>{totalHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedHours}</Value>\r\n                <Type>{totalPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          {/* <ResetStatsButton\r\n            onClick={e => {\r\n              if (\r\n                window.confirm(\"Are you sure you want to delete all workouts?\")\r\n              ) {\r\n                clearLocalStorage(e);\r\n              }\r\n            }}\r\n          >\r\n            Delete all workouts\r\n          </ResetStatsButton> */}\r\n        </>\r\n      )}\r\n      {tab === \"sport\" && (\r\n        <>\r\n          <Select\r\n            value={activity}\r\n            options={workoutTypes}\r\n            onChange={e => setActivity(e.target.value)}\r\n          />\r\n          <br />\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportHours}</Value>\r\n                <Type>{totalSportHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedHours}</Value>\r\n                <Type>{totalSportPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withFirebase(withAuthorization(Stats)));\r\n","export function getTotalHoursAndDistance(workouts) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n\r\n  workouts &&\r\n    workouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance: totalDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalPlannedHoursAndDistance(activities) {\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  activities &&\r\n    activities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance: totalPlannedDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalStatsForSports(workouts, activities, sport) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  const sportWorkouts = workouts.filter(\r\n    w => w.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n  const sportActivities = activities.filter(\r\n    a => a.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n\r\n  sportWorkouts &&\r\n    sportWorkouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  sportActivities &&\r\n    sportActivities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance,\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance\r\n  };\r\n}\r\n","import React from \"react\";\nimport { withFirebase } from \"../Firebase\";\nimport Input from \"../defaults/Input\";\nimport { ErrorMessage, StyledPrimaryButton, Title } from \"./SignUp\";\nimport { useSubmitForm } from \"../../hooks\";\nimport { FlexColumn } from \"../defaults/Flex\";\nimport { Loader } from \"../defaults/Loader\";\n\nfunction PasswordForgetForm({ firebase }) {\n  const onSubmit = event => {\n    firebase\n      .doPasswordReset(inputs.email)\n      .then(() => {\n        resetInputs();\n      })\n      .catch(error => {\n        setError(error);\n      });\n  };\n\n  const {\n    resetInputs,\n    inputs,\n    handleInputChange,\n    handleSubmit,\n    error,\n    setError,\n    isSubmitted\n  } = useSubmitForm(onSubmit);\n\n  const { email } = inputs;\n  const isInvalid = !email || email === \"\";\n\n  return (\n    <FlexColumn>\n      <Title>Reset your password</Title>\n\n      <form onSubmit={handleSubmit}>\n        <Input\n          name=\"email\"\n          value={inputs.email || \"\"}\n          onChange={handleInputChange}\n          type=\"email\"\n          label=\"Email\"\n          required={true}\n        />\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\n          {isSubmitted ? <Loader /> : \"Reset My Password\"}\n        </StyledPrimaryButton>\n      </form>\n    </FlexColumn>\n  );\n}\n\nconst PasswordForgetPage = withFirebase(PasswordForgetForm);\n\nexport default PasswordForgetPage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst BackHomeLink = styled(Link)`\n  text-decoration: underline;\n`;\n\nfunction NotFound() {\n  return (\n    <div>\n      Page not found. <br />{\" \"}\n      <BackHomeLink to=\"/\">Go back to homepage</BackHomeLink>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FlexColumn } from \"../components/defaults/Flex\";\nimport { PrimaryLink } from \"../components/defaults/Buttons\";\n\nconst Wrapper = styled(FlexColumn)``;\n\nconst BackHomeLink = styled(PrimaryLink)`\n  margin-top: 24px;\n  font-size: 22px;\n`;\n\nconst Features = styled.ol`\n  padding-left: 0;\n  list-style: none;\n  counter-reset: my-awesome-counter;\n\n  & li {\n    counter-increment: my-awesome-counter;\n    margin: 0;\n    margin-bottom: 16px;\n  }\n\n  & li::before {\n    content: counter(my-awesome-counter);\n    background: #ffd873;\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    display: inline-block;\n    line-height: 2.5rem;\n    color: #444444;\n    font-weight: 700;\n    text-align: center;\n    margin-right: 0.5rem;\n  }\n\n  & li > p {\n    margin: 0;\n    margin-left: 22px;\n    padding: 16px 16px 14px 16px;\n    margin-top: -16px;\n    border: 1px solid #ffd873;\n    border-radius: 16px;\n    font-size: 18px;\n  }\n`;\n\nconst MainText = styled.p`\n  margin: 16px 0;\n  font-size: 20px;\n  padding: 0 8px;\n`;\n\nconst FeaturesTitle = styled.h2`\n  text-align: center;\n  margin-bottom: 8px;\n  font-size: 28px;\n`;\n\nfunction Home() {\n  return (\n    <Wrapper>\n      <MainText>\n        Gymmie is an app for easily tracking your workouts and trainings.\n      </MainText>\n      <FeaturesTitle>Features</FeaturesTitle>\n      <Features>\n        <li>\n          <p>{\"Plan your next workouts\"}</p>\n        </li>\n        <li>\n          <p>Track your progress</p>\n        </li>\n        <li>\n          <p>Get general stats from your workouts</p>\n        </li>\n      </Features>\n      <BackHomeLink to=\"/sign-in\">Sign in</BackHomeLink>\n    </Wrapper>\n  );\n}\n\nexport default Home;\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport SignInPage from \"./components/Firebase/SignIn\";\r\nimport SignUpPage from \"./components/Firebase/SignUp\";\r\nimport WeeksPlan from \"./routes/WeeksPlan\";\r\nimport WeekDetail from \"./routes/WeekDetail\";\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport styled from \"styled-components\";\r\nimport Stats from \"./routes/Stats\";\r\nimport Weeks from \"./routes/Weeks\";\r\nimport PasswordForgetPage from \"./components/Firebase/PasswordForget\";\r\nimport NotFound from \"./routes/NotFound\";\r\nimport Home from \"./routes/Home\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  margin-bottom: 36px;\r\n`;\r\n\r\nfunction Routes() {\r\n  return (\r\n    <ScrollToTop>\r\n      <Wrapper>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={() => <Home />} />\r\n          <Route path=\"/weeks\" exact component={() => <Weeks />} />\r\n          <Route path=\"/sign-in\" exact component={() => <SignInPage />} />\r\n          <Route path=\"/sign-up\" exact component={() => <SignUpPage />} />\r\n          <Route\r\n            path=\"/password-forget\"\r\n            exact\r\n            component={() => <PasswordForgetPage />}\r\n          />\r\n          <Route path=\"/weeks-plan\" exact component={() => <WeeksPlan />} />\r\n          <Route path=\"/week/:id\" exact component={() => <WeekDetail />} />\r\n          <Route path=\"/stats\" exact component={() => <Stats />} />\r\n          <Route path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </Wrapper>\r\n    </ScrollToTop>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport StyledTitle from \"./components/StyledTitle\";\nimport GlobalStyles from \"./globalStyles\";\nimport Navigation from \"./components/Navigation\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Firebase, { FirebaseContext } from \"./components/Firebase\";\nimport Routes from \"./router\";\nimport { withAuthentication } from \"./components/Firebase/Session\";\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyles />\n      <StyledTitle />\n      <Navigation />\n      <Routes />\n    </>\n  );\n}\n\nconst WithAuthApp = withAuthentication(App);\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <Router>\n      <WithAuthApp />\n    </Router>\n  </FirebaseContext.Provider>,\n  rootElement\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}