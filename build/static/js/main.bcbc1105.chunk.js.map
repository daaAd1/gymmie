{"version":3,"sources":["components/defaults/Flex.js","components/Firebase/context.js","components/Firebase/withFirebase.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Firebase/SignOutButton.js","components/Firebase/Session/context.js","components/Firebase/Session/withAuthentication.js","components/Firebase/Session/withAuthorization.js","components/Firebase/Session/withAuthUser.js","components/StyledTitle.js","globalStyles.js","components/Navigation.js","serviceWorker.js","components/defaults/Input.js","components/defaults/Buttons.js","hooks.js","utils.js","firebase-db.js","components/defaults/Loader.js","components/Firebase/SignUp.js","components/Firebase/SignInGoogle.js","components/Firebase/SignInFacebook.js","components/Firebase/SignIn.js","reducers.js","components/defaults/Select.js","constants.js","components/ActivityForm.js","routes/WeeksPlan.js","components/defaults/Text.js","components/defaults/DotLineDelimeter.js","components/WorkoutItem.js","components/WorkoutPlanItem.js","components/WeekInfo.js","components/WorkoutForm.js","components/AddWorkoutTitle.js","components/WorkoutWeek.js","routes/Weeks.js","routes/WeekDetail.js","components/ScrollToTop.js","routes/Stats.js","stats-utils.js","components/Firebase/PasswordForget.js","routes/NotFound.js","routes/Home.js","router.js","index.js"],"names":["FlexRow","styled","div","_templateObject","FlexColumn","_templateObject2","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","context","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignInWithFacebook","facebookProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","doc","concat","users","collection","week","weeks","app","initializeApp","firestore","enablePersistence","catch","err","code","console","log","GoogleAuthProvider","FacebookAuthProvider","ButtonWrapper","button","SignOutButton_templateObject","Icon","img","SignOutButton_templateObject2","_ref","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","window","location","reload","stop","apply","arguments","type","onClick","src","alt","AuthUserContext","withAuthentication","_useState","useState","_useState2","slicedToArray","authUser","setAuthUser","_useState3","_useState4","isUserLoaded","setIsUserLoaded","useEffect","listener","onAuthStateChanged","Session_context","Provider","value","withAuthorization","withRouter","history","push","withAuthUser","StyledLink","Link","StyledTitle_templateObject","TitleWrapper","StyledTitle_templateObject2","TitleWithIcon","_templateObject3","TextWrapper","_templateObject4","_ref3","Title","h1","_templateObject5","_templateObject6","_ref4","to","StyledTitle_Icon","Firebase_SignOutButton","GlobalStyles","createGlobalStyle","globalStyles_templateObject","NavWrapper","Navigation_templateObject","Wrapper","Navigation_templateObject2","sticky","NavLink","Navigation_templateObject3","isactive","Navigation_templateObject4","pathname","isSticky","setIsSticky","onscroll","e","scrollY","includes","Navigation_Icon","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","Input_templateObject","inputWidth","Label","label","Input_templateObject2","Input","input","Input_templateObject3","unit","InputUnitWrapper","Input_templateObject4","Unit","span","Input_templateObject5","defaults_Input","onChange","name","other","objectWithoutProperties","Input_Wrapper","primaryStyle","css","Buttons_templateObject","PrimaryButton","Buttons_templateObject2","PrimaryLink","Buttons_templateObject3","Buttons_templateObject4","useSubmitForm","callback","inputs","setInputs","setError","resetInputs","keys","forEach","key","_objectSpread","defineProperty","handleSubmit","event","preventDefault","handleInputChange","persist","target","getNextWeekNumber","moment","add","getCurrentWeekNumber","getNextWeekFromToDates","from_date","startOf","unix","to_date","endOf","getCurrentWeekFromToDates","countWeekProgress","activities","workouts","weekProgressPercentages","map","activity","seconds","distance","workout","minutes","hoursProgressPercentage","distanceProgressPercentage","Math","round","betterProgress","length","totalProgress","reduce","total","percentage","toFixed","getUpdatedActivities","activityWorkouts","filter","w","toLowerCase","totalWorkoutSeconds","totalWorkoutDistance","parseInt","isFulfilled","progressMinutesMissing","progressDistanceMissing","utils_objectSpread","isCurrentWeek","formatDate","format","getIconFromWorkoutType","getFulfilledWorkoutIcon","formatHours","hours","formatDistance","getWeekDayFromNumber","dayNumber","shouldShowDistance","types","current","t","hideDistance","doSaveUser","set","Loader","Loader_templateObject","SignUpWrapper","SignUp_templateObject","SignUp_templateObject2","Form","form","SignUp_templateObject3","StyledPrimaryButton","SignUp_templateObject4","ErrorMessage","p","SignUp_templateObject5","SignUpPage","isSubmitted","setIsSubmitted","_useSubmitForm","message","isInvalid","confirmPassword","SignUp_Title","onSubmit","placeholder","disabled","SignInGoogle_templateObject","SignInGoogle_templateObject2","Image","SignInGoogle_templateObject3","Text","SignInGoogle_templateObject4","SignInGoogle","SignInGoogle_Wrapper","SignInGoogle_StyledPrimaryButton","socialAuthUser","displayName","SignInFacebook_templateObject","SignInFacebook_templateObject2","SignInFacebook_templateObject3","SignInFacebook","SignInFacebook_Wrapper","SignInFacebook_StyledPrimaryButton","additionalUserInfo","profile","SignInFacebook_Image","DelimeterWrapper","SignIn_templateObject","DelimeterText","SignIn_templateObject2","DelimeterLine","SignIn_templateObject3","RegisterLinkWrapper","SignIn_templateObject4","SignIn_templateObject5","ForgotPassword","SignIn_templateObject6","SignInPage","Firebase_SignInGoogle","Firebase_SignInFacebook","required","SignIn_StyledLink","activitiesReducer","newValue","valueType","toConsumableArray","_","index","i","reducers_objectSpread","StyledSelect","select","Select_templateObject","Select_templateObject2","StyledOption","option","Select_templateObject3","Select","options","Select_Wrapper","workoutTypes","ActivityForm_templateObject","TitleRemoveWrapper","ActivityForm_templateObject2","InputsWrapper","ActivityForm_templateObject3","HoursDistanceWrapper","ActivityForm_templateObject4","ActivityTitle","h3","ActivityForm_templateObject5","RemoveActivityButton","ActivityForm_templateObject6","ActivityForm","dispatchActivities","activityNumber","showDistance","ActivityForm_Wrapper","defaults_Select","defaultValue","StyledTitle","h2","WeeksPlan_templateObject","PlusIcon","WeeksPlan_templateObject2","AddActivity","WeeksPlan_templateObject3","SavePlanButton","WeeksPlan_templateObject4","_location$state","isNextWeek","weekActivities","weekId","_useReducer","useReducer","_useReducer2","saveNextWeekAndRedirect","undefined","correctActivities","v","firebase_db_objectSpread","parseFloat","toString","replace","updatedActivities","progressFulfilled","user_id","merge","doSaveWeeksPlan","WeeksPlan_StyledTitle","components_ActivityForm","Text_templateObject","WeekDelimeter","DotLineDelimeter_templateObject","TopDot","DotLineDelimeter_templateObject2","BottomDot","DotLineDelimeter_templateObject3","Line","DotLineDelimeter_templateObject4","last","DotLineDelimeter","WorkoutItem_templateObject","WeekWrapper","WorkoutItem_templateObject2","WorkoutIcon","WorkoutItem_templateObject3","InfoWrapper","WorkoutItem_templateObject4","Type","WorkoutItem_templateObject5","Distance","WorkoutItem_templateObject6","TopRow","_templateObject7","BottomRow","_templateObject8","DayInWeekWrapper","_templateObject9","DayInWeek","_templateObject10","DeleteIcon","_templateObject11","WorkoutItem","first","lastDay","isCurrent","deleteWorkout","day","formattedSeconds","formatSeconds","dayName","isoWeekday","slice","WorkoutItem_Wrapper","defaults_DotLineDelimeter","WorkoutPlanItem_templateObject","PlanWrapper","WorkoutPlanItem_templateObject2","WorkoutPlanItem_templateObject3","FullfilledIcon","WorkoutPlanItem_templateObject4","MiddleSection","WorkoutPlanItem_templateObject5","WorkoutPlanItem_templateObject6","Duration","WorkoutPlanItem_templateObject7","Date","WorkoutPlanItem_templateObject8","Delimeter","WorkoutPlanItem_templateObject9","WorkoutPlanItem_templateObject10","MissingStatsWrapper","WorkoutPlanItem_templateObject11","MissingWrapper","_templateObject12","EmptySpace","_templateObject13","Missing","_templateObject14","MissingText","_templateObject15","WorkoutPlanItem","missingMinutes","missingDistance","Fragment","WorkoutPlanItem_Wrapper","WorkoutPlanItem_WorkoutIcon","WorkoutPlanItem_Type","WorkoutPlanItem_BottomRow","WorkoutPlanItem_Date","WeekInfo_templateObject","ishidden","color","WeekProgress","WeekInfo_templateObject2","progress","_ref5","NamePercentageWrapper","WeekInfo_templateObject3","Name","WeekInfo_templateObject4","ProgressPercentage","WeekInfo_templateObject5","_ref6","WeekInfoRow","WeekInfo_templateObject6","ContentWrapper","WeekInfo_templateObject7","DateInfo","WeekInfo_templateObject8","DateDelimeter","WeekInfo_templateObject9","DateWrapper","WeekInfo_templateObject10","WeekInfo","_ref7","id","isHidden","WeekInfo_Wrapper","WorkoutForm_templateObject","MinutesSecondsWrapper","WorkoutForm_templateObject2","WorkoutForm","saveWorkout","setWorkout","daysOptions","dayInWeek","date","getCurrentWeekDays","WorkoutForm_Wrapper","WorkoutForm_objectSpread","AddWorkoutTitle_templateObject","CurrentWeeksTitleWrapper","AddWorkoutTitle_templateObject2","isWeekDetail","CurrentWeeksTitle","AddWorkoutTitle_templateObject3","PlusIconWrapper","AddWorkoutTitle_templateObject4","AddWorkoutTitle_templateObject5","title","_ref2$isWeekDetail","isWorkoutFormVisible","setIsWorkoutFormVisible","showButton","AddWorkoutTitle_Wrapper","AddWorkoutTitle_PlusIcon","components_WorkoutForm","correctWorkout","newWorkout","updatedWorkouts","updatedWeek","doSaveWorkout","WorkoutWeek_templateObject","WorkoutWeek_templateObject2","WorkoutWeek_templateObject3","WorkoutWeek_templateObject4","WorkoutWeek_templateObject5","WorkoutWeek_templateObject6","RightArrowIcon","WorkoutWeek_templateObject7","WorkoutWeek_templateObject8","WorkoutWeek_templateObject9","WorkoutWeek_templateObject10","WorkoutWeek","dispatchAppState","WorkoutWeek_Wrapper","WorkoutWeek_WeekProgress","WorkoutWeek_WeekInfo","WorkoutWeek_NamePercentageWrapper","WorkoutWeek_Name","WorkoutWeek_ProgressPercentage","WorkoutWeek_DateWrapper","WorkoutWeek_DateInfo","WorkoutWeek_DateDelimeter","NewWorkoutLink","Weeks_templateObject","WeeksWrapper","Weeks_templateObject2","WeeksTitle","Weeks_templateObject3","NextWeeksTitle","Weeks_templateObject4","LoadMoreButton","Weeks_templateObject5","DownIcon","Weeks_templateObject6","NoResultsFound","Weeks_templateObject7","previousWeeksOffset","setPreviousWeeksOffset","_useCollectionOnce","useCollectionOnce","where","limit","_useCollectionOnce2","nextWeekFirebase","_useCollection","useCollection","_useCollection2","currentWeekFirebase","loadingCurrentWeek","_useCollectionOnce3","orderBy","_useCollectionOnce4","previousWeeksFirebase","loadingPreviousWeeks","currentWeek","docs","Weeks_objectSpread","data","nextWeek","canCreateNextWeek","previousWeeks","d","showMoreButton","components_AddWorkoutTitle","noMarginBottom","components_WorkoutWeek","WeekDetail_templateObject","WorkoutPlanTitle","WeekDetail_templateObject2","EditWeekWrapper","WeekDetail_templateObject3","ActivitiesWrapper","WeekDetail_templateObject4","Note","TextareaAutosize","WeekDetail_templateObject5","NoteLabel","WeekDetail_templateObject6","addToast","useToasts","note","setNote","params","weekDoc","loading","WeekDetail_objectSpread","currentDay","sortedWorkouts","sort","b","diff","deleteWorkoutFromWeek","newWeek","doRemoveWorkout","WeekDetail_Wrapper","components_WeekInfo","rows","onBlur","doSaveCurrentWeeksNote","appearance","autoDismiss","components_WorkoutPlanItem","previousDay","nextWorkout","components_WorkoutItem","children","action","scrollTo","top","left","behavior","TitleAll","Stats_templateObject","ProgressWrapper","Stats_templateObject2","CircleProgressWrapper","Stats_templateObject3","StatsWrapper","Stats_templateObject4","Stats_templateObject5","TotalWrapper","Stats_templateObject6","Value","Stats_templateObject7","Stats_templateObject8","ValueWrapper","Stats_templateObject9","NavItems","Stats_templateObject10","NavItem","Stats_templateObject11","active","tab","setTab","setActivity","weeksDoc","Stats_objectSpread","_getTotalHoursAndDist","totalSeconds","totalDistance","totalHours","getTotalHoursAndDistance","_getTotalPlannedHours","totalPlannedSeconds","totalPlannedDistance","totalPlannedHours","getTotalPlannedHoursAndDistance","_getTotalStatsForSpor","sport","sportWorkouts","sportActivities","getTotalStatsForSports","totalSportHours","totalSportDistance","totalSportPlannedHours","totalSportPlannedDistance","react_circular_progressbar_dist_index_esm","text","background","styles","buildStyles","textColor","pathColor","trailColor","textSize","pathTransitionDuration","backgroundColor","Stats_Title","Stats_Type","PasswordForgetPage","BackHomeLink","NotFound_templateObject","NotFound","Home_templateObject","Home_templateObject2","Features","ol","Home_templateObject3","MainText","Home_templateObject4","FeaturesTitle","Home_templateObject5","react_router","Home_Wrapper","Home_BackHomeLink","router_templateObject","Routes","components_ScrollToTop","router_Wrapper","path","exact","component","routes_Home","routes_Weeks","SignIn","SignUp","PasswordForget","routes_WeeksPlan","routes_WeekDetail","routes_Stats","WithAuthApp","globalStyles","components_StyledTitle","components_Navigation","router","rootElement","document","getElementById","ReactDOM","render","dist","placement","react_router_dom","URL","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.bcbc1105.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const FlexRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: row wrap;\r\n`;\r\n\r\nexport const FlexColumn = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n`;\r\n","import React from \"react\";\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport default FirebaseContext;\r\n","import React from \"react\";\nimport FirebaseContext from \"./context\";\n\nconst withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default withFirebase;\n","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    app\r\n      .firestore()\r\n      .enablePersistence()\r\n      .catch(function(err) {\r\n        if (err.code == \"failed-precondition\") {\r\n          // Multiple tabs open, persistence can only be enabled\r\n          // in one tab at a a time.\r\n          console.log(\"Enabling cache persistence failed - multiple tabs open\");\r\n        } else if (err.code == \"unimplemented\") {\r\n          // The current browser does not support all of the\r\n          // features required to enable persistence\r\n          console.log(\r\n            \"Enabling cache persistence failed - not supported by browser\"\r\n          );\r\n        }\r\n      });\r\n    this.auth = app.auth();\r\n    this.db = app.firestore();\r\n\r\n    this.googleProvider = new app.auth.GoogleAuthProvider();\r\n    this.facebookProvider = new app.auth.FacebookAuthProvider();\r\n  }\r\n\r\n  // AUTH API\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithGoogle = () => this.auth.signInWithPopup(this.googleProvider);\r\n\r\n  doSignInWithFacebook = () => this.auth.signInWithPopup(this.facebookProvider);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n  // USER API\r\n  user = uid => this.db.doc(`users/${uid}`);\r\n\r\n  users = () => this.db.collection(\"users\");\r\n\r\n  // WEEKS API\r\n  week = uid => this.db.doc(`weeks/${uid}`);\r\n\r\n  weeks = () => this.db.collection(\"weeks\");\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext from \"./context\";\r\nimport withFirebase from \"./withFirebase\";\r\nimport Firebase from \"./firebase\";\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };\r\n","import React from \"react\";\r\nimport { withFirebase } from \".\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonWrapper = styled.button`\r\n  display: flex;\r\n  flex-flow: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  border: 0;\r\n  background-color: #ffd873;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n`;\r\n\r\nfunction SignOutButton({ firebase }) {\r\n  const signOut = async () => {\r\n    await firebase.doSignOut();\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <ButtonWrapper type=\"button\" onClick={signOut}>\r\n      <Icon src=\"/icons/sign-out.svg\" alt=\"sign-out\" />\r\n    </ButtonWrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(SignOutButton);\r\n","import React from \"react\";\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AuthUserContext from \"./context\";\nimport { withFirebase } from \"../index\";\n\nfunction withAuthentication(Component) {\n  WithAuthentication.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthentication(props) {\n    const { firebase } = props;\n    const [authUser, setAuthUser] = useState(null);\n    const [isUserLoaded, setIsUserLoaded] = useState(false);\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        authUser ? setAuthUser(authUser) : setAuthUser(null);\n        setIsUserLoaded(true);\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Provider value={authUser}>\n        <Component isUserLoaded={isUserLoaded} {...props} />\n      </AuthUserContext.Provider>\n    );\n  }\n\n  return withFirebase(WithAuthentication);\n}\n\nexport default withAuthentication;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport { withFirebase } from \"../index\";\nimport { AuthUserContext } from \".\";\n\nfunction withAuthorization(Component) {\n  WithAuthorization.propTypes = {\n    firebase: PropTypes.shape({\n      auth: PropTypes.func.isRequired\n    }),\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired\n    })\n  };\n\n  function WithAuthorization(props) {\n    const { firebase, history } = props;\n\n    useEffect(() => {\n      const listener = firebase.auth.onAuthStateChanged(authUser => {\n        if (!authUser) {\n          history.push(\"/sign-in\");\n        }\n      });\n\n      return function cleanup() {\n        listener();\n      };\n    });\n\n    return (\n      <AuthUserContext.Consumer>\n        {authUser => (authUser ? <Component {...props} /> : null)}\n      </AuthUserContext.Consumer>\n    );\n  }\n\n  return withFirebase(withRouter(WithAuthorization));\n}\n\nexport default withAuthorization;\n","import React from \"react\";\nimport { AuthUserContext } from \".\";\n\nconst withAuthUser = Component => props => (\n  <AuthUserContext.Consumer>\n    {authUser => <Component {...props} authUser={authUser} />}\n  </AuthUserContext.Consumer>\n);\n\nexport default withAuthUser;\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport SignOutButton from \"./Firebase/SignOutButton\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst TitleWrapper = styled.div`\r\n  background-color: #ffd873;\r\n  width: 100%;\r\n`;\r\n\r\nconst TitleWithIcon = styled.div`\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: ${({ authUser }) => (authUser ? \"row\" : \"column\")};\r\n  justify-content: space-around;\r\n  padding-bottom: 8px;\r\n  padding-top: ${({ authUser }) => (authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst TextWrapper = styled(FlexRow)`\r\n  margin-top: ${({ authUser }) => (!authUser ? \"8px\" : 0)};\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.8em;\r\n  text-align: center;\r\n  color: #444444;\r\n  margin: 0;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-right: 10px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nfunction StyledTitle({ authUser }) {\r\n  return (\r\n    <StyledLink to={authUser ? \"/weeks\" : \"/\"}>\r\n      <TitleWrapper>\r\n        <TitleWithIcon authUser={authUser}>\r\n          <TextWrapper authUser={authUser}>\r\n            <Icon src=\"/icons/fitness.svg\" />\r\n            <Title>gymmie</Title>\r\n          </TextWrapper>\r\n          {/* <TitleText>track your workouts with ease</TitleText> */}\r\n          {authUser && <SignOutButton />}\r\n        </TitleWithIcon>\r\n      </TitleWrapper>\r\n    </StyledLink>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(StyledTitle);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n  html {\r\n    transition: all 0.2s ease 0s;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: 'Lato', sans-serif;\r\n    font-size: 16px;\r\n    color: #444444;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n  }\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6 {\r\n    font-family: 'Rubik', sans-serif;\r\n  }\r\n  select.form-control,\r\n  textarea.form-control,\r\n  input.form-control {\r\n    font-size: 16px;\r\n  }\r\n  input[type='file'] {\r\n    width: 100%;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: #444444;\r\n    \r\n    &:hover {\r\n      /* opacity: 0.7; */\r\n    }\r\n  }\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\n\r\nconst NavWrapper = styled.div`\r\n  background-color: #ffd873;\r\n`;\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  max-width: 400px;\r\n  margin-top: -1px;\r\n  margin-bottom: 8px;\r\n  justify-content: space-around;\r\n  margin: 0 auto;\r\n\r\n  z-index: 15;\r\n  position: sticky;\r\n  top: ${({ sticky }) => (sticky ? 0 : \"initial\")};\r\n  transition: top 2500s linear;\r\n  top: 0;\r\n  padding: 16px 0;\r\n`;\r\n\r\nconst NavLink = styled(Link)`\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: #444444;\r\n  opacity: ${({ isactive }) => (isactive ? 1 : 0.5)};\r\n  font-weight: ${({ isactive }) => (isactive ? 700 : 400)};\r\n  display: flex;\r\n  flex-flow: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nfunction Navigation({ location: { pathname }, authUser }) {\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.onscroll = e => {\r\n      if (window.scrollY > 100) {\r\n        if (!isSticky) {\r\n          setIsSticky(true);\r\n        }\r\n      } else {\r\n        if (isSticky) {\r\n          setIsSticky(false);\r\n        }\r\n      }\r\n    };\r\n  });\r\n\r\n  return (\r\n    <NavWrapper>\r\n      {authUser && (\r\n        <Wrapper sticky={isSticky}>\r\n          <NavLink\r\n            isactive={pathname === \"/\" || pathname.includes(\"week\") ? 1 : 0}\r\n            to=\"/weeks\"\r\n          >\r\n            <Icon alt=\"calendar-icon\" src=\"/icons/calendar.svg\" />\r\n            <span>Weeks</span>\r\n          </NavLink>\r\n          <NavLink isactive={pathname === \"/stats\" ? 1 : 0} to=\"/stats\">\r\n            <Icon alt=\"stats-icon\" src=\"/icons/stats.svg\" />\r\n            <span>Stats</span>\r\n          </NavLink>\r\n        </Wrapper>\r\n      )}\r\n    </NavWrapper>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withRouter(Navigation));\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexRow } from \"./Flex\";\r\n\r\nconst Wrapper = styled(FlexRow)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-bottom: 8px;\r\n  margin-left: 4px;\r\n  font-weight: 700;\r\n  color: #444444;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  padding: 4px 16px 0;\r\n  height: 45px;\r\n  background-color: #f7f7f7;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1rem;\r\n  width: 100%;\r\n  padding-right: ${({ unit }) => (unit ? \"43px\" : \"16px\")};\r\n\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n\r\n  &::-webkit-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &:-ms-input-placeholder {\r\n    color: #ccc;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: #ccc;\r\n  }\r\n`;\r\n\r\nconst InputUnitWrapper = styled(FlexRow)`\r\n  flex-flow: row;\r\n  width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst Unit = styled.span`\r\n  right: 16px;\r\n  position: absolute;\r\n`;\r\n\r\nexport default ({\r\n  label,\r\n  onChange,\r\n  type,\r\n  name,\r\n  value,\r\n  inputWidth,\r\n  unit,\r\n  ...other\r\n}) => (\r\n  <Wrapper inputWidth={inputWidth}>\r\n    <Label>{label}</Label>\r\n    <InputUnitWrapper>\r\n      <Input\r\n        onChange={onChange}\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        unit={unit}\r\n        {...other}\r\n      />\r\n      {unit && <Unit>{unit}</Unit>}\r\n    </InputUnitWrapper>\r\n  </Wrapper>\r\n);\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst primaryStyle = css`\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  max-width: 400px;\r\n  color: #444444;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 1.2rem;\r\n  padding: 16px 12px 12px;\r\n  background-color: #ffd873;\r\n  border-radius: 16px;\r\n  font-weight: 700;\r\n  border: 0;\r\n\r\n  &:disabled {\r\n    opacity: 0.3;\r\n    cursor: initial;\r\n  }\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n  &:disabled:hover {\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nexport const PrimaryButton = styled.button`\r\n  ${primaryStyle};\r\n  width: 100%;\r\n`;\r\n\r\nexport const SecondaryButton = styled(PrimaryButton)``;\r\n\r\nexport const PrimaryLink = styled(Link)`\r\n  ${primaryStyle};\r\n  text-decoration: none;\r\n`;\r\n","import { useState } from \"react\";\r\n\r\nexport const useSubmitForm = callback => {\r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState(null);\r\n\r\n  const resetInputs = () => {\r\n    Object.keys(inputs).forEach(key => {\r\n      setInputs(inputs => ({\r\n        ...inputs,\r\n        [key]: \"\"\r\n      }));\r\n    });\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    callback();\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    event.persist();\r\n    setInputs(inputs => ({\r\n      ...inputs,\r\n      [event.target.name]: event.target.value\r\n    }));\r\n  };\r\n\r\n  return {\r\n    resetInputs,\r\n    handleSubmit,\r\n    handleInputChange,\r\n    inputs,\r\n    error,\r\n    setError\r\n  };\r\n};\r\n","import moment from \"moment\";\r\n\r\nexport function getNextWeekNumber() {\r\n  return moment()\r\n    .add(7, \"days\")\r\n    .week();\r\n}\r\n\r\nexport function getCurrentWeekNumber() {\r\n  return moment().week();\r\n}\r\n\r\nexport function getNextWeekFromToDates() {\r\n  const from_date = moment()\r\n    .add(7, \"days\")\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .add(7, \"days\")\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function getCurrentWeekFromToDates() {\r\n  const from_date = moment()\r\n    .startOf(\"isoWeek\")\r\n    .unix();\r\n  const to_date = moment()\r\n    .endOf(\"isoWeek\")\r\n    .unix();\r\n\r\n  return { from_date, to_date };\r\n}\r\n\r\nexport function isWeekNextWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date ===\r\n      moment()\r\n        .add(7, \"days\")\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function countWeekProgress({ activities, workouts }) {\r\n  const weekProgressPercentages = [];\r\n\r\n  activities.map(activity => {\r\n    let seconds = 0;\r\n    let distance = 0;\r\n\r\n    workouts &&\r\n      workouts.map(workout => {\r\n        if (workout.type === activity.type) {\r\n          seconds += workout.minutes * 60 + workout.seconds;\r\n          distance += workout.distance;\r\n        }\r\n        return workout;\r\n      });\r\n\r\n    const hoursProgressPercentage = (seconds / (activity.minutes * 60)) * 100;\r\n    const distanceProgressPercentage = Math.round(\r\n      (distance / activity.distance) * 100,\r\n      2\r\n    );\r\n    let betterProgress = hoursProgressPercentage;\r\n    if (\r\n      distance !== 0 &&\r\n      distanceProgressPercentage > hoursProgressPercentage\r\n    ) {\r\n      betterProgress = distanceProgressPercentage;\r\n    }\r\n\r\n    weekProgressPercentages.push(betterProgress);\r\n\r\n    return activities;\r\n  });\r\n\r\n  if (weekProgressPercentages.length > 0) {\r\n    const totalProgress = weekProgressPercentages.reduce(\r\n      (total, percentage) => total + percentage,\r\n      0\r\n    );\r\n    return Math.round(totalProgress / weekProgressPercentages.length).toFixed(\r\n      0\r\n    );\r\n  }\r\n\r\n  return \"0\";\r\n}\r\n\r\nexport function getUpdatedActivities(activities, workouts) {\r\n  return activities.map(activity => {\r\n    const activityWorkouts = workouts.filter(\r\n      w => w.type.toLowerCase() === activity.type.toLowerCase()\r\n    );\r\n    let totalWorkoutSeconds = 0;\r\n    let totalWorkoutDistance = 0;\r\n\r\n    activityWorkouts &&\r\n      activityWorkouts.forEach(workout => {\r\n        totalWorkoutSeconds +=\r\n          parseInt(workout.minutes, 10) * 60 + parseInt(workout.seconds, 10);\r\n        totalWorkoutDistance += parseInt(workout.distance, 10);\r\n      });\r\n\r\n    const isFulfilled =\r\n      activity.distance !== 0\r\n        ? totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60 ||\r\n          totalWorkoutDistance >= parseInt(activity.distance, 10)\r\n        : totalWorkoutSeconds >= parseInt(activity.minutes, 10) * 60;\r\n    const progressMinutesMissing = (\r\n      (parseInt(activity.minutes, 10) * 60 - totalWorkoutSeconds) /\r\n      60\r\n    ).toFixed(0);\r\n    const progressDistanceMissing =\r\n      parseInt(activity.distance, 10) - totalWorkoutDistance;\r\n\r\n    return {\r\n      ...activity,\r\n      isFulfilled,\r\n      progressMinutesMissing,\r\n      progressDistanceMissing\r\n    };\r\n  });\r\n}\r\n\r\nexport function isCurrentWeek(week) {\r\n  return (\r\n    week &&\r\n    week.from_date &&\r\n    formatDate(week.from_date) ===\r\n      moment()\r\n        .startOf(\"isoWeek\")\r\n        .format(\"DD.MM.YYYY\")\r\n  );\r\n}\r\n\r\nexport function getIconFromWorkoutType(type) {\r\n  switch (type.toLowerCase()) {\r\n    case \"running\":\r\n      return \"/icons/running.svg\";\r\n\r\n    case \"biking\":\r\n      return \"/icons/biking.svg\";\r\n\r\n    case \"swimming\":\r\n      return \"/icons/swimming.svg\";\r\n\r\n    case \"gym\":\r\n      return \"/icons/fitness.svg\";\r\n\r\n    case \"other\":\r\n      return \"/icons/ball.svg\";\r\n\r\n    default:\r\n      return \"/icons/fitness.svg\";\r\n  }\r\n}\r\n\r\nexport function getFulfilledWorkoutIcon(isFulfilled) {\r\n  if (isFulfilled) {\r\n    return \"/icons/check.svg\";\r\n  }\r\n\r\n  return \"/icons/close.svg\";\r\n}\r\n\r\nexport function formatDate(unix) {\r\n  return moment.unix(unix).format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function formatHours(hours) {\r\n  return `${hours} minutes`;\r\n}\r\n\r\nexport function formatDistance(distance) {\r\n  return `${distance} km`;\r\n}\r\n\r\nexport function getCurrentWeekDays(week) {\r\n  const { from_date } = week;\r\n  const daysOptions = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    const next = moment.unix(from_date).add(i, \"day\");\r\n    const dayInWeek = getWeekDayFromNumber(next.isoWeekday());\r\n    const date = next.format(\"DD.MM.YYYY\");\r\n    daysOptions.push({ name: `${dayInWeek} - ${date}`, value: date });\r\n  }\r\n\r\n  return daysOptions;\r\n}\r\n\r\nexport function getWeekDayFromNumber(dayNumber) {\r\n  switch (dayNumber) {\r\n    case 1:\r\n      return \"Monday\";\r\n    case 2:\r\n      return \"Tuesday\";\r\n    case 3:\r\n      return \"Wednesday\";\r\n    case 4:\r\n      return \"Thursday\";\r\n    case 5:\r\n      return \"Friday\";\r\n    case 6:\r\n      return \"Saturday\";\r\n    case 7:\r\n      return \"Sunday\";\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nexport function getTodayDate() {\r\n  return moment().format(\"DD.MM.YYYY\");\r\n}\r\n\r\nexport function canNextWeekBeCreated(weeks) {\r\n  let canCreateNextWeek = true;\r\n  const lastCreatedWeek = weeks[weeks.length - 1];\r\n  if (lastCreatedWeek) {\r\n    canCreateNextWeek = !isWeekNextWeek(lastCreatedWeek);\r\n  }\r\n\r\n  return canCreateNextWeek;\r\n}\r\n\r\nexport function getPreviousWeeks(weeks) {\r\n  const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n  const withoutNext = canCreateNextWeek\r\n    ? weeks\r\n    : weeks.slice(0, weeks.length - 1);\r\n\r\n  const hasCurrent = isCurrentWeek(withoutNext[withoutNext.length - 1]);\r\n  const withoutCurrentAndNext = hasCurrent\r\n    ? withoutNext.slice(0, withoutNext.length - 1)\r\n    : withoutNext;\r\n\r\n  return withoutCurrentAndNext;\r\n}\r\n\r\nexport function formatSeconds(seconds) {\r\n  return seconds.toString().length === 1 ? `0${seconds}` : seconds;\r\n}\r\n\r\nexport function shouldShowDistance(type, types) {\r\n  const current = types.filter(t => t.name === type)[0];\r\n  if (!current) {\r\n    return true;\r\n  }\r\n\r\n  return !current.hideDistance;\r\n}\r\n","import {\n  getNextWeekFromToDates,\n  getNextWeekNumber,\n  getUpdatedActivities,\n  countWeekProgress,\n  getCurrentWeekFromToDates,\n  getCurrentWeekNumber\n} from \"./utils\";\n\nexport function doSaveWeeksPlan(\n  firebase,\n  authUser,\n  workouts,\n  activities,\n  isNextWeek,\n  weekId = null\n) {\n  const { from_date, to_date } = isNextWeek\n    ? getNextWeekFromToDates()\n    : getCurrentWeekFromToDates();\n\n  const correctActivities =\n    activities &&\n    activities.map(v => ({\n      ...v,\n      minutes: parseInt(v.minutes, 10) || 0,\n      distance: parseFloat(v.distance.toString().replace(/,/g, \".\")) || 0\n    }));\n\n  if (!weekId) {\n    firebase\n      .weeks()\n      .doc()\n      .set({\n        name: `Week ${\n          isNextWeek ? getNextWeekNumber() : getCurrentWeekNumber()\n        }`,\n        from_date,\n        to_date,\n        progressFulfilled: \"0\",\n        user_id: authUser.uid,\n        activities: correctActivities,\n        workouts: []\n      });\n  } else {\n    let updatedActivities = correctActivities;\n    if (workouts && workouts.length > 0) {\n      updatedActivities = getUpdatedActivities(correctActivities, workouts);\n    }\n\n    const progressFulfilled = countWeekProgress({\n      workouts,\n      activities: updatedActivities\n    });\n\n    firebase\n      .weeks()\n      .doc(weekId)\n      .set(\n        {\n          name: `Week ${getNextWeekNumber()}`,\n          from_date,\n          to_date,\n          progressFulfilled:\n            workouts && workouts.length > 0 ? progressFulfilled : \"0\",\n          user_id: authUser.uid,\n          activities: updatedActivities,\n          workouts: workouts || []\n        },\n        { merge: true }\n      );\n  }\n}\n\nexport function doSaveWorkout(firebase, authUser, week, workout) {\n  const correctWorkout = {\n    ...workout,\n    minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\n    seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\n    distance: workout.distance === \"\" ? \"0\" : workout.distance\n  };\n  const { minutes, seconds, distance } = correctWorkout;\n\n  const newWorkout = {\n    ...workout,\n    minutes: parseInt(minutes, 10),\n    seconds: parseInt(seconds, 10),\n    distance: parseFloat(distance.replace(/,/g, \".\")),\n    id: week.workouts.length + 1\n  };\n\n  const updatedWorkouts = [...week.workouts, newWorkout];\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n\n  const updatedWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const progressFulfilled = countWeekProgress({\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  });\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...week,\n      ...updatedWeek,\n      progressFulfilled\n    });\n}\n\nexport function doRemoveWorkout(firebase, authUser, week, index) {\n  const { workouts } = week;\n  const updatedWorkouts = [\n    ...workouts.slice(0, index),\n    ...workouts.slice(index + 1)\n  ];\n\n  const updatedActivities = getUpdatedActivities(\n    week.activities,\n    updatedWorkouts\n  );\n  const newWeek = {\n    ...week,\n    workouts: updatedWorkouts,\n    activities: updatedActivities\n  };\n  const newProgress = countWeekProgress({\n    activities: newWeek.activities,\n    workouts: newWeek.workouts\n  });\n  const updatedWeek = { ...newWeek, progressFulfilled: newProgress };\n\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...updatedWeek\n    });\n}\n\nexport function doSaveUser(firebase, authUser, { name, email }) {\n  try {\n    firebase\n      .users()\n      .doc(authUser.user.uid)\n      .set({\n        name,\n        email\n      });\n  } catch (e) {\n    console.log({ e });\n  }\n}\n\nexport function doSaveCurrentWeeksNote(firebase, authUser, week, note) {\n  firebase\n    .weeks()\n    .doc(week.id)\n    .set({\n      ...week,\n      note\n    });\n}\n","import styled from \"styled-components\";\r\n\r\nexport const Loader = styled.div`\r\n  border: 5px solid #f3f3f3;\r\n  -webkit-animation: spin 1s linear infinite;\r\n  animation: spin 1s linear infinite;\r\n  border-top: 5px solid #555;\r\n  border-radius: 50%;\r\n  width: 12px;\r\n  height: 12px;\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport Input from \"../defaults/Input\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nconst SignUpWrapper = styled(FlexColumn)``;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 26px;\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Form = styled.form``;\r\n\r\nexport const StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  margin: 24px 0 8px;\r\n  color: #f78464;\r\n`;\r\n\r\nfunction SignUpForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { name, email, password } = inputs;\r\n    firebase\r\n      .doCreateUserWithEmailAndPassword(email, password)\r\n      .then(authUser => {\r\n        doSaveUser(firebase, authUser, { name, email });\r\n\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error.message);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    (!inputs.password ||\r\n      inputs.password === \"\" ||\r\n      !inputs.email ||\r\n      inputs.email === \"\" ||\r\n      !inputs.name ||\r\n      inputs.name === \"\" ||\r\n      !inputs.confirmPassword ||\r\n      inputs.password !== inputs.confirmPassword);\r\n\r\n  return (\r\n    <SignUpWrapper>\r\n      <Title>Sign up</Title>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"name\"\r\n          value={inputs.name}\r\n          onChange={handleInputChange}\r\n          type=\"text\"\r\n          placeholder=\"John Smith\"\r\n          label=\"Full name\"\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          placeholder=\"johnsmith@email.com\"\r\n          label=\"Email\"\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n        />\r\n        <Input\r\n          name=\"confirmPassword\"\r\n          value={inputs.confirmPassword}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Confirm password\"\r\n        />\r\n        {error && <ErrorMessage>Error: {error}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign Up\"}\r\n        </StyledPrimaryButton>\r\n      </Form>\r\n    </SignUpWrapper>\r\n  );\r\n}\r\n\r\nconst SignUpPage = withRouter(withFirebase(SignUpForm));\r\n\r\nexport default SignUpPage;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { withFirebase } from \".\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: white;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border: 1px solid #414141;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 30px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  margin: 0;\r\n  margin-top: 4px;\r\n`;\r\n\r\nfunction SignInGoogleForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithGoogle()\r\n      .then(socialAuthUser => {\r\n        doSaveUser(firebase, socialAuthUser, {\r\n          name: socialAuthUser.user.displayName,\r\n          email: socialAuthUser.user.email\r\n        });\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/google.svg\" />\r\n        <Text>Google</Text>\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInGoogle = withFirebase(withRouter(SignInGoogleForm));\r\n\r\nexport default SignInGoogle;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { FlexColumn } from \"../defaults/Flex\";\r\nimport { withFirebase } from \".\";\r\nimport { ErrorMessage } from \"./SignUp\";\r\nimport styled from \"styled-components\";\r\nimport { PrimaryButton } from \"../defaults/Buttons\";\r\nimport { doSaveUser } from \"../../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst StyledPrimaryButton = styled(PrimaryButton)`\r\n  margin-top: 8px;\r\n  padding: 0;\r\n  background: #3b5998;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 150px;\r\n`;\r\n\r\nfunction SignInFacebookForm({ firebase, history }) {\r\n  const [error, setError] = useState(null);\r\n\r\n  const onClick = event => {\r\n    firebase\r\n      .doSignInWithFacebook()\r\n      .then(socialAuthUser => {\r\n        doSaveUser(firebase, socialAuthUser, {\r\n          name: socialAuthUser.additionalUserInfo.profile.name,\r\n          email: socialAuthUser.additionalUserInfo.profile.email\r\n        });\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {error && <ErrorMessage>Error: {error.message}</ErrorMessage>}\r\n      <StyledPrimaryButton onClick={onClick} type=\"submit\">\r\n        <Image alt=\"facebook-icon\" src=\"/icons/facebook.svg\" />\r\n      </StyledPrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst SignInFacebook = withFirebase(withRouter(SignInFacebookForm));\r\n\r\nexport default SignInFacebook;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { FlexColumn, FlexRow } from \"../defaults/Flex\";\r\nimport { Title, StyledPrimaryButton, ErrorMessage } from \"./SignUp\";\r\nimport Input from \"../defaults/Input\";\r\nimport { useSubmitForm } from \"../../hooks\";\r\nimport SignInGoogle from \"./SignInGoogle\";\r\nimport SignInFacebook from \"./SignInFacebook\";\r\nimport styled from \"styled-components\";\r\nimport { withFirebase } from \".\";\r\nimport { Loader } from \"../defaults/Loader\";\r\n\r\nSignInForm.propTypes = {\r\n  firebase: PropTypes.shape({\r\n    doSignInWithEmailAndPassword: PropTypes.func.isRequired\r\n  }),\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  })\r\n};\r\n\r\nconst DelimeterWrapper = styled(FlexRow)`\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst DelimeterText = styled.div`\r\n  flex: 0.5 auto;\r\n  color: gray;\r\n  text-align: center;\r\n`;\r\n\r\nconst DelimeterLine = styled.div`\r\n  background-color: lightgray;\r\n  height: 1px;\r\n  flex: 1 auto;\r\n`;\r\n\r\nconst RegisterLinkWrapper = styled.p`\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nconst ForgotPassword = styled(Link)`\r\n  margin: 16px 0;\r\n  padding: 2px;\r\n  border-bottom: 1px solid #ffd873;\r\n`;\r\n\r\nfunction SignInForm({ firebase, history }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const onSubmit = () => {\r\n    setIsSubmitted(true);\r\n\r\n    const { email, password } = inputs;\r\n    firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        resetInputs();\r\n        history.push(\"/weeks\");\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      });\r\n\r\n    setIsSubmitted(false);\r\n  };\r\n\r\n  const {\r\n    resetInputs,\r\n    inputs,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    error,\r\n    setError\r\n  } = useSubmitForm(onSubmit);\r\n\r\n  const isInvalid =\r\n    !inputs ||\r\n    !inputs.password ||\r\n    inputs.password === \"\" ||\r\n    !inputs.email ||\r\n    inputs.email === \"\";\r\n\r\n  return (\r\n    <FlexColumn>\r\n      <Title>Sign in to your account</Title>\r\n      <SignInGoogle />\r\n      <SignInFacebook />\r\n      <DelimeterWrapper>\r\n        <DelimeterLine />\r\n        <DelimeterText>or</DelimeterText>\r\n        <DelimeterLine />\r\n      </DelimeterWrapper>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={inputs.email || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"email\"\r\n          label=\"Email\"\r\n          required={true}\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={inputs.password || \"\"}\r\n          onChange={handleInputChange}\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          required={true}\r\n        />\r\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\r\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\r\n          {isSubmitted ? <Loader /> : \"Sign In\"}\r\n        </StyledPrimaryButton>\r\n        <RegisterLinkWrapper>\r\n          {\"Don't have an account? \"}\r\n          <StyledLink to={\"/sign-up\"}>Sign Up</StyledLink>\r\n        </RegisterLinkWrapper>\r\n        <ForgotPassword to={\"/password-forget\"}>\r\n          Forgot your password?\r\n        </ForgotPassword>\r\n      </form>\r\n    </FlexColumn>\r\n  );\r\n}\r\n\r\nconst SignInPage = withFirebase(withRouter(SignInForm));\r\n\r\nexport default SignInPage;\r\n","import {\r\n  getNextWeekFromToDates,\r\n  getNextWeekNumber,\r\n  countWeekProgress,\r\n  getCurrentWeekFromToDates,\r\n  getCurrentWeekNumber,\r\n  canNextWeekBeCreated,\r\n  getUpdatedActivities\r\n} from \"./utils\";\r\n\r\nexport const appStateReducer = (appState, { type, value, id, workout }) => {\r\n  switch (type) {\r\n    case \"populateAppState\":\r\n      return value;\r\n\r\n    case \"deleteWorkout\": {\r\n      const { weeks } = appState;\r\n      const { from_date } = getCurrentWeekFromToDates();\r\n\r\n      const currentWeek = weeks.filter(w => w.from_date === from_date)[0];\r\n      const { workouts } = currentWeek;\r\n      const index = workouts.findIndex(w => w.id === id);\r\n      const updatedWorkouts = [\r\n        ...workouts.slice(0, index),\r\n        ...workouts.slice(index + 1)\r\n      ];\r\n\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === currentWeek.id) {\r\n          const updatedActivities = getUpdatedActivities(\r\n            week.activities,\r\n            updatedWorkouts\r\n          );\r\n          const newWeek = {\r\n            ...week,\r\n            workouts: updatedWorkouts,\r\n            activities: updatedActivities\r\n          };\r\n          const newProgress = countWeekProgress({\r\n            workouts: newWeek.workouts,\r\n            activities: newWeek.activities\r\n          });\r\n          return { ...newWeek, progressFulfilled: newProgress };\r\n        }\r\n        return week;\r\n      });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"saveCurrentWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getCurrentWeekFromToDates();\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const currentWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getCurrentWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      const canCreateNextWeek = canNextWeekBeCreated(weeks);\r\n      let newState;\r\n      if (canCreateNextWeek) {\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeks, currentWeek]\r\n        };\r\n      } else {\r\n        const nextWeek = weeks[weeks.length - 1];\r\n        const weeksWithoutNext = weeks.slice(0, weeks.length - 1);\r\n        newState = {\r\n          ...appState,\r\n          weeks: [...weeksWithoutNext, currentWeek, nextWeek]\r\n        };\r\n      }\r\n\r\n      // if (weeks[weeks.length - 1].from_date === from_date) {\r\n      //   const newWeeks = weeks;\r\n      //   newWeeks[newWeeks.length - 1] = currentWeek;\r\n      //   newState = {\r\n      //     ...appState,\r\n      //     weeks: newWeeks\r\n      //   };\r\n      // }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"saveNextWeek\": {\r\n      const { weeks } = appState;\r\n      const { from_date, to_date } = getNextWeekFromToDates();\r\n\r\n      const correctActivities = value.map(v => ({\r\n        ...v,\r\n        minutes: parseInt(v.minutes, 10),\r\n        distance:\r\n          v.distance === \"\"\r\n            ? 0\r\n            : parseFloat(v.distance.toString().replace(/,/g, \".\"))\r\n      }));\r\n      const nextWeek = {\r\n        id: appState.weeks.length + 1,\r\n        name: `Week ${getNextWeekNumber()}`,\r\n        from_date,\r\n        to_date,\r\n        progressFulfilled: \"0\",\r\n        activities: correctActivities,\r\n        workouts: []\r\n      };\r\n\r\n      let newState = {\r\n        ...appState,\r\n        weeks: [...appState.weeks, nextWeek]\r\n      };\r\n\r\n      if (weeks[weeks.length - 1].from_date === from_date) {\r\n        const newWeeks = weeks;\r\n        newWeeks[newWeeks.length - 1] = nextWeek;\r\n        newState = {\r\n          ...appState,\r\n          weeks: newWeeks\r\n        };\r\n      }\r\n\r\n      return newState;\r\n    }\r\n\r\n    case \"hideWeek\": {\r\n      const updatedWeeks = appState.weeks.map(week => {\r\n        if (week.id === value) {\r\n          return { ...week, isHidden: !week.isHidden };\r\n        }\r\n        return week;\r\n      });\r\n      return {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n    }\r\n\r\n    case \"addWorkout\": {\r\n      const { weeks } = appState;\r\n      const correctWorkout = {\r\n        ...workout,\r\n        minutes: workout.minutes === \"\" ? \"0\" : workout.minutes,\r\n        seconds: workout.seconds === \"\" ? \"0\" : workout.seconds,\r\n        distance: workout.distance === \"\" ? \"0\" : workout.distance\r\n      };\r\n      const { minutes, seconds, distance } = correctWorkout;\r\n      const updatedWeeks =\r\n        weeks &&\r\n        weeks.map(week => {\r\n          if (week.id === value) {\r\n            const newWorkout = {\r\n              ...workout,\r\n              minutes: parseInt(minutes, 10),\r\n              seconds: parseInt(seconds, 10),\r\n              distance: parseFloat(distance.replace(/,/g, \".\")),\r\n              id: week.workouts.length + 1\r\n            };\r\n\r\n            const updatedWorkouts = [...week.workouts, newWorkout];\r\n            const updatedActivities = getUpdatedActivities(\r\n              week.activities,\r\n              updatedWorkouts\r\n            );\r\n\r\n            const updatedWeek = {\r\n              ...week,\r\n              workouts: updatedWorkouts,\r\n              activities: updatedActivities\r\n            };\r\n\r\n            return {\r\n              ...updatedWeek,\r\n              progressFulfilled: countWeekProgress({\r\n                workouts: updatedWeek.workouts,\r\n                activities: updatedWeek.activities\r\n              })\r\n            };\r\n          }\r\n          return week;\r\n        });\r\n\r\n      const newState = {\r\n        ...appState,\r\n        weeks: updatedWeeks\r\n      };\r\n\r\n      return newState;\r\n    }\r\n    default:\r\n      return appState;\r\n  }\r\n};\r\n\r\nexport const activitiesReducer = (\r\n  activities,\r\n  { type, value, newValue, valueType }\r\n) => {\r\n  switch (type) {\r\n    case \"setActivities\":\r\n      return value;\r\n    case \"add\":\r\n      return [...activities, value];\r\n    case \"remove\":\r\n      return activities.filter((_, index) => index !== value);\r\n    case \"setActivityValue\":\r\n      const updatedActivities = activities.map((activity, i) => {\r\n        if (i === value) {\r\n          return { ...activity, [valueType]: newValue };\r\n        }\r\n        return activity;\r\n      });\r\n      return updatedActivities;\r\n    default:\r\n      return activities;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Label } from \"./Input\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst StyledSelect = styled.select`\r\n  display: block;\r\n  font-size: 16px;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-weight: 500;\r\n  color: #444444;\r\n  line-height: 1.3;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 16px;\r\n  margin: 0;\r\n  border: 1px solid #aaa;\r\n  box-shadow: 0 1px 0 1px rgba(0, 0, 0, 0.04);\r\n  border-radius: 0.5em;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-color: #fff;\r\n  background-image: linear-gradient(45deg, transparent 50%, #444444 50%),\r\n    linear-gradient(135deg, #444444 50%, transparent 50%),\r\n    radial-gradient(#f7f7f7 70%, transparent 72%);\r\n  /* background-position: calc(100% - 20px) calc(1em + 2px),\r\n    calc(100% - 15px) calc(1em + 2px), calc(100% - 0.5em) 0.5em; */\r\n  background-position: calc(100% - 20px) calc(1em + 8px),\r\n    calc(100% - 15px) calc(1em + 8px), calc(100% - 0.5em) 0.5em;\r\n  background-size: 5px 5px, 5px 5px, 1.5em 1.5em;\r\n  background-repeat: no-repeat;\r\n\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  background-color: #f7f7f7;\r\n  -webkit-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  -moz-box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n  box-shadow: inset 0 2px 4px 0 hsla(0, 0%, 0%, 0.08);\r\n\r\n  &::-ms-expand {\r\n    display: none;\r\n  }\r\n\r\n  &:hover {\r\n    border-color: #888;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #444444;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  width: ${({ inputWidth }) => inputWidth || \"100%\"};\r\n`;\r\n\r\nconst StyledOption = styled.option`\r\n  font-weight: normal;\r\n`;\r\n\r\nfunction Select({ options, value, onChange, label }) {\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <StyledSelect value={value} onChange={onChange}>\r\n        {options &&\r\n          options.map((option, i) => (\r\n            <StyledOption value={option.value} key={i}>\r\n              {option.name}\r\n            </StyledOption>\r\n          ))}\r\n      </StyledSelect>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","export const workoutTypes = [\r\n  { name: \"Running\", value: \"Running\" },\r\n  { name: \"Swimming\", value: \"Swimming\" },\r\n  { name: \"Biking\", value: \"Biking\" },\r\n  { name: \"Gym\", value: \"Gym\", hideDistance: true },\r\n  { name: \"Other\", value: \"Other\" }\r\n];\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport styled from \"styled-components\";\r\nimport { shouldShowDistance } from \"../utils\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin: 16px 0;\r\n`;\r\n\r\nconst TitleRemoveWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst InputsWrapper = styled(FlexColumn)``;\r\n\r\nconst HoursDistanceWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActivityTitle = styled.h3`\r\n  font-size: 16px;\r\n  margin: 0;\r\n`;\r\n\r\nconst RemoveActivityButton = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 20px;\r\n  background-color: #dc9987cc;\r\n  color: #444444;\r\n`;\r\n\r\nfunction ActivityForm({ dispatchActivities, activityNumber, activity }) {\r\n  const i = activityNumber - 1;\r\n  const { type, minutes, distance } = activity;\r\n  const showDistance = shouldShowDistance(type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TitleRemoveWrapper>\r\n        <ActivityTitle>Activity {activityNumber}</ActivityTitle>\r\n        <RemoveActivityButton\r\n          onClick={() => dispatchActivities({ type: \"remove\", value: i })}\r\n        >\r\n          Remove\r\n        </RemoveActivityButton>\r\n      </TitleRemoveWrapper>\r\n      <InputsWrapper>\r\n        <Select\r\n          defaultValue={\"Running\"}\r\n          value={type}\r\n          options={workoutTypes}\r\n          onChange={e =>\r\n            dispatchActivities({\r\n              type: \"setActivityValue\",\r\n              value: i,\r\n              newValue: e.target.value,\r\n              valueType: \"type\"\r\n            })\r\n          }\r\n        />\r\n        <HoursDistanceWrapper>\r\n          <Input\r\n            inputWidth={\"45%\"}\r\n            label=\"minutes\"\r\n            type=\"number\"\r\n            name=\"minutes\"\r\n            placeholder=\"0\"\r\n            value={minutes}\r\n            onChange={e =>\r\n              dispatchActivities({\r\n                type: \"setActivityValue\",\r\n                value: i,\r\n                newValue: e.target.value,\r\n                valueType: \"minutes\"\r\n              })\r\n            }\r\n          />\r\n          {showDistance && (\r\n            <Input\r\n              unit=\"km\"\r\n              inputWidth={\"45%\"}\r\n              label=\"distance\"\r\n              type=\"number\"\r\n              name=\"distance\"\r\n              placeholder=\"0\"\r\n              value={distance}\r\n              onChange={e =>\r\n                dispatchActivities({\r\n                  type: \"setActivityValue\",\r\n                  value: i,\r\n                  newValue: e.target.value,\r\n                  valueType: \"distance\"\r\n                })\r\n              }\r\n            />\r\n          )}\r\n        </HoursDistanceWrapper>\r\n      </InputsWrapper>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default ActivityForm;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport { activitiesReducer } from \"../reducers\";\r\nimport styled from \"styled-components\";\r\nimport ActivityForm from \"../components/ActivityForm\";\r\nimport { FlexRow } from \"../components/defaults/Flex\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doSaveWeeksPlan } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\n\r\nconst StyledTitle = styled.h2`\r\n  font-size: 20px;\r\n  margin: 0;\r\n  margin-bottom: 32px;\r\n  text-align: center;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst AddActivity = styled(FlexRow)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 4px 16px;\r\n  background-color: #689f3830;\r\n  color: #444444;\r\n  border-radius: 16px;\r\n  width: fit-content;\r\n  margin: 0 auto;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst SavePlanButton = styled(PrimaryButton)`\r\n  margin-top: 24px;\r\n`;\r\n\r\nfunction WeeksPlan({ history, location, firebase, authUser }) {\r\n  const {\r\n    state: { isNextWeek, weekActivities, weekId, workouts }\r\n  } = location;\r\n\r\n  const [activities, dispatchActivities] = useReducer(activitiesReducer, [\r\n    { type: \"Running\", minutes: \"\", distance: \"\" }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (weekActivities) {\r\n      dispatchActivities({\r\n        type: \"setActivities\",\r\n        value: weekActivities\r\n      });\r\n    }\r\n  }, [isNextWeek, weekActivities]);\r\n\r\n  const saveNextWeekAndRedirect = () => {\r\n    doSaveWeeksPlan(\r\n      firebase,\r\n      authUser,\r\n      workouts,\r\n      activities,\r\n      isNextWeek,\r\n      weekId\r\n    );\r\n\r\n    history.push(\"/weeks\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <StyledTitle>\r\n        {isNextWeek ? \"Next week's plan\" : \"Current week's plan\"}\r\n      </StyledTitle>\r\n\r\n      {activities &&\r\n        activities.map((activity, i) => {\r\n          const activityNumber = i + 1;\r\n          return (\r\n            <ActivityForm\r\n              key={i}\r\n              activityNumber={activityNumber}\r\n              activity={activity}\r\n              dispatchActivities={dispatchActivities}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <AddActivity\r\n        onClick={() =>\r\n          dispatchActivities({\r\n            type: \"add\",\r\n            value: { type: \"Running\", minutes: \"\", distance: \"\" }\r\n          })\r\n        }\r\n      >\r\n        <PlusIcon src=\"/icons/plus.svg\" alt=\"plus-icon\" />\r\n        Add activity\r\n      </AddActivity>\r\n\r\n      <SavePlanButton\r\n        disabled={activities.length === 0}\r\n        onClick={e => {\r\n          saveNextWeekAndRedirect(e);\r\n        }}\r\n      >\r\n        {isNextWeek ? \"Save next week's plan\" : \"Save current week's plan\"}\r\n      </SavePlanButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeeksPlan)))\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Text = styled.p`\r\n  margin: 0;\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  color: #444444;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"./Flex\";\r\n\r\nconst WeekDelimeter = styled(FlexColumn)`\r\n  align-items: center;\r\n`;\r\n\r\nconst TopDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-top-left-radius: 12px;\r\n  border-top-right-radius: 12px;\r\n  border-top: 0;\r\n  background-color: white;\r\n  margin-top: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst BottomDot = styled.div`\r\n  width: 20px;\r\n  height: 10px;\r\n  border-bottom-left-radius: 12px;\r\n  border-bottom-right-radius: 12px;\r\n  border-bottom: 0;\r\n  background-color: white;\r\n  margin-bottom: -8px;\r\n  z-index: 5;\r\n`;\r\n\r\nconst Line = styled.div`\r\n  width: 2px;\r\n  height: ${({ last }) => (last ? \"48px\" : \"16px\")};\r\n  background-color: #ccc9;\r\n`;\r\n\r\nfunction DotLineDelimeter({ last }) {\r\n  return (\r\n    <WeekDelimeter>\r\n      <TopDot />\r\n      <Line last={last} />\r\n      <BottomDot />\r\n    </WeekDelimeter>\r\n  );\r\n}\r\n\r\nexport default DotLineDelimeter;\r\n","import React from \"react\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport {\r\n  getIconFromWorkoutType,\r\n  formatDistance,\r\n  formatSeconds,\r\n  getWeekDayFromNumber\r\n} from \"../utils\";\r\nimport DotLineDelimeter from \"./defaults/DotLineDelimeter\";\r\nimport moment from \"moment\";\r\n\r\nconst Wrapper = styled(FlexColumn)``;\r\n\r\nconst WeekWrapper = styled(FlexRow)`\r\n  max-width: 400px;\r\n  background-color: #eeeeee;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst WorkoutIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst InfoWrapper = styled(FlexColumn)`\r\n  flex: 1;\r\n`;\r\n\r\nconst Type = styled(Text)`\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  color: #44444491;\r\n`;\r\n\r\nconst Distance = styled(Text)`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst TopRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst BottomRow = styled(FlexRow)`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst DayInWeekWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst DayInWeek = styled.h3`\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: absolute;\r\n  top: -20px;\r\n  color: #444444a1;\r\n`;\r\n\r\nconst DeleteIcon = styled.img`\r\n  width: 24x;\r\n  height: 24px;\r\n  margin-left: 24px;\r\n`;\r\n\r\nconst WorkoutItem = ({\r\n  workout,\r\n  last,\r\n  first,\r\n  lastDay,\r\n  isCurrent,\r\n  deleteWorkout\r\n}) => {\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const formattedSeconds = formatSeconds(seconds);\r\n  const dayName = getWeekDayFromNumber(\r\n    moment(day, \"DD.MM.YYYY\").isoWeekday()\r\n  ).slice(0, 2);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {first && (\r\n        <DayInWeekWrapper>\r\n          <DayInWeek>{`${dayName} - ${day}`}</DayInWeek>\r\n        </DayInWeekWrapper>\r\n      )}\r\n      <WeekWrapper>\r\n        <WorkoutIcon src={getIconFromWorkoutType(type)} />\r\n        <InfoWrapper>\r\n          <TopRow>\r\n            <Type>{type}</Type>\r\n          </TopRow>\r\n          <BottomRow>\r\n            <Distance>{`${formatDistance(\r\n              distance\r\n            )} / ${minutes}:${formattedSeconds}`}</Distance>\r\n          </BottomRow>\r\n        </InfoWrapper>\r\n        {isCurrent && (\r\n          <DeleteIcon onClick={deleteWorkout} src=\"/icons/delete.svg\" />\r\n        )}\r\n      </WeekWrapper>\r\n      {!last && <DotLineDelimeter last={lastDay} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default WorkoutItem;\r\n","import React from \"react\";\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\nimport styled from \"styled-components\";\nimport { Text } from \"./defaults/Text\";\nimport {\n  getIconFromWorkoutType,\n  formatDistance,\n  formatHours,\n  getFulfilledWorkoutIcon\n} from \"../utils\";\n\nconst Wrapper = styled(FlexColumn)`\n  background-color: ${({ isFulfilled }) =>\n    isFulfilled ? \" #689f3830\" : \"#dc99874a\"};\n  border-radius: 8px;\n  padding: 16px;\n  border-bottom-right-radius: ${({ isFulfilled }) => (isFulfilled ? \"8px\" : 0)};\n  margin-bottom: ${({ isFulfilled }) => (isFulfilled ? \"16px\" : 0)};\n`;\n\nconst PlanWrapper = styled(FlexRow)`\n  max-width: 400px;\n  /* padding: 12px; */\n`;\n\nconst WorkoutIcon = styled.img`\n  width: 24px;\n  height: 24px;\n  margin-right: 16px;\n`;\n\nconst FullfilledIcon = styled.img`\n  width: 32px;\n  height: 32px;\n`;\n\nconst MiddleSection = styled(FlexColumn)`\n  flex: 1;\n`;\n\nconst Type = styled(Text)`\n  font-weight: 700;\n  margin-bottom: 4px;\n`;\n\nconst Duration = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Date = styled(Text)`\n  color: gray;\n  font-size: 16px;\n`;\n\nconst Delimeter = styled(Text)`\n  color: gray;\n  font-size: 16px;\n  margin: 0 8px;\n`;\n\nconst BottomRow = styled(FlexRow)`\n  width: 100%;\n`;\n\nconst MissingStatsWrapper = styled(FlexRow)`\n  justify-content: flex-end;\n  margin-left: auto;\n  padding: 16px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  background: white;\n  border: 2px solid #dc99874a;\n  border-top: 0;\n`;\n\nconst MissingWrapper = styled(FlexRow)`\n  height: 50px;\n  width: 100%;\n  margin-bottom: 16px;\n`;\n\nconst EmptySpace = styled.div`\n  background: white;\n  height: 100%;\n`;\n\nconst Missing = styled(Text)`\n  font-weight: 700;\n  color: #dc9987cc;\n  margin: 0 8px;\n`;\n\nconst MissingText = styled(Text)`\n  color: #444444;\n`;\n\nconst WorkoutPlanItem = ({ activity }) => {\n  const {\n    type,\n    minutes,\n    distance,\n    isFulfilled,\n    progressMinutesMissing,\n    progressDistanceMissing\n  } = activity;\n\n  const missingMinutes = progressMinutesMissing || minutes;\n  const missingDistance = progressDistanceMissing || distance;\n\n  return (\n    <>\n      <Wrapper isFulfilled={isFulfilled}>\n        <PlanWrapper>\n          <WorkoutIcon src={getIconFromWorkoutType(type)} />\n          <MiddleSection>\n            <Type>{type}</Type>\n            <BottomRow>\n              <Date>{formatHours(minutes)}</Date>\n              <Delimeter>{\"/\"}</Delimeter>\n              <Duration>{formatDistance(distance)}</Duration>\n            </BottomRow>\n          </MiddleSection>\n          <FullfilledIcon src={getFulfilledWorkoutIcon(isFulfilled)} />\n        </PlanWrapper>\n      </Wrapper>\n      {!isFulfilled && (\n        <MissingWrapper>\n          <EmptySpace />\n          <MissingStatsWrapper>\n            <FlexRow>\n              <Missing>{\"Missing: \"}</Missing>\n              <MissingText>{formatHours(missingMinutes)}</MissingText>\n              {distance !== 0 && (\n                <>\n                  <Delimeter>{\"/\"}</Delimeter>\n                  <MissingText>{formatDistance(missingDistance)}</MissingText>\n                </>\n              )}\n            </FlexRow>\n          </MissingStatsWrapper>\n        </MissingWrapper>\n      )}\n    </>\n  );\n};\n\nexport default WorkoutPlanItem;\n","import React from \"react\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 16px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: center;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  font-family: \"Rubik\", sans-serif;\r\n  font-size: 24px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfoRow = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentWrapper = styled(FlexColumn)`\r\n  width: 100%;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WeekInfo({ week }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeeeb0\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfoRow>\r\n        <ContentWrapper>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <FlexRow>\r\n              <DateInfo>{formatDate(from_date)}</DateInfo>\r\n              <DateDelimeter>{\"-\"}</DateDelimeter>\r\n              <DateInfo>{formatDate(to_date)}</DateInfo>\r\n            </FlexRow>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </DateWrapper>\r\n        </ContentWrapper>\r\n      </WeekInfoRow>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WeekInfo;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./defaults/Input\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { PrimaryButton } from \"./defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { getCurrentWeekDays, getTodayDate, shouldShowDistance } from \"../utils\";\r\nimport Select from \"./defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\n\r\nconst Wrapper = styled(FlexColumn)`\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst MinutesSecondsWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nfunction WorkoutForm({ saveWorkout, week }) {\r\n  const [workout, setWorkout] = useState({\r\n    day: getTodayDate(),\r\n    type: \"Running\",\r\n    minutes: \"\",\r\n    seconds: \"\",\r\n    distance: \"\"\r\n  });\r\n  const { day, type, minutes, seconds, distance } = workout;\r\n  const daysOptions = getCurrentWeekDays(week);\r\n  const showDistance = shouldShowDistance(workout.type, workoutTypes);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Select\r\n        label=\"day\"\r\n        value={day}\r\n        options={daysOptions}\r\n        onChange={e => setWorkout({ ...workout, day: e.target.value })}\r\n      />\r\n      <Select\r\n        label=\"type\"\r\n        value={type}\r\n        options={workoutTypes}\r\n        onChange={e => setWorkout({ ...workout, type: e.target.value })}\r\n      />\r\n      <MinutesSecondsWrapper>\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"minutes\"\r\n          type=\"number\"\r\n          name=\"minutes\"\r\n          placeholder={0}\r\n          value={minutes}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, minutes: e.target.value });\r\n          }}\r\n        />\r\n        <Input\r\n          inputWidth={showDistance ? \"25%\" : \"45%\"}\r\n          label=\"seconds\"\r\n          type=\"number\"\r\n          name=\"seconds\"\r\n          placeholder={0}\r\n          value={seconds}\r\n          onChange={e => {\r\n            setWorkout({ ...workout, seconds: e.target.value });\r\n          }}\r\n        />\r\n        {showDistance && (\r\n          <Input\r\n            inputWidth={\"35%\"}\r\n            label=\"distance\"\r\n            type=\"number\"\r\n            name=\"Distance\"\r\n            unit={\"km\"}\r\n            placeholder={0}\r\n            value={distance}\r\n            onChange={e => {\r\n              setWorkout({ ...workout, distance: e.target.value });\r\n            }}\r\n          />\r\n        )}\r\n      </MinutesSecondsWrapper>\r\n      <PrimaryButton onClick={() => saveWorkout(workout)}>\r\n        Add workout\r\n      </PrimaryButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutForm;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn, FlexRow } from \"./defaults/Flex\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport WorkoutForm from \"./WorkoutForm\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport withAuthUser from \"./Firebase/Session/withAuthUser\";\r\nimport { doSaveWorkout } from \"../firebase-db\";\r\n\r\nconst Wrapper = styled(FlexColumn)``;\r\n\r\nconst CurrentWeeksTitleWrapper = styled(FlexRow)`\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: ${({ isWeekDetail }) => (isWeekDetail ? \"40px\" : \"16px\")};\r\n`;\r\n\r\nconst CurrentWeeksTitle = styled.h2`\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n  margin: 0;\r\n`;\r\n\r\nconst PlusIconWrapper = styled(FlexColumn)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #ffd873;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst PlusIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nfunction AddWorkoutTitle({\r\n  firebase,\r\n  authUser,\r\n  title,\r\n  week,\r\n  isWeekDetail = false\r\n}) {\r\n  const [isWorkoutFormVisible, setIsWorkoutFormVisible] = useState(false);\r\n  const showButton = isCurrentWeek(week);\r\n\r\n  const saveWorkout = workout => {\r\n    doSaveWorkout(firebase, authUser, week, workout);\r\n    setIsWorkoutFormVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Wrapper isWeekDetail={isWeekDetail}>\r\n      <CurrentWeeksTitleWrapper isWeekDetail={isWeekDetail}>\r\n        <CurrentWeeksTitle>{title}</CurrentWeeksTitle>\r\n        {showButton && (\r\n          <PlusIconWrapper\r\n            onClick={() => {\r\n              setIsWorkoutFormVisible(!isWorkoutFormVisible);\r\n            }}\r\n          >\r\n            <PlusIcon\r\n              alt=\"plus-icon\"\r\n              src={\r\n                isWorkoutFormVisible ? \"/icons/minus.svg\" : \"/icons/plus.svg\"\r\n              }\r\n            />\r\n          </PlusIconWrapper>\r\n        )}\r\n      </CurrentWeeksTitleWrapper>\r\n      {isWorkoutFormVisible ? (\r\n        <WorkoutForm saveWorkout={saveWorkout} week={week} />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withFirebase(withAuthUser(AddWorkoutTitle));\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FlexRow, FlexColumn } from \"./defaults/Flex\";\r\nimport { Text } from \"./defaults/Text\";\r\nimport { formatDate } from \"../utils\";\r\n\r\nconst Wrapper = styled(Link)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: column;\r\n  max-width: 400px;\r\n  opacity: ${({ ishidden }) => (ishidden ? 0.5 : 1)};\r\n  margin-bottom: 16px;\r\n  padding: 24px 16px 8px;\r\n  border-radius: 8px;\r\n  border: 0;\r\n  background-color: ${({ color }) => color};\r\n  /* #17B0CE */\r\n  /* -webkit-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  -moz-box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2);\r\n  box-shadow: 0 4px 6px 0 hsla(0, 0%, 0%, 0.2); */\r\n`;\r\n\r\nconst WeekProgress = styled.div`\r\n  left: 0;\r\n  border-top-left-radius: 8px;\r\n  position: absolute;\r\n  height: 6px;\r\n  top: 1px;\r\n  min-width: 2%;\r\n  max-width: 100%;\r\n  width: ${({ progress }) => `${progress}%`};\r\n  background-color: ${({ color }) => `${color}`};\r\n  border-top-right-radius: ${({ progress }) => (progress > 99 ? \"8px\" : 0)};\r\n`;\r\n\r\nconst NamePercentageWrapper = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Name = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ProgressPercentage = styled(Text)`\r\n  font-weight: 700;\r\n  margin-bottom: 8px;\r\n  color: ${({ color }) => `${color}`};\r\n`;\r\n\r\nconst WeekInfo = styled(FlexRow)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst RightArrowIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nconst DateInfo = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst DateDelimeter = styled(Text)`\r\n  color: gray;\r\n  font-size: 14px;\r\n  margin: 0 4px;\r\n`;\r\n\r\nconst DateWrapper = styled(FlexRow)`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nfunction WorkoutWeek({ week, dispatchAppState, location }) {\r\n  const { id, name, from_date, to_date, progressFulfilled, isHidden } = week;\r\n  const color =\r\n    progressFulfilled > 75\r\n      ? \"#689f38cf\"\r\n      : progressFulfilled > 45\r\n      ? \"#fb8c00a6\"\r\n      : \"#e53935ba\";\r\n  const wrapperColor = \"#eeeeee54\";\r\n  // progressFulfilled > 75\r\n  //   ? \"#689f3824\"\r\n  //   : progressFulfilled > 45\r\n  //   ? \"#fbc02d45\"\r\n  //   : \"#dc99873b\";\r\n\r\n  return (\r\n    <Wrapper\r\n      progress={progressFulfilled}\r\n      color={wrapperColor}\r\n      to={`/week/${id}`}\r\n      ishidden={isHidden}\r\n    >\r\n      <WeekProgress progress={progressFulfilled} color={color} />\r\n      <WeekInfo>\r\n        <FlexColumn>\r\n          <NamePercentageWrapper>\r\n            <Name>{name}</Name>\r\n            <ProgressPercentage\r\n              color={color}\r\n            >{`${progressFulfilled}%`}</ProgressPercentage>\r\n          </NamePercentageWrapper>\r\n          <DateWrapper>\r\n            <DateInfo>{formatDate(from_date)}</DateInfo>\r\n            <DateDelimeter>{\"-\"}</DateDelimeter>\r\n            <DateInfo>{formatDate(to_date)}</DateInfo>\r\n          </DateWrapper>\r\n        </FlexColumn>\r\n        <RightArrowIcon src=\"/icons/arrow-right.svg\" alt=\"right-arrow\" />\r\n      </WeekInfo>\r\n      {/* <HideWeekButton\r\n          onClick={() => dispatchAppState({ type: \"hideWeek\", value: id })}\r\n        >\r\n          {isHidden ? \"Show week\" : \"Hide week\"}\r\n        </HideWeekButton> */}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default WorkoutWeek;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  getNextWeekFromToDates,\r\n  getCurrentWeekFromToDates,\r\n  getNextWeekNumber\r\n} from \"../utils\";\r\nimport { PrimaryLink, PrimaryButton } from \"../components/defaults/Buttons\";\r\nimport styled from \"styled-components\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport WorkoutWeek from \"../components/WorkoutWeek\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport {\r\n  useCollectionOnce,\r\n  useCollection\r\n} from \"react-firebase-hooks/firestore\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst NewWorkoutLink = styled(PrimaryLink)`\r\n  text-decoration: none;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst WeeksWrapper = styled(FlexColumn)``;\r\n\r\nconst WeeksTitle = styled.h2`\r\n  font-size: 16px;\r\n  margin: 32px 0 16px;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst NextWeeksTitle = styled(WeeksTitle)`\r\n  font-size: 18px;\r\n`;\r\n\r\nconst LoadMoreButton = styled(PrimaryButton)`\r\n  flex-flow: column;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  text-transform: uppercase;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst DownIcon = styled.img`\r\n  margin-top: 4px;\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nexport const NoResultsFound = styled.span`\r\n  font-size: 16px;\r\n  color: #dc9987;\r\n`;\r\n\r\nfunction Weeks({ authUser, firebase }) {\r\n  const limit = 10;\r\n  const [previousWeeksOffset, setPreviousWeeksOffset] = useState(0);\r\n\r\n  const [nextWeekFirebase, loading, error] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getNextWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    currentWeekFirebase,\r\n    loadingCurrentWeek,\r\n    errorCurrentWeek\r\n  ] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"==\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .limit(1)\r\n  );\r\n\r\n  const [\r\n    previousWeeksFirebase,\r\n    loadingPreviousWeeks,\r\n    errorPreviousWeeks\r\n  ] = useCollectionOnce(\r\n    firebase\r\n      .weeks()\r\n      .where(\"from_date\", \"<\", getCurrentWeekFromToDates().from_date)\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .orderBy(\"from_date\", \"desc\")\r\n      // .startAt(0)\r\n      .limit(limit)\r\n  );\r\n\r\n  const currentWeek = currentWeekFirebase &&\r\n    currentWeekFirebase.docs &&\r\n    currentWeekFirebase.docs[0] && {\r\n      ...currentWeekFirebase.docs[0].data(),\r\n      id: currentWeekFirebase.docs[0].id\r\n    };\r\n\r\n  const nextWeek = nextWeekFirebase &&\r\n    nextWeekFirebase.docs &&\r\n    nextWeekFirebase.docs[0] && {\r\n      ...nextWeekFirebase.docs[0].data(),\r\n      id: nextWeekFirebase.docs[0].id\r\n    };\r\n  const canCreateNextWeek = !nextWeek;\r\n\r\n  const previousWeeks =\r\n    previousWeeksFirebase &&\r\n    previousWeeksFirebase.docs &&\r\n    previousWeeksFirebase.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const totalPreviousWeeks = (previousWeeks && previousWeeks.length) || 0;\r\n  const showMoreButton = totalPreviousWeeks > previousWeeksOffset + limit;\r\n\r\n  return (\r\n    <>\r\n      <AddWorkoutTitle\r\n        title=\"Current\"\r\n        week={currentWeek}\r\n        noMarginBottom={true}\r\n      />\r\n      {!loadingCurrentWeek ? (\r\n        currentWeek ? (\r\n          <WorkoutWeek week={currentWeek} />\r\n        ) : (\r\n          <NewWorkoutLink\r\n            to={{ pathname: \"/weeks-plan\", state: { isNextWeek: false } }}\r\n          >\r\n            Create plan for this week\r\n          </NewWorkoutLink>\r\n        )\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      <NextWeeksTitle>Coming up</NextWeeksTitle>\r\n      {!loadingCurrentWeek ? (\r\n        nextWeek && <WorkoutWeek week={nextWeek} />\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      {!loadingCurrentWeek && (\r\n        <NewWorkoutLink\r\n          to={{\r\n            pathname: \"/weeks-plan\",\r\n            state: {\r\n              isNextWeek: true,\r\n              weekActivities: nextWeek && nextWeek.activities,\r\n              weekId: nextWeek && nextWeek.id\r\n            }\r\n          }}\r\n        >\r\n          {canCreateNextWeek\r\n            ? \"Create next week's plan\"\r\n            : \"Edit next week's plan\"}\r\n        </NewWorkoutLink>\r\n      )}\r\n      <WeeksTitle>Previous</WeeksTitle>\r\n      <WeeksWrapper>\r\n        {loadingPreviousWeeks ? (\r\n          <Loader />\r\n        ) : previousWeeks && previousWeeks.length > 0 ? (\r\n          previousWeeks.map((week, i) =>\r\n            i < previousWeeksOffset + limit ? (\r\n              <WorkoutWeek key={week.id} week={week} />\r\n            ) : null\r\n          )\r\n        ) : (\r\n          <NoResultsFound>{\"You don't have any previous weeks\"}</NoResultsFound>\r\n        )}\r\n      </WeeksWrapper>\r\n      {showMoreButton && (\r\n        <LoadMoreButton\r\n          onClick={() => setPreviousWeeksOffset(previousWeeksOffset + limit)}\r\n        >\r\n          Load previous weeks\r\n          <DownIcon alt=\"down-icon\" src=\"/icons/arrow-down.svg\" />\r\n        </LoadMoreButton>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(withFirebase(withAuthUser(Weeks)));\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport WorkoutItem from \"../components/WorkoutItem\";\r\nimport styled from \"styled-components\";\r\nimport WorkoutPlanItem from \"../components/WorkoutPlanItem\";\r\nimport WeekInfo from \"../components/WeekInfo\";\r\nimport { isCurrentWeek } from \"../utils\";\r\nimport AddWorkoutTitle from \"../components/AddWorkoutTitle\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport { FlexColumn } from \"../components/defaults/Flex\";\r\nimport TextareaAutosize from 'react-autosize-textarea';\r\nimport moment from \"moment\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { doRemoveWorkout, doSaveCurrentWeeksNote } from \"../firebase-db\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst WorkoutPlanTitle = styled.h3`\r\n  display: flex;\r\n  flex-flow: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  margin: 24px 0 16px;\r\n`;\r\n\r\nconst EditWeekWrapper = styled(Link)`\r\n  border-radius: 16px;\r\n  padding: 8px 16px;\r\n  background-color: #ffd873;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  text-transform: lowercase;\r\n`;\r\n\r\nconst ActivitiesWrapper = styled(FlexColumn)`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst Note = styled(TextareaAutosize)`\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  padding: 16px 8px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst NoteLabel = styled.p`\r\n  margin: 0;\r\n  margin-bottom: 8px;\r\n  margin-top: 24px;\r\n  font-size: 20px;\r\n  font-family: \"Rubik\", sans-serif;\r\n`;\r\n\r\nfunction WeekDetail({ firebase, authUser, match }) {\r\n  const { addToast } = useToasts();\r\n  const [note, setNote] = useState(null);\r\n\r\n  const id = match.params.id;\r\n  const [weekDoc, loading, error] = useCollection(firebase.week(id));\r\n  const week = weekDoc && {\r\n    ...weekDoc.data(),\r\n    id: weekDoc.id\r\n  };\r\n\r\n  const isCurrent = week ? isCurrentWeek(week) : false;\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!week) {\r\n    return <p>Week with this id does not exits</p>;\r\n  }\r\n\r\n  const { activities, workouts } = week;\r\n  let currentDay = \"\";\r\n  const sortedWorkouts =\r\n    workouts &&\r\n    workouts.sort((a, b) =>\r\n      moment(a.day, \"DD.MM.YYYY\").diff(moment(b.day, \"DD.MM.YYYY\"))\r\n    );\r\n\r\n  const deleteWorkoutFromWeek = index => {\r\n    doRemoveWorkout(firebase, authUser, week, index);\r\n  };\r\n\r\n  const saveNote = () => {\r\n    doSaveCurrentWeeksNote(firebase, authUser, week, note || week.note);\r\n    addToast(\"Your note was automatically saved\", {\r\n      appearance: \"success\",\r\n      autoDismiss: true\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <WeekInfo week={week} />\r\n      {(note || week.note || isCurrent) && (\r\n        <>\r\n          <NoteLabel>Notes</NoteLabel>\r\n          <Note\r\n            rows={3}\r\n            disabled={!isCurrent}\r\n            onBlur={saveNote}\r\n            placeholder=\"Write your notes here about this week's progress\"\r\n            value={note || week.note}\r\n            onChange={e => setNote(e.target.value)}\r\n          />\r\n        </>\r\n      )}\r\n      <WorkoutPlanTitle>\r\n        Workout plan{\" \"}\r\n        <EditWeekWrapper\r\n          to={{\r\n            pathname: \"/weeks-plan\",\r\n            state: {\r\n              isNextWeek: false,\r\n              weekActivities: week.activities,\r\n              weekId: week.id,\r\n              workouts: week.workouts\r\n            }\r\n          }}\r\n        >\r\n          Edit\r\n        </EditWeekWrapper>\r\n      </WorkoutPlanTitle>\r\n      <ActivitiesWrapper>\r\n        {activities &&\r\n          activities.map((activity, i) => {\r\n            return <WorkoutPlanItem key={i} activity={activity} />;\r\n          })}\r\n      </ActivitiesWrapper>\r\n      <AddWorkoutTitle\r\n        title=\"Workouts\"\r\n        week={week}\r\n        noMarginBottom={!(workouts && workouts.length > 0)}\r\n        isWeekDetail={true}\r\n      />\r\n      {sortedWorkouts && sortedWorkouts.length > 0 ? (\r\n        sortedWorkouts.map((workout, i) => {\r\n          const previousDay = currentDay;\r\n          currentDay = workout.day;\r\n          const nextWorkout = workouts[i + 1];\r\n          let lastDay = false;\r\n          if (nextWorkout) {\r\n            lastDay = nextWorkout.day !== currentDay;\r\n          }\r\n          const first = previousDay !== currentDay;\r\n          return (\r\n            <WorkoutItem\r\n              i={i}\r\n              last={i === workouts.length - 1}\r\n              key={i}\r\n              workout={workout}\r\n              first={first}\r\n              lastDay={lastDay}\r\n              isCurrent={isCurrent}\r\n              deleteWorkout={() => deleteWorkoutFromWeek(i)}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <NoResultsFound>\r\n          You have not completed any workouts this week\r\n        </NoResultsFound>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withAuthorization(\r\n  withFirebase(withAuthUser(withRouter(WeekDetail)))\r\n);\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nfunction ScrollToTop({\r\n  children,\r\n  location: { pathname },\r\n  history: { action }\r\n}) {\r\n  useEffect(() => {\r\n    if (action !== \"POP\") {\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  }, [pathname, action]);\r\n\r\n  return children || null;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React, { useState } from \"react\";\r\nimport { FlexColumn, FlexRow } from \"../components/defaults/Flex\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  getTotalHoursAndDistance,\r\n  getTotalPlannedHoursAndDistance,\r\n  getTotalStatsForSports\r\n} from \"../stats-utils\";\r\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\nimport Select from \"../components/defaults/Select\";\r\nimport { workoutTypes } from \"../constants\";\r\nimport { withAuthorization } from \"../components/Firebase/Session\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { withFirebase } from \"../components/Firebase\";\r\nimport { NoResultsFound } from \"./Weeks\";\r\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\r\nimport { getNextWeekFromToDates } from \"../utils\";\r\nimport { Loader } from \"../components/defaults/Loader\";\r\n\r\nconst TitleAll = styled.h2`\r\n  margin: 0;\r\n  margin-bottom: 24px;\r\n  text-align: center;\r\n  font-size: 20px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst ProgressWrapper = styled.div`\r\n  border-radius: 24px;\r\n  padding: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst CircleProgressWrapper = styled.div`\r\n  width: 96px;\r\n  margin: 0 auto;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst StatsWrapper = styled(FlexColumn)`\r\n  background: ${({ color }) => color};\r\n  border-radius: 24px;\r\n  padding-top: 24px;\r\n  padding-bottom: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  color: #444444;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  margin: 0;\r\n  margin-bottom: 16px;\r\n  letter-spacing: 0.0625em;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst TotalWrapper = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\n// const ResetStatsButton = styled(PrimaryButton)`\r\n//   background-color: #dc9987cc;\r\n// `;\r\n\r\nconst Value = styled.p`\r\n  font-weight: 700;\r\n  font-size: 26px;\r\n  margin: 0;\r\n  color: #444444;\r\n`;\r\n\r\nconst Type = styled.p`\r\n  font-size: 16px;\r\n  margin: 0;\r\n  margin-left: 8px;\r\n  color: #444444;\r\n  opacity: 0.7;\r\n  margin-bottom: 2px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst ValueWrapper = styled(FlexRow)`\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst NavItems = styled(FlexRow)`\r\n  justify-content: space-around;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst NavItem = styled.div`\r\n  cursor: pointer;\r\n  font-family: \"Lato\", sans-serif;\r\n  color: ${({ active }) => (active ? \"#444444\" : \"gray\")};\r\n  font-weight: ${({ active }) => (active ? 700 : 400)};\r\n  font-size: 18px;\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    background: ${({ active }) => (active ? \"#ffd873\" : \"white\")};\r\n    position: absolute;\r\n    bottom: -8px;\r\n    right: 0;\r\n    height: 3px;\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nfunction Stats({ firebase, authUser }) {\r\n  const [tab, setTab] = useState(\"all\");\r\n  const [activity, setActivity] = useState(\"Running\");\r\n\r\n  const [weeksDoc, loading, error] = useCollection(\r\n    firebase\r\n      .weeks()\r\n      .where(\"user_id\", \"==\", authUser ? authUser.uid : 0)\r\n      .where(\"from_date\", \"<\", getNextWeekFromToDates().from_date)\r\n  );\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!weeksDoc) {\r\n    return (\r\n      <NoResultsFound>{\"You don't have any available data\"}</NoResultsFound>\r\n    );\r\n  }\r\n\r\n  const weeks = weeksDoc && weeksDoc.docs.map(d => ({ ...d.data(), id: d.id }));\r\n\r\n  const workouts = [];\r\n  const activities = [];\r\n  weeks.map(w => w.workouts && w.workouts.map(w => workouts.push(w)));\r\n  weeks.map(w => w.activities && w.activities.map(a => activities.push(a)));\r\n\r\n  const { totalHours, totalDistance } = getTotalHoursAndDistance(workouts);\r\n  const {\r\n    totalPlannedHours,\r\n    totalPlannedDistance\r\n  } = getTotalPlannedHoursAndDistance(activities);\r\n  const {\r\n    totalHours: totalSportHours,\r\n    totalDistance: totalSportDistance,\r\n    totalPlannedHours: totalSportPlannedHours,\r\n    totalPlannedDistance: totalSportPlannedDistance\r\n  } = getTotalStatsForSports(workouts, activities, activity);\r\n\r\n  return (\r\n    <>\r\n      <NavItems>\r\n        <NavItem onClick={() => setTab(\"all\")} active={tab === \"all\"}>\r\n          Overall\r\n        </NavItem>\r\n        <NavItem onClick={() => setTab(\"sport\")} active={tab === \"sport\"}>\r\n          By sport\r\n        </NavItem>\r\n      </NavItems>\r\n      {tab === \"all\" && (\r\n        <>\r\n          <ProgressWrapper>\r\n            <TitleAll>Overall progress</TitleAll>\r\n            <CircleProgressWrapper>\r\n              {/* <ChangingProgressProvider values={[0, 20, 40, 60, 80, 100]}> */}\r\n              <CircularProgressbar\r\n                value={60}\r\n                text={`${60}%`}\r\n                background={true}\r\n                styles={buildStyles({\r\n                  textColor: \"#444444\",\r\n                  pathColor: \"#689f38cf\",\r\n                  trailColor: \"#ccc\",\r\n                  textSize: \"20px\",\r\n                  pathTransitionDuration: 0.5,\r\n                  backgroundColor: \"white\"\r\n                })}\r\n              />\r\n              {/* </ChangingProgressProvider> */}\r\n            </CircleProgressWrapper>\r\n          </ProgressWrapper>\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalHours}</Value>\r\n                <Type>{totalHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedHours}</Value>\r\n                <Type>{totalPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          {/* <ResetStatsButton\r\n            onClick={e => {\r\n              if (\r\n                window.confirm(\"Are you sure you want to delete all workouts?\")\r\n              ) {\r\n                clearLocalStorage(e);\r\n              }\r\n            }}\r\n          >\r\n            Delete all workouts\r\n          </ResetStatsButton> */}\r\n        </>\r\n      )}\r\n      {tab === \"sport\" && (\r\n        <>\r\n          <Select\r\n            value={activity}\r\n            options={workoutTypes}\r\n            onChange={e => setActivity(e.target.value)}\r\n          />\r\n          <br />\r\n          <StatsWrapper color={\"#689f3842\"}>\r\n            <Title>Completed</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportHours}</Value>\r\n                <Type>{totalSportHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n          <StatsWrapper color={\"#ffd87359\"}>\r\n            <Title>Planned</Title>\r\n            <TotalWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedHours}</Value>\r\n                <Type>{totalSportPlannedHours < 2 ? \"hour\" : \"hours\"}</Type>\r\n              </ValueWrapper>\r\n              <ValueWrapper>\r\n                <Value>{totalSportPlannedDistance}</Value>\r\n                <Type>km</Type>\r\n              </ValueWrapper>\r\n            </TotalWrapper>\r\n          </StatsWrapper>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuthUser(withFirebase(withAuthorization(Stats)));\r\n","export function getTotalHoursAndDistance(workouts) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n\r\n  workouts &&\r\n    workouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance: totalDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalPlannedHoursAndDistance(activities) {\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  activities &&\r\n    activities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance: totalPlannedDistance.toFixed(0)\r\n  };\r\n}\r\n\r\nexport function getTotalStatsForSports(workouts, activities, sport) {\r\n  let totalSeconds = 0;\r\n  let totalDistance = 0;\r\n  let totalPlannedSeconds = 0;\r\n  let totalPlannedDistance = 0;\r\n\r\n  const sportWorkouts = workouts.filter(\r\n    w => w.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n  const sportActivities = activities.filter(\r\n    a => a.type.toLowerCase() === sport.toLowerCase()\r\n  );\r\n\r\n  sportWorkouts &&\r\n    sportWorkouts.forEach(workout => {\r\n      const { minutes, seconds, distance } = workout;\r\n      totalSeconds += minutes * 60 + seconds;\r\n      totalDistance += distance;\r\n    });\r\n\r\n  sportActivities &&\r\n    sportActivities.forEach(activity => {\r\n      const { minutes, distance } = activity;\r\n      totalPlannedSeconds += minutes * 60;\r\n      totalPlannedDistance += distance;\r\n    });\r\n\r\n  return {\r\n    totalHours: (totalSeconds / 3600).toFixed(0),\r\n    totalDistance,\r\n    totalPlannedHours: (totalPlannedSeconds / 3600).toFixed(0),\r\n    totalPlannedDistance\r\n  };\r\n}\r\n","import React from \"react\";\nimport { withFirebase } from \"../Firebase\";\nimport Input from \"../defaults/Input\";\nimport { ErrorMessage, StyledPrimaryButton, Title } from \"./SignUp\";\nimport { useSubmitForm } from \"../../hooks\";\nimport { FlexColumn } from \"../defaults/Flex\";\nimport { Loader } from \"../defaults/Loader\";\n\nfunction PasswordForgetForm({ firebase }) {\n  const onSubmit = event => {\n    firebase\n      .doPasswordReset(inputs.email)\n      .then(() => {\n        resetInputs();\n      })\n      .catch(error => {\n        setError(error);\n      });\n  };\n\n  const {\n    resetInputs,\n    inputs,\n    handleInputChange,\n    handleSubmit,\n    error,\n    setError,\n    isSubmitted\n  } = useSubmitForm(onSubmit);\n\n  const { email } = inputs;\n  const isInvalid = !email || email === \"\";\n\n  return (\n    <FlexColumn>\n      <Title>Reset your password</Title>\n\n      <form onSubmit={handleSubmit}>\n        <Input\n          name=\"email\"\n          value={inputs.email || \"\"}\n          onChange={handleInputChange}\n          type=\"email\"\n          label=\"Email\"\n          required={true}\n        />\n        {error && <ErrorMessage>{error.message}</ErrorMessage>}\n        <StyledPrimaryButton disabled={isInvalid} type=\"submit\">\n          {isSubmitted ? <Loader /> : \"Reset My Password\"}\n        </StyledPrimaryButton>\n      </form>\n    </FlexColumn>\n  );\n}\n\nconst PasswordForgetPage = withFirebase(PasswordForgetForm);\n\nexport default PasswordForgetPage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst BackHomeLink = styled(Link)`\n  text-decoration: underline;\n`;\n\nfunction NotFound() {\n  return (\n    <div>\n      Page not found. <br />{\" \"}\n      <BackHomeLink to=\"/\">Go back to homepage</BackHomeLink>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FlexColumn } from \"../components/defaults/Flex\";\nimport { PrimaryLink } from \"../components/defaults/Buttons\";\nimport withAuthUser from \"../components/Firebase/Session/withAuthUser\";\nimport { Loader } from \"../components/defaults/Loader\";\n\nconst Wrapper = styled(FlexColumn)``;\n\nconst BackHomeLink = styled(PrimaryLink)`\n  margin-top: 24px;\n  font-size: 22px;\n`;\n\nconst Features = styled.ol`\n  padding-left: 0;\n  list-style: none;\n  counter-reset: my-awesome-counter;\n\n  & li {\n    counter-increment: my-awesome-counter;\n    margin: 0;\n    margin-bottom: 16px;\n  }\n\n  & li::before {\n    content: counter(my-awesome-counter);\n    background: #ffd873;\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    display: inline-block;\n    line-height: 2.5rem;\n    color: #444444;\n    font-weight: 700;\n    text-align: center;\n    margin-right: 0.5rem;\n  }\n\n  & li > p {\n    margin: 0;\n    margin-left: 22px;\n    padding: 16px 16px 14px 16px;\n    margin-top: -16px;\n    border: 1px solid #ffd873;\n    border-radius: 16px;\n    font-size: 18px;\n  }\n`;\n\nconst MainText = styled.p`\n  margin: 16px 0;\n  font-size: 20px;\n  padding: 0 8px;\n`;\n\nconst FeaturesTitle = styled.h2`\n  text-align: center;\n  margin-bottom: 8px;\n  font-size: 28px;\n`;\n\nfunction Home({ authUser, isUserLoaded }) {\n  if (!isUserLoaded) {\n    return <Loader />;\n  }\n\n  if (authUser) {\n    return <Redirect to=\"/weeks\" />;\n  }\n\n  return (\n    <Wrapper>\n      <MainText>\n        Gymmie is an app for easily tracking your workouts and trainings.\n      </MainText>\n      <FeaturesTitle>Features</FeaturesTitle>\n      <Features>\n        <li>\n          <p>{\"Plan your next workouts\"}</p>\n        </li>\n        <li>\n          <p>Track your progress</p>\n        </li>\n        <li>\n          <p>Get general stats from your workouts</p>\n        </li>\n      </Features>\n      <BackHomeLink to=\"/sign-in\">Sign in</BackHomeLink>\n    </Wrapper>\n  );\n}\n\nexport default withAuthUser(Home);\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport SignInPage from \"./components/Firebase/SignIn\";\r\nimport SignUpPage from \"./components/Firebase/SignUp\";\r\nimport WeeksPlan from \"./routes/WeeksPlan\";\r\nimport WeekDetail from \"./routes/WeekDetail\";\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport styled from \"styled-components\";\r\nimport Stats from \"./routes/Stats\";\r\nimport Weeks from \"./routes/Weeks\";\r\nimport PasswordForgetPage from \"./components/Firebase/PasswordForget\";\r\nimport NotFound from \"./routes/NotFound\";\r\nimport Home from \"./routes/Home\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  margin-bottom: 36px;\r\n`;\r\n\r\nfunction Routes({ isUserLoaded }) {\r\n  return (\r\n    <ScrollToTop>\r\n      <Wrapper>\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            component={() => <Home isUserLoaded={isUserLoaded} />}\r\n          />\r\n          <Route path=\"/weeks\" exact component={() => <Weeks />} />\r\n          <Route path=\"/sign-in\" exact component={() => <SignInPage />} />\r\n          <Route path=\"/sign-up\" exact component={() => <SignUpPage />} />\r\n          <Route\r\n            path=\"/password-forget\"\r\n            exact\r\n            component={() => <PasswordForgetPage />}\r\n          />\r\n          <Route path=\"/weeks-plan\" exact component={() => <WeeksPlan />} />\r\n          <Route path=\"/week/:id\" exact component={() => <WeekDetail />} />\r\n          <Route path=\"/stats\" exact component={() => <Stats />} />\r\n          <Route path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </Wrapper>\r\n    </ScrollToTop>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport StyledTitle from \"./components/StyledTitle\";\nimport GlobalStyles from \"./globalStyles\";\nimport Navigation from \"./components/Navigation\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Firebase, { FirebaseContext } from \"./components/Firebase\";\nimport Routes from \"./router\";\nimport { withAuthentication } from \"./components/Firebase/Session\";\n\nfunction App({ isUserLoaded }) {\n  return (\n    <>\n      <GlobalStyles />\n      <StyledTitle />\n      <Navigation />\n      <Routes isUserLoaded={isUserLoaded} />\n    </>\n  );\n}\n\nconst WithAuthApp = withAuthentication(App);\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <ToastProvider placement=\"bottom-center\">\n      <Router>\n        <WithAuthApp />\n      </Router>\n    </ToastProvider>\n  </FirebaseContext.Provider>,\n  rootElement\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}